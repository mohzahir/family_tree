(function($){"use strict";$(document).ready(function(){if($.fn.masonry&&$.fn.imagesLoaded){$('.lsvr-is-masonry').each(function(){var $this=$(this),isRTL=$('html').attr('dir')&&'rtl'===$('html').attr('dir')?true:false;$this.imagesLoaded(function(){$this.masonry({isRTL:isRTL})})})}$('.header-menu-primary').each(function(){var $this=$(this),expandPopupLabel=$this.data('label-expand-popup'),collapsePopupLabel=$this.data('label-collapse-popup');var resetMenu=function(){$this.find('.header-menu-primary__item').removeClass('header-menu-primary__item--hover header-menu-primary__item--active');$this.find('.header-menu-primary__item-link').attr('aria-expanded',false);$this.find('.header-menu-primary__submenu-wrapper').removeClass('header-menu-primary__submenu-wrapper--hover').removeAttr('style').attr('aria-expanded',false);$this.find('.header-menu-primary__submenu-toggle').removeClass('header-menu-primary__submenu-toggle--active').attr('title',expandPopupLabel).attr('aria-expanded',false)};var initMobile=function(){$this.find('.header-menu-primary__item-link').each(function(){if($(this).attr('aria-controls')){$(this).attr('data-aria-controls',$(this).attr('aria-controls')).removeAttr('aria-controls').removeAttr('aria-owns').removeAttr('aria-haspopup').removeAttr('aria-expanded')}})};var initDesktop=function(){$this.find('.header-menu-primary__item-link').each(function(){if($(this).attr('data-aria-controls')){$(this).attr('aria-controls',$(this).attr('data-aria-controls')).attr('aria-owns',$(this).attr('data-aria-controls')).attr('aria-haspopup',true).attr('aria-expanded',false)}})};if($.fn.lsvrLineagoGetMediaQueryBreakpoint()<1200){initMobile()}$this.find('.header-menu-primary__submenu-wrapper').each(function(){var $submenu=$(this),$parent=$submenu.parent(),$toggle=$parent.find('> .header-menu-primary__submenu-toggle'),$link=$parent.find('> .header-menu-primary__item-link');var desktopShowSubmenu=function(){$submenu.stop().fadeIn(100);$submenu.addClass('header-menu-primary__submenu-wrapper--hover');$submenu.attr('aria-expanded',true);$parent.addClass('header-menu-primary__item--hover');$link.attr('aria-expanded',true)};var desktopHideSubmenu=function(){$submenu.stop().fadeOut(200);$submenu.removeClass('header-menu-primary__submenu-wrapper--hover');$submenu.attr('aria-expanded',false);$parent.removeClass('header-menu-primary__item--hover');$link.attr('aria-expanded',false)};var mobileShowSubmenu=function(){$submenu.slideDown(150);$submenu.attr('aria-expanded',true);$parent.addClass('header-menu-primary__item--active');$toggle.attr('title',collapsePopupLabel).attr('aria-expanded',true)};var mobileHideSubmenu=function(){$submenu.slideUp(150);$submenu.attr('aria-expanded',false);$parent.removeClass('header-menu-primary__item--active');$toggle.attr('title',expandPopupLabel).attr('aria-expanded',false)};var resetSiblings=function(){$parent.siblings('.header-menu-primary__item.header-menu-primary__item--hover').each(function(){$(this).removeClass('header-menu-primary__item--hover');$(this).find('.header-menu-primary__item--hover').removeClass('header-menu-primary__item--hover');$(this).find('.header-menu-primary__item-link').attr('aria-expanded',false);$(this).find('.header-menu-primary__submenu-wrapper').removeAttr('style').attr('aria-expanded',false)})};if($submenu.hasClass('header-menu-primary__submenu-wrapper--level-0')||$submenu.hasClass('header-menu-primary__submenu-wrapper--level-1')){$parent.on('mouseover focus',function(){if($.fn.lsvrLineagoGetMediaQueryBreakpoint()>1199){desktopShowSubmenu()}});$parent.on('mouseleave blur',function(){if($.fn.lsvrLineagoGetMediaQueryBreakpoint()>1199){desktopHideSubmenu()}});$link.on('touchstart',function(){if($.fn.lsvrLineagoGetMediaQueryBreakpoint()>1199&&!$parent.hasClass('header-menu-primary__item--hover')){resetSiblings();desktopShowSubmenu();$('html').on('touchstart.lsvrLineagoHeaderMenuPrimaryCloseSubmenuOnClickOutside',function(e){if(!$(e.target).closest('.header-menu-primary').length&&$.fn.lsvrLineagoGetMediaQueryBreakpoint()>1199){desktopHideSubmenu();$('html').unbind('touchstart.lsvrLineagoHeaderMenuPrimaryCloseSubmenuOnClickOutside')}});return false}});$link.on('click',function(){if($.fn.lsvrLineagoGetMediaQueryBreakpoint()>1199&&!$parent.hasClass('header-menu-primary__item--hover')){resetSiblings();desktopShowSubmenu();return false}})}$toggle.on('click',function(){$toggle.toggleClass('header-menu-primary__submenu-toggle--active');if($toggle.hasClass('header-menu-primary__submenu-toggle--active')){mobileShowSubmenu()}else{mobileHideSubmenu()}})})});$('.header-search').each(function(){var $popup=$(this),$toggle=$('.header-search-toggle'),$closeBtn=$('.header-search-close'),$form=$popup.find('.header-search__form'),$input=$popup.find('.header-search__input'),expandPopupLabel=$toggle.data('label-expand-popup'),submitSearchLabel=$toggle.data('label-submit-search');var closeSearch=function(){$toggle.removeClass('header-search-toggle--active').attr('title',expandPopupLabel).attr('aria-expanded',false);$popup.removeClass('header-search--active').attr('aria-expanded',false);$closeBtn.removeClass('header-search-close--active')};$toggle.on('click',function(){$(this).toggleClass('header-search-toggle--active');if($toggle.hasClass('header-search-toggle--active')){$popup.addClass('header-search--active');$closeBtn.addClass('header-search-close--active');$input.focus();$toggle.attr('title',submitSearchLabel).attr('aria-expanded',true);$popup.attr('aria-expanded',true)}else{$form.submit()}});$closeBtn.on('click',function(){closeSearch()});$(document).on('click.lsvrLineagoHeaderSearchClosePopupOnClickOutside',function(e){if($popup.is(':visible')){if(!$(e.target).closest('#header').length&&$.fn.lsvrLineagoGetMediaQueryBreakpoint()>1199){closeSearch()}}});$(document).on('keyup.lsvrLineagoHeaderSearchClosePopupOnEscKey',function(e){if(e.key==="Escape"&&$.fn.lsvrLineagoGetMediaQueryBreakpoint()>1199){closeSearch()}});$(document).on('lsvrLineagoScreenTransition',function(){$popup.removeClass('header-search--active').attr('aria-expanded',false);$toggle.removeClass('header-search-toggle--active').attr('title',expandPopupLabel).attr('aria-expanded',false);$(document).off('click.lsvrLineagoHeaderSearchClosePopupOnClickOutside')})});$('#header').each(function(){var $header=$(this),$navbar=$('.header-navbar'),$navbarToggle=$('.header-navbar-toggle'),scrollTop=0;var stickyNavbarToggle=function(){if($navbarToggle.length>0&&!$navbarToggle.hasClass('header-navbar-toggle--offscreen')&&$(window).scrollTop()>$header.outerHeight()){$navbarToggle.addClass('header-navbar-toggle--offscreen')}if($navbarToggle.length>0&&$navbarToggle.hasClass('header-navbar-toggle--sticky')&&$(window).scrollTop()>$header.outerHeight()&&$(window).scrollTop()>scrollTop){$navbarToggle.removeClass('header-navbar-toggle--sticky')}else if($navbarToggle.length>0&&!$navbarToggle.hasClass('header-navbar-toggle--sticky')&&$(window).scrollTop()>$header.outerHeight()&&$(window).scrollTop()<scrollTop){$navbarToggle.addClass('header-navbar-toggle--sticky')}else if($navbarToggle.length>0&&$navbarToggle.hasClass('header-navbar-toggle--sticky')&&$(window).scrollTop()<=$header.outerHeight()){$navbarToggle.removeClass('header-navbar-toggle--sticky header-navbar-toggle--offscreen')}scrollTop=$(window).scrollTop()};$(window).on('scroll',function(){if($.fn.lsvrLineagoGetMediaQueryBreakpoint()<1200){stickyNavbarToggle()}});var showNavbar=function(){$('body').addClass('lsvr-scrolling-disabled');$navbar.data('aria-expanded','true');$navbarToggle.attr('aria-expanded','true');$navbarToggle.attr('title',$navbarToggle.data('label-collapse-popup'));$navbar.addClass('header-navbar-toggle--animation');$navbar.show(0,function(){$navbar.addClass('header-navbar--active')});setTimeout(function(){$navbar.removeClass('header-navbar-toggle--animation')},550)};var hideNavbar=function(){$navbar.removeClass('header-navbar--active');$navbar.attr('aria-expanded','false');$navbarToggle.attr('aria-expanded','false');$navbarToggle.attr('title',$navbarToggle.data('label-expand-popup'));$navbar.addClass('header-navbar-toggle--animation');setTimeout(function(){$('body').removeClass('lsvr-scrolling-disabled');$navbar.hide();$navbar.removeClass('header-navbar-toggle--animation')},550)};$navbarToggle.on('click',function(){if(!$navbar.hasClass('header-navbar-toggle--animation')){$navbarToggle.toggleClass('header-navbar-toggle--active');if($navbarToggle.hasClass('header-navbar-toggle--active')){showNavbar()}else{hideNavbar()}}});$(document).on('lsvrLineagoScreenTransition',function(){$('body').removeClass('lsvr-scrolling-disabled');$navbar.removeAttr('style');$navbar.removeClass('header-navbar--active');$navbarToggle.removeClass('header-navbar-toggle--sticky header-navbar-toggle--active');$navbarToggle.attr('aria-expanded','false');$navbarToggle.attr('title',$navbarToggle.data('label-expand-popup'))})});$('.core-header-search__form').each(function(){var $form=$(this),$input=$form.find('.core-header-search__input');$form.find('.core-header-search__filter-item').each(function(){$(this).on('click',function(){if(!$(this).hasClass('core-header-search__filter-item--active')){$form.find('.core-header-search__filter-item--active').removeClass('core-header-search__filter-item--active');$(this).addClass('core-header-search__filter-item--active');$form.attr('action',$(this).data('form-action'));$input.attr('name',$(this).data('input-name'))}})})});if($.fn.imagesLoaded){$('.core-header__bg--loading').each(function(){var $this=$(this);$this.imagesLoaded(function(){$this.removeClass('core-header__bg--loading')})})}$('.header-navbar__inner').on('mouseover',function(){$('.core-header__bg').addClass('core-header__bg--hover')});$('.header-navbar__inner').on('mouseout',function(){$('.core-header__bg').removeClass('core-header__bg--hover')});$('.lsvr_family_member-single .post__container').each(function(){var $container=$(this),$containerInner=$container.find('.post__container-inner'),$toggle=$container.find('.post__container-toggle'),$toggleLabel=$container.find('.post__container-toggle-label'),expandPopupLabel=$toggle.data('label-expand-popup'),collapsePopupLabel=$toggle.data('label-collapse-popup');$toggle.on('click',function(){$container.toggleClass('post__container--active');$containerInner.slideToggle(200,function(){if($.fn.masonry&&$.fn.imagesLoaded){$containerInner.filter(':visible').find('.lsvr-is-masonry').each(function(){var $this=$(this),isRTL=$('html').attr('dir')&&'rtl'===$('html').attr('dir')?true:false;$this.imagesLoaded(function(){$this.masonry({isRTL:isRTL})})})}});if($container.hasClass('post__container--active')){$toggle.addClass('post__container-toggle--active');$toggleLabel.text(collapsePopupLabel);$toggle.attr('data-aria-expanded','true');$containerInner.attr('data-aria-expanded','true')}else{$toggle.removeClass('post__container-toggle--active');$toggleLabel.text(expandPopupLabel);$toggle.attr('data-aria-expanded','false');$containerInner.attr('data-aria-expanded','false')}})});$('.family-tree').each(function(){var $tree=$(this),ajaxRequest;var ajaxAddBranch=function(postId,$parentCard,$parentBranch,relatedPostId=false,relatedPostType=false){if(typeof lsvr_lineago_main_scripts_ajax_var!=='undefined'){if('undefined'!==typeof ajaxRequest){ajaxRequest.abort()}ajaxRequest=jQuery.ajax({type:'post',dataType:'HTML',url:lsvr_lineago_main_scripts_ajax_var.url,data:{action:'lsvr-lineago-ajax-family-tree',nonce:encodeURIComponent(lsvr_lineago_main_scripts_ajax_var.nonce),query:[postId,relatedPostId,relatedPostType]},success:function(response){response.trim();if(''!==response){var $response=$($.trim(response)),$newBranch=$response.filter('.family-tree__branch');if($newBranch.length>0){$newBranch.hide();$parentBranch.nextAll().each(function(){$(this).remove()});$parentBranch.after($newBranch);$newBranch=$parentBranch.next();$newBranch.fadeIn(1000);$parentBranch.find('.family-tree__card--active').removeClass('family-tree__card--active');$parentCard.not('.family-tree__card--root').addClass('family-tree__card--active');if(parseInt($newBranch.attr('data-cols-num'))>parseInt($tree.attr('data-cols-num'))){$tree.removeClass('family-tree--1-cols family-tree--2-cols family-tree--3-cols family-tree--4-cols');$tree.addClass('family-tree--'+$newBranch.attr('data-cols-num')+'-cols');$tree.attr('data-cols-num',$newBranch.attr('data-cols-num'))}initBranch($newBranch);scrollToElement($newBranch);$tree.removeClass('family-tree--loading');$parentCard.removeClass('family-tree__card--loading');$parentBranch.removeClass('family-tree__branch--loading')}}}})}};var branch=function(postId,$parentCard,$parentBranch,relatedPostId,relatedPostType){if(!$tree.hasClass('family-tree--loading')){if($tree.find('.family-tree__branch[data-root-id="'+postId+'"]').length>0){scrollToElement($tree.find('.family-tree__branch[data-root-id="'+postId+'"]'))}else{$tree.addClass('family-tree--loading');$parentCard.addClass('family-tree__card--loading');$parentBranch.addClass('family-tree__branch--loading');ajaxAddBranch(postId,$parentCard,$parentBranch,relatedPostId,relatedPostType)}}};var scrollToElement=function($element,offset=30){$('html').animate({scrollTop:$element.offset().top-offset},500)};var initBranch=function($branch){var branchBtns=$branch.find('.family-tree__card-option--branch');branchBtns.each(function(){$(this).on('click',function(e){var $parentBranch=$(this).parents('.family-tree__branch').first(),$parentCard=$(this).parents('.family-tree__card').first(),postId=$parentCard.attr('data-post-id'),relatedPostId=$parentBranch.attr('data-root-id'),relatedPostType=$parentCard.attr('data-card-type');branch(postId,$parentCard,$parentBranch,relatedPostId,relatedPostType);e.preventDefault()})})};$tree.find('.family-tree__branch').each(function(){initBranch($(this))})});$('.footer-collage').each(function(){var $block=$(this);if($.fn.imagesLoaded){$block.find('.footer-collage__grid .footer-collage__grid-item-link--loading').each(function(){var $image=$(this);$image.imagesLoaded(function(){$image.removeClass('footer-collage__grid-item-link--loading')})})}});$('.lineago-collage').each(function(){var $block=$(this);if($.fn.imagesLoaded){$block.find('.lineago-collage__grid .lineago-collage__grid-item-link--loading').each(function(){var $image=$(this);$image.imagesLoaded(function(){$image.removeClass('lineago-collage__grid-item-link--loading')})})}});if($.fn.magnificPopup){if('undefined'!==typeof lsvr_lineago_js_labels&&lsvr_lineago_js_labels.hasOwnProperty('magnific_popup')){var js_strings=lsvr_lineago_js_labels.magnific_popup;$.extend(true,$.magnificPopup.defaults,{tClose:js_strings.mp_tClose,tLoading:js_strings.mp_tLoading,gallery:{tPrev:js_strings.mp_tPrev,tNext:js_strings.mp_tNext,tCounter:'%curr% / %total%'},image:{tError:js_strings.mp_image_tError},ajax:{tError:js_strings.mp_ajax_tError}})}$('.lsvr-open-in-lightbox, body:not( .elementor-page ) .gallery .gallery-item a, .wp-block-gallery .blocks-gallery-item a').magnificPopup({type:'image',removalDelay:300,mainClass:'mfp-fade',gallery:{enabled:true}})}})})(jQuery);(function($){"use strict";if(!$.fn.lsvrLineagoGetMediaQueryBreakpoint){$.fn.lsvrLineagoGetMediaQueryBreakpoint=function(){if($('#lsvr-media-query-breakpoint').length<1){$('body').append('<span id="lsvr-media-query-breakpoint" style="display: none;"></span>')}var value=$('#lsvr-media-query-breakpoint').css('font-family');if(typeof value!=='undefined'){value=value.replace("\"","").replace("\"","").replace("\'","").replace("\'","")}if(isNaN(value)){return $(window).width()}else{return parseInt(value)}}}var lsvrLineagoMediaQueryBreakpoint;if($.fn.lsvrLineagoGetMediaQueryBreakpoint){lsvrLineagoMediaQueryBreakpoint=$.fn.lsvrLineagoGetMediaQueryBreakpoint();$(window).on('resize',function(){if($.fn.lsvrLineagoGetMediaQueryBreakpoint()!==lsvrLineagoMediaQueryBreakpoint){lsvrLineagoMediaQueryBreakpoint=$.fn.lsvrLineagoGetMediaQueryBreakpoint();$.event.trigger({type:'lsvrLineagoScreenTransition',message:'Screen transition completed.',time:new Date()})}})}else{lsvrLineagoMediaQueryBreakpoint=$(document).width()}})(jQuery);