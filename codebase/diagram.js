/*
@license

dhtmlxDiagram v.4.2.0 Evaluation

This software is covered by DHTMLX Evaluation License and purposed only for evaluation.
Contact sales@dhtmlx.com to get Commercial or Enterprise license.
Usage without proper license is prohibited.

(c) XB Software.

*/
if(window.dhx&&(window.dhx_legacy=dhx,delete window.dhx),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dhx=e():t.dhx=e()}(window,function(){return n={},o.m=i=[function(t,c,n){"use strict";(function(t){Object.defineProperty(c,"__esModule",{value:!0});var e=n(103);c.el=e.defineElement,c.sv=e.defineSvgElement,c.view=e.defineView,c.create=e.createView,c.inject=e.injectView,c.KEYED_LIST=e.KEYED_LIST;var d=["animate","animateMotion","animateTransform","circle","clipPath","color-profile","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tspan","unknown","use","view"];function i(i){function e(t){var e=t.el.offsetHeight,t=t.el.offsetWidth;i(t,e)}var n=window.ResizeObserver;return n?c.el("div.dhx-resize-observer",{_hooks:{didInsert:function(t){new n(function(){return e(t)}).observe(t.el)}}}):c.el("iframe.dhx-resize-observer",{_hooks:{didInsert:function(t){t.el.contentWindow.onresize=function(){return e(t)},e(t)}}})}c.disableHelp=function(){e.DEVMODE.mutations=!1,e.DEVMODE.warnings=!1,e.DEVMODE.verbose=!1,e.DEVMODE.UNKEYED_INPUT=!1},c.resizer=i,c.xmlToJson=function t(e){var i={};if(1===e.nodeType){if(0<e.attributes.length){i["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var o=e.attributes.item(n);i["@attributes"][o.nodeName]=o.nodeValue}}}else 3===e.nodeType&&(i=e.nodeValue);if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var a,s=e.childNodes.item(r),l=s.nodeName;void 0===i[l]?i[l]=t(s):(void 0===i[l].push&&(a=i[l],i[l]=[],i[l].push(a)),i[l].push(t(s)))}return i},c.jsonToVDOM=function t(e){var i,n,o=Object.keys(e)[0],r=e[o];Array.isArray(r["#text"])&&(r["#text"]=r["#text"].join("").trim());var a,s="string"==typeof r["#text"]?[r["#text"]]:[];for(a in r)if(r.hasOwnProperty(a)&&"@attributes"!==a&&"#text"!==a)if(Array.isArray(r[a]))for(var l in r[a])r[a].hasOwnProperty(l)&&s.push(t(((i={})[a]=r[a][l],i)));else s.push(t(((n={})[a]=r[a],n)));return d.includes(o)?c.sv(o,r["@attributes"]||{},s):c.el(o,r["@attributes"]||{},s)},c.resizeHandler=function(t,e){return c.create({render:function(){return i(e)}}).mount(t)},c.awaitRedraw=function(){return new t(function(t){requestAnimationFrame(function(){t()})})}}).call(this,n(14))},function(t,e,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=(new Date).valueOf();e.uid=function(){return"u"+r++},e.extend=function t(e,i,n){if(void 0===n&&(n=!0),i)for(var o in i){var r=i[o],a=e[o];void 0===r?delete e[o]:!n||"object"!=typeof a||a instanceof Date||a instanceof Array?e[o]=r:t(a,r)}return e},e.copy=function(t,e){var i,n={};for(i in t)e&&i.startsWith("$")||(n[i]=t[i]);return n},e.naturalSort=function(t){return t.sort(function(t,e){return"string"==typeof t?t.localeCompare(e):t-e})},e.findIndex=function(t,e){for(var i=t.length,n=0;n<i;n++)if(e(t[n]))return n;return-1},e.isEqualString=function(t,e){if(t=t.toString(),e=e.toString(),t.length>e.length)return!1;for(var i=0;i<t.length;i++)if(t[i].toLowerCase()!==e[i].toLowerCase())return!1;return!0},e.singleOuterClick=function(e){var i=function(t){e(t)&&document.removeEventListener("click",i)};document.addEventListener("click",i)},e.detectWidgetClick=function(e,i){function t(t){return i(n.locate(t,"dhx_widget_id")===e)}return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}},e.unwrapBox=function(t){return Array.isArray(t)?t[0]:t},e.wrapBox=function(t){return Array.isArray(t)?t:[t]},e.isDefined=function(t){return null!=t},e.range=function(t,e){if(e<t)return[];for(var i=[];t<=e;)i.push(t++);return i},e.isNumeric=function(t){return!isNaN(t-parseFloat(t))},e.downloadFile=function(t,e,i){void 0===i&&(i="text/plain");var n,o,i=new Blob([t],{type:i});window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(i,e):(n=document.createElement("a"),o=URL.createObjectURL(i),n.href=o,n.download=e,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(o)},0))},e.debounce=function(o,r,a){var s;return function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=a&&!s;clearTimeout(s),s=setTimeout(function(){s=null,a||o.apply(t,e)},r),n&&o.apply(this,e)}},e.compare=function t(e,i){for(var n in e){if(e.hasOwnProperty(n)!==i.hasOwnProperty(n))return!1;switch(typeof e[n]){case"object":if(!t(e[n],i[n]))return!1;break;case"function":if(void 0===i[n]||"compare"!==n&&e[n].toString()!==i[n].toString())return!1;break;default:if(e[n]!==i[n])return!1}}for(var n in i)if(void 0===e[n])return!1;return!0},e.isType=function(t){return((Object.prototype.toString.call(t).match(/^\[object (\S+?)\]$/)||[])[1]||"undefined").toLowerCase()},e.isEmptyObj=function(t){for(var e in t)return!1;return!0},e.getMaxArrayNymber=function(t){if(t.length){for(var e=-1/0,i=0,n=t.length;i<n;i++)t[i]>e&&(e=t[i]);return e}},e.getMinArrayNymber=function(t){if(t.length){for(var e=1/0,i=0,n=t.length;i<n;i++)t[i]<e&&(e=t[i]);return e}},e.getStringWidth=function(t,e){e=o({font:"normal 14px Roboto",lineHeight:20},e);var i=document.createElement("canvas"),n=i.getContext("2d");e.font&&(n.font=e.font);t=n.measureText(t).width;return i.remove(),t},e.isObject=function(t){return null!==t&&"object"==typeof t&&!(t instanceof Date)},e.rgbToHex=function(t){if("#"===t.substr(0,1))return t;t=/(.*?)rgb[a]?\((\d+), *(\d+), *(\d+),* *([\d+.]*)\)/.exec(t);return"#"+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[3],10).toString(16).padStart(2,"0")+parseInt(t[4],10).toString(16).padStart(2,"0")}},function(t,e,i){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function n(t,e,i){for(void 0===e&&(e="dhx_id"),void 0===i&&(i="target"),t instanceof Event&&(t=t[i]);t;){if(t.getAttribute&&t.getAttribute(e))return t;t=t.parentNode}}Object.defineProperty(e,"__esModule",{value:!0}),e.toNode=function(t){var e;return"string"==typeof t?document.getElementById(t)||document.querySelector(t)||(null===(e=document.querySelector("[dhx_root_id="+t+"]"))||void 0===e?void 0:e.parentElement)||document.body:t||document.body},e.eventHandler=function(a,s,l){var d=Object.keys(s);return function(t){var e=a(t);if(void 0!==e){var i=t.target;t:for(;i;){var n=i.getAttribute&&i.getAttribute("class")||"";if(n.length)for(var o=n.split(" "),r=0;r<d.length;r++)if(o.includes(d[r])){if(!1===s[d[r]](t,e))return!1;break t}i=i.parentNode}}return l&&l(t),!0}},e.locateNode=n,e.locate=function(t,e){return void 0===e&&(e="dhx_id"),(t=n(t,e))?t.getAttribute(e):""},e.locateNodeByClassName=function(t,e){for(t instanceof Event&&(t=t.target);t;){if(e){if(t.classList&&t.classList.contains(e))return t}else if(t.getAttribute&&t.getAttribute("dhx_id"))return t;t=t.parentNode}},e.getBox=function(t){var e=t.getBoundingClientRect(),i=document.body,n=window.pageYOffset||i.scrollTop,t=window.pageXOffset||i.scrollLeft;return{top:e.top+n,left:e.left+t,right:i.offsetWidth-e.right,bottom:i.offsetHeight-e.bottom,width:e.right-e.left,height:e.bottom-e.top}};var o=-1;e.getScrollbarWidth=function(){if(-1<o)return o;var t=document.createElement("div");return document.body.appendChild(t),t.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",o=t.offsetWidth-t.clientWidth,document.body.removeChild(t),o};var r=-1;function a(t){t=t.getBoundingClientRect();return{left:t.left+window.pageXOffset,right:t.right+window.pageXOffset,top:t.top+window.pageYOffset,bottom:t.bottom+window.pageYOffset}}function c(){return{rightBorder:window.pageXOffset+window.innerWidth,bottomBorder:window.pageYOffset+window.innerHeight}}function l(t,e){var i,n,o,r=c(),a=r.rightBorder,s=r.bottomBorder-t.bottom-e.height,l=t.top-e.height;if("bottom"===e.mode?0<=s?i=t.bottom:0<=l&&(i=l):0<=l?i=l:0<=s&&(i=t.bottom),s<0&&l<0){if(e.auto)return u(t,d(d({},e),{mode:"right",auto:!1}));i=l<s?t.bottom:l}return{left:e.centering?(n=t,o=e.width,r=a,s=(o-(n.right-n.left))/2,l=n.left-s,s=n.right+s,0<=l&&s<=r?l:l<0?0:r-o):(a=a-t.left-e.width,e=t.right-e.width,0<=a||!(0<=e)&&a<e?t.left:e),top:i}}function u(t,e){var i,n,o=c(),r=o.rightBorder,a=o.bottomBorder,s=r-t.right-e.width,o=t.left-e.width;if("right"===e.mode?0<=s?n=t.right:0<=o&&(n=o):0<=o?n=o:0<=s&&(n=t.right),o<0&&s<0){if(e.auto)return l(t,d(d({},e),{mode:"bottom",auto:!1}));n=s<o?o:t.right}return{left:n,top:e.centering?(s=t,i=e.height,o=r,n=(i-(s.bottom-s.top))/2,r=s.top-n,n=s.bottom+n,0<=r&&n<=o?r:r<0?0:o-i):(i=t.bottom-e.height,!(0<=(e=a-t.top-e.height))&&(0<i||e<i)?i:t.top)}}function s(t,e){var i=("bottom"===e.mode||"top"===e.mode?l:u)(t,e),t=i.left,i=i.top;return{left:Math.round(t)+"px",top:Math.round(i)+"px",minWidth:Math.round(e.width)+"px",position:"absolute"}}e.getScrollbarHeight=function(){if(-1<r)return r;var t=document.createElement("div");return document.body.appendChild(t),t.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",r=t.offsetHeight-t.clientHeight,document.body.removeChild(t),r},e.isIE=function(){var t=window.navigator.userAgent;return t.includes("MSIE ")||t.includes("Trident/")},e.isSafari=function(){function t(t){return t.test(window.navigator.userAgent)}var e=t(/Chrome/),i=t(/Firefox/);return!e&&!i&&t(/Safari/)},e.isFirefox=function(){function t(t){return t.test(window.navigator.userAgent)}var e=t(/Chrome/),i=t(/Safari/);return!e&&!i&&t(/Firefox/)},e.getRealPosition=a,e.calculatePosition=s,e.fitPosition=function(t,e){return s(a(t),e)},e.getStrSize=function(t,e){e=d({fontSize:"14px",fontFamily:"Arial",lineHeight:"14px",fontWeight:"normal",fontStyle:"normal"},e);var i=document.createElement("span"),n=e.fontSize,o=e.fontFamily,r=e.lineHeight,a=e.fontWeight,s=e.fontStyle,e=e.strokeWidth;return i.style.fontSize=n,i.style.fontFamily=o,i.style.lineHeight=r,i.style.fontWeight=a,i.style.fontStyle=s,i.style.display="inline-flex",i.innerText=t,document.body.appendChild(i),s=i.offsetWidth,t=i.clientHeight,document.body.removeChild(i),{width:s+parseFloat(e||0),height:t+parseFloat(e||0)}};var h=function(t){return t.href&&-1===t.ownerNode.outerHTML.indexOf(window.location.origin)&&(-1!==t.ownerNode.outerHTML.indexOf("http")||-1!==t.ownerNode.outerHTML.indexOf("https")||-1!==t.ownerNode.outerHTML.indexOf('href="//'))};e.getPageInlineCss=function(){for(var t=[],e=0;e<document.styleSheets.length;e++){var i=document.styleSheets[e];if(!h(i))for(var n=("cssRules"in i&&i.cssRules.length?i.cssRules:i.rules),o=0;o<n.length;o++){var r=n[o];"cssText"in r?t.push(r.cssText):t.push(r.selectorText+" {\n"+r.style.cssText+"\n}\n")}}return t.join("\n")},e.getPageLinksCss=function(t){var e=[];if(t)t.forEach(function(t){return e.push('<link href="'+t+'" rel="stylesheet"/>')});else for(var i=0;i<document.styleSheets.length;i++){var n=document.styleSheets[i];h(n)&&e.push('<link href="'+n.href+'" rel="stylesheet"/>')}return e.join("\n")},e.getLabelStyle=function(t){var e=t.helpMessage,i=t.type,n=t.labelWidth,o=t.label,r=n&&n.toString().startsWith("0"),t="text"!==i&&t.required;return!!(e||t||!(!o||o&&r)||n&&!r)&&{style:(o||n)&&!r&&{width:n,"max-width":"100%"},label:o&&r?null:o}}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.GridEvents||(e.GridEvents={})).scroll="scroll",n.expand="expand",n.filterChange="filterChange",n.beforeResizeStart="beforeResizeStart",n.resize="resize",n.afterResizeEnd="afterResizeEnd",n.cellClick="cellClick",n.cellRightClick="cellRightClick",n.cellMouseOver="cellMouseOver",n.cellMouseDown="cellMouseDown",n.cellDblClick="cellDblClick",n.headerCellClick="headerCellClick",n.footerCellClick="footerCellClick",n.headerCellMouseOver="headerCellMouseOver",n.footerCellMouseOver="footerCellMouseOver",n.headerCellMouseDown="headerCellMouseDown",n.footerCellMouseDown="footerCellMouseDown",n.headerCellDblClick="headerCellDblClick",n.footerCellDblClick="footerCellDblClick",n.headerCellRightClick="headerCellRightClick",n.footerCellRightClick="footerCellRightClick",n.beforeEditStart="beforeEditStart",n.afterEditStart="afterEditStart",n.beforeEditEnd="beforeEditEnd",n.afterEditEnd="afterEditEnd",n.beforeKeyDown="beforeKeyDown",n.afterKeyDown="afterKeyDown",n.beforeColumnHide="beforeColumnHide",n.afterColumnHide="afterColumnHide",n.beforeColumnShow="beforeColumnShow",n.afterColumnShow="afterColumnShow",n.beforeRowHide="beforeRowHide",n.afterRowHide="afterRowHide",n.beforeRowShow="beforeRowShow",n.afterRowShow="afterRowShow",n.beforeRowDrag="beforeRowDrag",n.dragRowStart="dragRowStart",n.dragRowOut="dragRowOut",n.dragRowIn="dragRowIn",n.canRowDrop="canRowDrop",n.cancelRowDrop="cancelRowDrop",n.beforeRowDrop="beforeRowDrop",n.afterRowDrop="afterRowDrop",n.afterRowDrag="afterRowDrag",n.beforeColumnDrag="beforeColumnDrag",n.dragColumnStart="dragColumnStart",n.dragColumnOut="dragColumnOut",n.dragColumnIn="dragColumnIn",n.canColumnDrop="canColumnDrop",n.cancelColumnDrop="cancelColumnDrop",n.beforeColumnDrop="beforeColumnDrop",n.afterColumnDrop="afterColumnDrop",n.afterColumnDrag="afterColumnDrag",n.beforeRowResize="beforeRowResize",n.afterRowResize="afterRowResize",n.beforeSort="beforeSort",n.afterSort="afterSort",(n=e.GridSystemEvents||(e.GridSystemEvents={})).cellTouchMove="cellTouchMove",n.cellTouchEnd="cellTouchEnd",n.headerCellTouchMove="headerCellTouchMove",n.headerCellTouchEnd="headerCellTouchEnd",(e=e.GridSelectionEvents||(e.GridSelectionEvents={})).beforeUnSelect="beforeUnSelect",e.afterUnSelect="afterUnSelect",e.beforeSelect="beforeSelect",e.afterSelect="afterSelect"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.on=function(t,e,i){t=t.toLowerCase();this.events[t]=this.events[t]||[],this.events[t].push({callback:e,context:i||this.context})},o.prototype.detach=function(t,e){var t=t.toLowerCase(),i=this.events[t];if(e&&i&&i.length)for(var n=i.length-1;0<=n;n--)i[n].context===e&&i.splice(n,1);else this.events[t]=[]},o.prototype.fire=function(t,e){void 0===e&&(e=[]);t=t.toLowerCase();return!this.events[t]||!this.events[t].map(function(t){return t.callback.apply(t.context,e)}).includes(!1)},o.prototype.clear=function(){this.events={}},o);function o(t){this.events={},this.context=t||this}e.EventSystem=n,e.EventsMixin=function(t){var e=new n(t=t||{});t.detachEvent=e.detach.bind(e),t.attachEvent=e.on.bind(e),t.callEvent=e.fire.bind(e)}},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(11)),n(e(50)),n(e(111)),n(e(112)),n(e(21)),n(e(146)),n(e(12)),n(e(53)),n(e(52)),n(e(147)),n(e(51)),n(e(33))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(2),i=(r.prototype.mount=function(t,e){e&&(this._view=e),t&&this._view&&this._view.mount&&(this._container=o.toNode(t),this._container.tagName?this._view.mount(this._container):this._container.attach&&this._container.attach(this))},r.prototype.unmount=function(){var t=this.getRootView();t&&t.node&&(t.unmount(),this._view=null)},r.prototype.getRootView=function(){return this._view},r.prototype.getRootNode=function(){return this._view&&this._view.node&&this._view.node.el},r.prototype.paint=function(){this._view&&(this._view.node||this._container)&&(this._doNotRepaint=!1,this._view.redraw())},r);function r(t,e){this.config=e||{},this._uid=this.config.rootId||n.uid()}e.View=i,e.toViewLike=function(e){return{getRootView:function(){return e},paint:function(){return e.node&&e.redraw()},mount:function(t){return e.mount(t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.en={applyAll:"Apply all",exportData:"Export data",importData:"Import data",resetChanges:"Reset changes",autoLayout:"Auto layout",arrange:"Arrange",position:"Position",size:"Size",color:"Color",title:"Title",text:"Text",image:"Image",fill:"Fill",textProps:"Text style",textPosition:"Text position",stroke:"Stroke",gridStep:"Grid step",headerText:"Header text",headerFill:"Header fill",headerStyle:"Header style",headerPosition:"Header position",headerEnable:"Header",subHeaderRowsEnable:"Subheader rows",subHeaderColsEnable:"Subheader cols",positionOptions:{top:"top",bottom:"bottom",left:"left",right:"right"},switchOptions:{on:"on",off:"off"},shapeSections:"Shapes",groupSections:"Groups",swimlaneSections:"Swimlanes",imageUpload:"Click to upload",emptyState:"Select a shape or a connector",menuDeleteRow:"Delete row",menuDeleteCol:"Delete column",menuMoveColumnRight:"Move column right",menuMoveColumnLeft:"Move column left",menuMoveRowUp:"Move row up",menuMoveRowDown:"Move row down",menuAddRowUp:"Add row up",menuAddRowDown:"Add row down",menuAddColumnRight:"Add column right",menuAddColumnLeft:"Add column left",menuDelete:"Delete",menuAddPartner:"Add partner",menuAddAssistant:"Add assistant",menuAlignChildrenVertically:"Align children vertically",menuAlignChildrenHorizontally:"Align children horizontally"},e.default=e.en},function(t,n,e){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),e=e(7);n.meta={arrangeGroup:{id:"arrangeGroup",type:"inputsGroup",label:e.default.arrange,validate:"number",options:[{id:"x",value:"1000",label:"x",validate:"number"},{id:"y",value:"999",label:"y",validate:"number"},{id:"width",value:"1000",label:"w",validate:"number"},{id:"height",value:"999",label:"h",validate:"number"}]},fillGroup:{id:"fillGroup",type:"color",label:e.default.fill},strokeGroup:{id:"strokeGroup",type:"strokeGroup",label:e.default.stroke},headerText:{id:"headerText",type:"textarea",label:e.default.headerText},headerFill:{id:"headerFill",type:"color",label:e.default.headerFill},headerStyle:{id:"headerStyle",type:"textProps",label:e.default.headerStyle},headerPosition:{id:"headerPosition",type:"headerPosition",label:e.default.headerPosition},headerEnable:{id:"headerEnable",type:"enable",label:e.default.headerEnable},subHeaderRowsEnable:{id:"subHeaderRowsEnable",type:"enable",lable:e.default.subHeaderRowsEnable},subHeaderColsEnable:{id:"subHeaderColsEnable",type:"enable",lable:e.default.subHeaderColsEnable},grid:{id:"gridStep",type:"inputsGroup",label:e.default.gridStep,validate:"number",options:[{id:"step",value:0,icon:function(){return i.el(".dxi.dxi-grid-step")},validate:"number"}]},textPosition:{id:"textPosition",type:"inputsGroup",label:e.default.textPosition,validate:"number",options:[{id:"x",value:"1000",label:"x",validate:"number"},{id:"y",value:"999",label:"y",validate:"number"}]},arrange:{id:"arrange",type:"inputsGroup",label:e.default.arrange,validate:"number",options:[{id:"x",value:"1000",label:"x",validate:"number"},{id:"y",value:"999",label:"y",validate:"number"},{id:"width",value:"1000",label:"w",validate:"number"},{id:"height",value:"999",label:"h",validate:"number"},{id:"angle",value:"999",label:"y",validate:"number",icon:function(){return i.el(".dxi.dxi-rotate-right.rotate_icon")}}]},position:{id:"position",type:"inputsGroup",label:e.default.position,validate:"number",options:[{id:"dx",value:"1000",label:"dx",validate:"number"},{id:"dy",value:"999",label:"dy",validate:"number"}]},size:{id:"size",type:"inputsGroup",label:e.default.size,options:[{id:"width",value:"1000",label:"w",validate:"number"},{id:"height",value:"999",label:"h",validate:"number"}]},color:{id:"headerColor",type:"color",label:e.default.color},title:{id:"title",type:"textarea",label:e.default.title},text:{id:"text",type:"textarea",label:e.default.text},img:{id:"img",type:"image",label:e.default.image},fill:{id:"fill",type:"color",label:e.default.fill},textProps:{id:"textProps",type:"textProps",label:e.default.textProps},strokeProps:{id:"strokeProps",type:"stroke",label:e.default.stroke}},n.getMeta=function(t){return t.map(function(t){var e=t.type,i=t.label,t=t.property;return o(o({},n.meta[e]),{id:t||n.meta[e].id,label:i||n.meta[e].label})})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1);e.transpose=function(t,e){for(var i=[],n=0;n<t.length;n++)for(var o=t[n],r=0;r<o.length;r++){i[r]=i[r]||[];var a=e?e(o[r]):o[r];i[r].push(a)}return i},e.getStyleByClass=function(t,e,i,n){return e=e.querySelector("."+i),i=e,i="string"==typeof(t='<div class="'+t+'"></div>')?(i.insertAdjacentHTML("beforeend",t),i.lastChild):(i.appendChild(t),t),t={color:"rgb(0, 0, 0)"===(t=window.getComputedStyle(i)).color?n.color:o.rgbToHex(t.color),background:"rgba(0, 0, 0, 0)"===t.backgroundColor?n.background:o.rgbToHex(t.backgroundColor),fontSize:parseFloat(t.fontSize)},e.removeChild(i),t.color===n.color&&t.background===n.background&&t.fontSize===n.fontSize?null:t},e.removeHTMLTags=function(t){return"string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t?"":(""+(null==t?"":t)).replace(/<[^>]*>/g,"").replace(/["]/g,"&quot;").trim()},e.isCssSupport=function(e,i){try{return CSS.supports(e,i)}catch(t){var n=document.createElement("div");return n.style[e]=i,n.style[e]===i}},e.isRowEmpty=function(i){if(i)return Object.keys(i).reduce(function(t,e){return"id"!==e&&!e.startsWith("$")&&t&&void 0!==i[e]&&""!==i[e]?void 0:t},!0)},e.isSortable=function(t,e){return!1!==e.sortable&&t.sortable||e.sortable},e.isAutoWidth=function(e,t){if(t)return!1!==t.autoWidth&&e.autoWidth||t.autoWidth;var i=!1;return e.columns.map(function(t){(!1!==t.autoWidth&&e.autoWidth||t.autoWidth)&&(i=!0)}),i},e.isTooltip=function(t,e){return!1!==e.tooltip&&t.tooltip||e.tooltip},e.isHtmlEnable=function(t,e){return!1!==e.htmlEnable&&t.htmlEnable||e.htmlEnable},e.getTotalWidth=function(t){return t.reduce(function(t,e){return t+(e.$width||0)},0)},e.getTotalHeight=function(t){return t.reduce(function(t,e){return t+(e.$height||0)},0)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0);e.getCircleTpl=function(t,e){if(!t.$count&&!1!==t.open||!t.$connection)return null;var i="vertical"===t.dir,n=!1===t.open,o=t.width/2,r=t.height/2,o={x:i?0:o,y:i?r:t.height},i="";return Array.isArray(t.dir)?("verticalLeft"===t.dir[e]&&(o.x=0,o.y=r,i+="icon-left ",n=!1===t.openDir.left),"verticalRight"===t.dir[e]&&(o.x=t.width,o.y=r,i+="icon-right ",n=!1===t.openDir.right)):("verticalLeft"===t.dir&&(o.x=0,o.y=r),"verticalRight"===t.dir&&(o.x=t.width,o.y=r)),a.el("div",{class:n?"dhx_expand_icon ":"dhx_hide_icon ",style:{position:"absolute",top:o.y,left:o.x}},[a.el("div.dhx_diagram__icon",{style:{background:t.$expandColor}},[a.el("i.dxi",{class:(n?"dxi-plus ":"dxi-minus ")+i})])])},e.getHeaderTpl=function(t){var e=t.width,t=t.headerColor||"#20b6e2";return a.el("div",{class:"dhx_item_header",style:{height:4,width:e,top:0,left:0,position:"absolute",background:t}})},e.getTextTemplate=function(t,e){var i=t.width,n=t.height;return"string"==typeof t.text||"string"==typeof t.title?a.el("div.shape_content-container",{style:{width:i,height:n,top:0,left:0,overflow:"hidden",transform:"translate(0 0)",position:"absolute"}},[a.el("div",{class:"shape_content",style:{width:t.width,height:t.height,wordBreak:"break-word",whiteSpace:"pre-wrap",overflow:"hidden"}},[].concat(e))]):null},e.getShapeCss=function(t){return{width:t.width,height:t.height,display:"flex",color:t.fontColor,"flex-direction":"column","justify-content":{bottom:"flex-end",top:"flex-start",center:"center"}[t.textVerticalAlign],"text-align":t.textAlign,"line-height":t.lineHeight,"font-size":t.fontSize,"font-style":t.fontStyle||"normal","font-weight":t.fontWeight||"normal","word-break":"break-word","white-space":"pre-wrap"}},e.getExpandIcon=function(t){var e,i,n=t.open,o=t.color;switch(t.position){case"top":e="dxi-chevron-up",i="dxi-chevron-down";break;case"bottom":e="dxi-chevron-down",i="dxi-chevron-up";break;case"right":e="dxi-chevron-right",i="dxi-chevron-left";break;case"left":e="dxi-chevron-left",i="dxi-chevron-right"}return n=n?"dxi "+i+" dhx_hide_icon":"dxi "+e+" dhx_expand_icon",a.el("div.dhx_diagram_icon",[a.el("i",{class:n,style:{color:o}})])},e.getMenuIcon=function(t){var e=t.dir,t=t.color,e="cols"===e?"dxi dxi-dots-vertical":"dxi dxi-dots-horizontal";return a.el("div.dhx_diagram_icon.dhx_diagram_menu_icon",[a.el("i",{class:e,style:{color:t}})])},e.getGroupContainerStyle=function(t,e){var i,n=t.$width,o=t.$height,r=t.$captureArea,a=t.$group,s=t.$selected,l=t.type,d=t.style,c=d.borderStyle,u=d.strokeWidth,t=d.stroke,h=d.overFill,f=d.partiallyFill,p=d.fill,l=a||s?s&&"$sgroup"!==l?2:1:0;switch(r){case"over":i=h;break;case"partially":i=f;break;default:i=p}return{position:"absolute",background:i,outline:u+"px "+c+" "+t,outlineOffset:-u,width:n,height:o,top:e.y,left:e.x,zIndex:l}},e.getSwimlaneBackGround=function(t,e){var i,n=t.$width,o=t.$height,r=t.$captureArea,a=(t=t.style).overFill,s=t.partiallyFill,l=t.fill;switch(r){case"over":i=a;break;case"partially":i=s;break;default:i=l}return{position:"absolute",background:i,width:n,height:o,top:e.y,left:e.x,zIndex:-1}},e.getSwimlaneContainerStyle=function(t,e){var i=t.$width,n=t.$height,o=t.$group,r=t.$selected,a=t.type,s=t.style,l=s.borderStyle,t=s.strokeWidth,a=o||r?r&&"$sgroup"!==a?2:1:0;return{position:"absolute",outline:t+"px "+l+" "+s.stroke,outlineOffset:-t,width:i,height:n,top:e.y,left:e.x,zIndex:a}},e.getTextStyle=function(t){var e=t.lineHeight,i=t.textAlign,n=t.textVerticalAlign,o=t.fontSize,r=t.fontColor,a=t.fontStyle,s=t.fontWeight,l=t.container,d=l.width,t=l.height,l={center:"center",left:"flex-start",right:"flex-end",bottom:"flex-end",top:"flex-start"};return{"justify-content":l[i],"align-items":l[n],fontStyle:a||"normal",fontWeight:s||"500",lineHeight:parseInt(e)+"px",fontSize:o,color:r,width:"number"==typeof d?d-4-20+"px":d,height:"number"==typeof t?t-4-20+"px":t}}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.TreeFilterType||(e.TreeFilterType={})).all="all",n.level="level",n.leafs="leafs",(n=e.DataEvents||(e.DataEvents={})).afterAdd="afteradd",n.beforeAdd="beforeadd",n.removeAll="removeall",n.beforeRemove="beforeremove",n.afterRemove="afterremove",n.change="change",n.load="load",n.loadError="loaderror",n.beforeLazyLoad="beforelazyload",n.afterLazyLoad="afterlazyload",(n=e.DragEvents||(e.DragEvents={})).beforeDrag="beforeDrag",n.dragStart="dragStart",n.dragOut="dragOut",n.dragIn="dragIn",n.canDrop="canDrop",n.cancelDrop="cancelDrop",n.beforeDrop="beforeDrop",n.afterDrop="afterDrop",n.afterDrag="afterDrag",(e=e.DataDriver||(e.DataDriver={})).json="json",e.csv="csv",e.xml="xml"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(21),o=i(51);e.isEqualObj=function(t,e){for(var i in t)if(t[i]!==e[i]||Array.isArray(t[i]))return!1;return!0},e.naturalCompare=function(t,e){if(isNaN(t)||isNaN(e)){var n=[],o=[];for(t.replace(/(\d+)|(\D+)/g,function(t,e,i){n.push([e||1/0,i||""])}),e.replace(/(\d+)|(\D+)/g,function(t,e,i){o.push([e||1/0,i||""])});n.length&&o.length;){var i=n.shift(),r=o.shift(),r=i[0]-r[0]||i[1].localeCompare(r[1]);if(r)return r}return n.length-o.length}return t-e},e.findByConf=function(t,e){if("function"==typeof e){if(e.call(this,t))return t}else if(e.by&&e.match&&t[e.by]===e.match)return t},e.isDebug=function(){var t=window.dhx;if(void 0!==t)return void 0!==t.debug&&t.debug},e.dhxWarning=function(t){console.warn(t)},e.dhxError=function(t){throw new Error(t)},e.toProxy=function(t){var e=typeof t;return"string"==e?new n.DataProxy(t):"object"==e?t:void 0},e.toDataDriver=function(t){if("string"==typeof t){var e=window.dhx,e=e&&e.dataDrivers||o.dataDrivers;if(e[t])return new e[t];console.warn("Incorrect data driver type:",t),console.warn("Available types:",JSON.stringify(Object.keys(e)))}else if("object"==typeof t)return t},e.copyWithoutInner=function(t,e){var i,n={};for(i in t)i.startsWith("$")||e&&e[i]||(n[i]=t[i]);return n},e.isTreeCollection=function(t){return Boolean(t.getRoot)},e.hasJsonOrArrayStructure=function(t){if("object"==typeof t)return!0;if("string"!=typeof t)return!1;try{var e=JSON.parse(t);return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}catch(t){return!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=i(1),b=i(9),x=i(26);function l(t,e){t[e]&&("string"==typeof t[e]?t[e]=[{text:""+t[e]}]:t[e]=t[e].map(function(t){return"string"==typeof t&&(t={text:t}),t}))}e.normalizeColumns=function(t,e){var i=t.columns,n=t.htmlEnable;void 0===e&&(e=!1);for(var o=0,r=i;o<r.length;o++){var a=r[o];a.$htmlEnable=!(!a.htmlEnable&&!n),a.$cellCss=a.$cellCss||{},l(a,"header"),l(a,"footer"),a.header.reduce(function(t,e){return t||!!e.content},!1)&&(a.$uniqueData=[]),a.minWidth&&a.minWidth<20&&(a.minWidth=20),a.maxWidth&&a.maxWidth<20&&(a.maxWidth=20);var s=a.minWidth||100;a.width&&(s=(s=a.maxWidth&&a.minWidth?a.width>=a.minWidth&&a.width<=a.maxWidth?a.width:a.width>=a.maxWidth?a.maxWidth:a.minWidth:a.maxWidth?a.width<=a.maxWidth?a.width:100<a.maxWidth?a.maxWidth:100:!a.minWidth||a.width>=a.minWidth?a.width:a.minWidth)<20?20:s),a.$width=a.$width&&!e?a.$width:s,a.$width>a.maxWidth&&(a.$width=a.maxWidth),a.$width<a.minWidth&&(a.$width=a.minWidth)}},e.countColumns=function(t,e){var n=0,o=0,r=0,a=!1,i=0,s=!1;return e.forEach(function(t){if(n=Math.max(n,t.header.length),r+=t.$width,t.footer&&(o=Math.max(o,t.footer.length),s=s||!0),!a)for(var e=0,i=t.header;e<i.length;e++)if(i[e].colspan)return void(a=!0)}),e.forEach(function(t){if(t.header.length<n)for(var e=0;e<n;e++)t.header[e]=t.header[e]||{text:""};if(s&&(t.footer=t.footer||[]),t.footer&&t.footer.length<o)for(e=0;e<o;e++)t.footer[e]=t.footer[e]||{text:""};t.header=t.header.map(function(t){return"object"!=typeof t&&(t={text:t}),t.css=t.css||"",t.text||t.css.includes("dhx_cell-empty")||(t.css+=" dhx_cell-empty"),t}),""===t.header[0].text&&i++}),t.$totalWidth=r,t.$headerLevel=n,t.$footerLevel=o,t.$colspans=a,t.$footer=s,i},e.calculatePositions=function(t,e,i,n,o){for(var r=n.columns||[],a=r.length,s=o||[],l=s.length,d=-1/0,c=0;c<a;c++)r[c].$width>d&&(d=r[c].$width);for(var u=1/0,c=0;c<a;c++)r[c].$width<u&&(u=r[c].$width);for(var h=-1/0,c=0;c<l;c++)s[c].$height>h&&(h=s[c].$height);for(var f=n.rowHeight,o=Math.round(d/u),f=Math.round(h/f),p=n.$totalWidth/a,t=Math.round(t/p),g=n.$totalHeight/l,e=Math.round(e/g),_=0,v=i.left,m=0;m<r.length;m++){if(!(0<(v-=r[m].$width)+p/2))break;_++}for(var y=0,b=i.top,m=0;m<s.length;m++){if(!(0<(b-=s[m].$height)+g/2))break;y++}return{xStart:0<=_-o?_-o:0,xEnd:_+t+o,yStart:0<=y-f?y-f:0,yEnd:y+e+f}},e.getUnique=function(t,e,i){var n=t.map(function(t){return t[e]});return i&&n.forEach(function(t,e){t.includes(", ")&&(t.split(", ").forEach(function(t){return n.push(t)}),delete n[e])}),n.filter(function(t,e,i){return i.indexOf(t)===e&&v.isDefined(t)}).sort()},e.getMaxRowHeight=function(t,e,i){void 0===i&&(i={font:"20px Roboto",lineHeight:20});var n=document.createElement("canvas"),o=n.getContext("2d",{alpha:!1});o.font=i.font;for(var r={},a=e.length,s=0;s<a;s++)e[s].template?r[e[s].id]={width:e[s].$width||0,htmlEnable:e[s].$htmlEnable,template:e[s].template,cols:e[s]}:r[e[s].id]={width:e[s].$width||0,htmlEnable:e[s].$htmlEnable};for(var l=[],d=[],c=0,u=Object.entries(t);c<u.length;c++){var h,f=u[c],p=f[0],g=f[1];!r[p]||"id"===p||"height"===p||p.startsWith("$")||"string"!=typeof g&&"number"!=typeof g||(h="",h=null!==(f=r[p])&&void 0!==f&&f.template?(f=r[p].template(g,t,r[p].cols),r[p].htmlEnable?b.removeHTMLTags(f):f):"string"==typeof g?r[p].htmlEnable?b.removeHTMLTags(g):g:g.toString(),l.push(h.split("\n").length),d.push(Math.round(o.measureText(h).width/(null===(p=r[p])||void 0===p?void 0:p.width))))}var _=Math.max(v.getMaxArrayNymber(l),v.getMaxArrayNymber(d));return n.remove(),_*i.lineHeight},e.getCalculatedRowHeight=function(t,e){void 0===e&&(e={rowHeight:40,padding:8});var i=e.rowHeight<40?t:t+2*e.padding;return t<e.rowHeight?e.rowHeight:i},e.getTreeCellWidthOffset=function(t){return 20+20*t.$level-(t.$items?20:0)},e.getMaxColsWidth=function(t,e,i,n){if(void 0===i&&(i={font:"normal 14.4px Arial"}),t.length&&e.length){var o=document.createElement("canvas"),r=o.getContext("2d",{alpha:!1});r.font=i.font;for(var a={},s=e.length,l=0;l<s;l++)e[l].template&&"data"===n?a[e[l].id]={width:20,htmlEnable:e[l].$htmlEnable,template:e[l].template,cols:e[l]}:a[e[l].id]={width:20,htmlEnable:e[l].$htmlEnable,format:e[l].format};for(var d=t.length,l=0;l<d;l++)for(var c=0,u=Object.entries(t[l]);c<u.length;c++){var h,f=u[c],p=f[0],g=f[1];a[p]&&"id"!==p&&"height"!==p&&!p.startsWith("$")&&("string"==typeof g||"number"==typeof g||g instanceof Date)&&(h=void 0,h="function"!=typeof(null===(f=a[p])||void 0===f?void 0:f.template)||g instanceof Date?g instanceof Date?x.getFormattedDate(a[p].format||"%M %d %Y",g):a[p].htmlEnable?b.removeHTMLTags(g):g.toString():(f=a[p].template(g,t[l],a[p].cols),a[p].htmlEnable?b.removeHTMLTags(f):f),(h=r.measureText(h).width)>a[p].width&&(a[p].width=h))}o.remove();for(var _={},v=0,m=Object.entries(a);v<m.length;v++){var y=m[v],p=y[0],g=y[1];_[p]=Math.ceil(g.width)}return _}},e.toFormat=function(r,t,a){if(!r&&"number"!=typeof r)return r;switch(t){case"number":case"percent":return a=a||"#",v.isDefined(r)&&!isNaN(Number(r))?function(t){r=r.toString();var e=a.replace(/#+/g,"#").split("#").filter(function(t){return t});r="percent"===t?(100*Number(r)).toString():r;var i=Math.trunc(Number(r)),n=(r<0&&0===Math.abs(i)?"-":"")+i,o=a.match(/0/g)&&a.match(/0/g).length,i=e.find(function(t){return!t.includes("0")}),i=i?n.replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1"+i):n;return o&&(n=e.find(function(t){return t.includes("0")}).replace(/0+/g,""),e=r.split(".")[1]||"0",e=Number("0."+e).toFixed(o),1<=Number(e)&&(i++).toString(),i+=n+(e=e.toString().split(".")[1].padEnd(o,"0"))),"percent"===t?i+"%":i}(t):r;case"date":return a=a||"%M %d %Y","string"==typeof r?r=x.getFormattedDate(a,x.stringToDate(r,a)):"object"==typeof r&&(r=x.getFormattedDate(a,r)),r;default:return r}}},function(t,e,i){(function(o,r){!function(){var e=1,i={},n=!1;function c(t){o.setImmediate?r(t):o.importScripts?setTimeout(t):(i[++e]=t,o.postMessage(e,"*"))}function u(t){"use strict";if("function"!=typeof t&&null!=t)throw TypeError();if("object"!=typeof this||this&&this.then)throw TypeError();var e,i,n=this,r=0,a=0,o=[];(n.promise=n).resolve=function(t){return e=n.fn,i=n.er,r||(a=t,r=1,c(d)),n},n.reject=function(t){return e=n.fn,i=n.er,r||(a=t,r=2,c(d)),n},n._d=1,n.then=function(t,e){if(1!=this._d)throw TypeError();var i=new u;return i.fn=t,i.er=e,3==r?i.resolve(a):4==r?i.reject(a):o.push(i),i},n.catch=function(t){return n.then(null,t)};var s=function(t){r=t||4,o.map(function(t){3==r&&t.resolve(a)||t.reject(a)})};try{"function"==typeof t&&t(n.resolve,n.reject)}catch(t){n.reject(t)}return n;function l(t,e,i,n){if(2==r)return n();if("object"!=typeof a&&"function"!=typeof a||"function"!=typeof t)n();else try{var o=0;t.call(a,function(t){o++||(a=t,e())},function(t){o++||(a=t,i())})}catch(t){a=t,i()}}function d(){var t;try{t=a&&a.then}catch(t){return a=t,r=2,d()}l(t,function(){r=1,d()},function(){r=2,d()},function(){try{1==r&&"function"==typeof e?a=e(a):2==r&&"function"==typeof i&&(a=i(a),r=1)}catch(t){return a=t,s()}a==n?(a=TypeError(),s()):l(t,function(){s(3)},s,function(){s(1==r&&3)})})}}(o=this).setImmediate||o.addEventListener("message",function(t){if(t.source==o)if(n)c(i[t.data]);else{n=!0;try{i[t.data]()}catch(t){}delete i[t.data],n=!1}}),u.resolve=function(e){if(1!=this._d)throw TypeError();return e instanceof u?e:new u(function(t){t(e)})},u.reject=function(i){if(1!=this._d)throw TypeError();return new u(function(t,e){e(i)})},u.all=function(n){if(1!=this._d)throw TypeError();if(!(n instanceof Array))return u.reject(TypeError());var o=new u;return function i(t,e){return e?o.resolve(e):t?o.reject(t):(0==n.reduce(function(t,e){return e&&e.then?t+1:t},0)&&o.resolve(n),void n.map(function(t,e){t&&t.then&&t.then(function(t){return n[e]=t,i(),t},i)}))}(),o},u.race=function(n){if(1!=this._d)throw TypeError();if(!(n instanceof Array))return u.reject(TypeError());if(0==n.length)return new u;var o=new u;return function i(t,e){return e?o.resolve(e):t?o.reject(t):(0==n.reduce(function(t,e){return e&&e.then?t+1:t},0)&&o.resolve(n),void n.map(function(t,e){t&&t.then&&t.then(function(t){i(null,t)},i)}))}(),o},u._d=1,t.exports=u}()}).call(this,i(32),i(96).setImmediate)},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(94)),n(e(95)),n(e(99)),n(e(79)),n(e(31))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(24),a=i(2);function s(t){for(var e=t.toLowerCase().match(/\w+/g),i=0,n="",o=0;o<e.length;o++){var r=e[o];"ctrl"===r?i+=4:"shift"===r?i+=2:"alt"===r?i+=1:n=r}return i+n}var l={Up:"arrowUp",Down:"arrowDown",Right:"arrowRight",Left:"arrowLeft",Esc:"escape",Spacebar:"space"},i=(n.prototype.destructor=function(){document.removeEventListener("keydown",this._initHandler),this.removeHotKey()},n.prototype.addHotKey=function(t,e){t=s(t);this._keysStorage[t]||(this._keysStorage[t]=[]),this._keysStorage[t].push({handler:e})},n.prototype.removeHotKey=function(t,i){var n,o,r=this;t?t&&i?(n=s(t),o=function(t){return t.toString().replace(/\n/g,"").replace(/\s/g,"")},this._keysStorage[n].forEach(function(t,e){o(t.handler)===o(i)&&(delete r._keysStorage[n][e],r._keysStorage[n]=r._keysStorage[n].filter(function(t){return t}))})):(t=s(t),delete this._keysStorage[t]):this._keysStorage={}},n.prototype.exist=function(t){t=s(t);return!!this._keysStorage[t]},n);function n(t){var o=this;this._keysStorage={},this._initHandler=function(t){var e;e=48<=t.which&&t.which<=57||65<=t.which&&t.which<=90?String.fromCharCode(t.which):(e=32===t.which?t.code:t.key,a.isIE()&&l[e]||e);var i=o._keysStorage[(t.ctrlKey||t.metaKey?4:0)+(t.shiftKey?2:0)+(t.altKey?1:0)+(e&&e.toLowerCase())];if(i)for(var n=0;n<i.length;n++){if(o._beforeCall&&!1===o._beforeCall(t,r.focusManager.getFocusId()))return;i[n].handler(t)}},t&&(this._beforeCall=t),document.addEventListener("keydown",this._initHandler)}e.KeyManager=i},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(127)),n(e(60))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,i=i(38),o=(r=i.BaseItem,o(a,r),a.prototype.getBaseType=function(){return"shape"},a.prototype.getCenter=function(){var t=this.config;return{x:Math.abs(t.width/2),y:Math.abs(t.height/2)}},a.prototype.getPoint=function(t,e){var i=this.config;if(i.angle){var n=i.x+i.width/2,o=i.y+i.height/2,i=i.angle*(Math.PI/180);return{x:(t-n)*Math.cos(i)-(e-o)*Math.sin(i)+n,y:(t-n)*Math.sin(i)+(e-o)*Math.cos(i)+o}}return{x:t,y:e}},a);function a(t,e){e=r.call(this,t,e)||this;return t.width&&(t.width=parseFloat(t.width)),t.height&&(t.height=parseFloat(t.height)),t.x&&(t.x=parseFloat(t.x)),t.y&&(t.y=parseFloat(t.y)),t.strokeWidth&&(t.strokeWidth=parseFloat(t.strokeWidth)),e}e.BaseShape=o},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(33),i=(o.prototype.updateUrl=function(t,e){for(var i in void 0===e&&(e={}),this._url=this.url=t||this._url,this.url+=this.url.includes("?")?"&":"?",e)this.config[i]=e[i],this.url+=i+"="+encodeURIComponent(e[i])+"&";this.url=this.url.slice(0,-1)},o.prototype.load=function(){return n.ajax.get(this.url,null,{responseType:"text"})},o.prototype.save=function(t,e){switch(e){case"delete":return n.ajax.delete(this.url,t);case"update":return n.ajax.put(this.url,t);case"insert":default:return n.ajax.post(this.url,t)}},o);function o(t,e){this.url=this._url=t,this.config=e}e.DataProxy=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.SelectionEvents||(e.SelectionEvents={})).beforeUnSelect="beforeunselect",e.afterUnSelect="afterunselect",e.beforeSelect="beforeselect",e.afterSelect="afterselect"},function(t,e,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),u=i(1);e.getCount=function(t,e,i){var n={danger:" dhx_navbar-count--color_danger",secondary:" dhx_navbar-count--color_secondary",primary:" dhx_navbar-count--color_primary",success:" dhx_navbar-count--color_success"}[t.countColor]||" dhx_navbar-count--color_danger";return r.el(".dhx_navbar-count",{class:e+n+(!i&&99<parseInt(t.count,10)?" dhx_navbar-count--overlimit":"")},i&&99<parseInt(t.count,10)?"99+":t.count)},e.getIcon=function(t,e){return void 0===t&&(t=""),t.startsWith("dxi")&&(t="dxi "+t),r.el("span",{class:"dhx_"+e+"__icon "+t,"aria-hidden":"true"})};var a=function(t,e,i){var n="",o="",o=(n=i?"dhx_menu-item":"dhx_"+t+"__item")+(e.css?" "+e.css:"");return"spacer"!==e.type&&"separator"!==e.type||(o+=" "+n+"--"+e.type),"button"!==e.type||"sidebar"!==t||e.icon||(o+=" dhx_navbar-item--colapse_hidden"),o};e.navbarComponentMixin=function(t,e,i,n){var i=a(t,e,i),t="ribbon"===t&&("navItem"===e.type||"imageButton"===e.type);return r.el("li",o({_key:e.id,class:i+(e.icon&&!e.value&&t?" dhx_ribbon__item--icon":"")+(e.src&&!e.value&&t?" dhx_ribbon__item--icon":"")+(e.size&&t?" dhx_ribbon__item--"+e.size:""),".innerHTML":"customHTML"===e.type?e.html:void 0,dhx_id:"customHTML"===e.type?e.id:void 0},(i=e.type,t={role:"none"},"separator"===i&&(t.role="separator",t["aria-orientation"]="vertical"),t)),"customHTML"!==e.type?[n]:void 0)},e.getNavbarButtonCSS=function(t,e){var i=t.color,n=t.size,o=t.view,r=t.full,a=t.icon,s=t.circle,l=t.loading,d=t.value,c=t.active,t=t.count;return({danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[i]||" dhx_button--color_primary")+({small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[n]||" dhx_button--size_medium")+({flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[o]||" dhx_button--view_flat")+(r?" dhx_button--width_full":"")+(s?" dhx_button--circle":"")+(l?" dhx_button--loading":"")+(c?" dhx_button--active":"")+(a&&!d?" dhx_button--icon":"")+(u.isDefined(t)?" dhx_button--count":"")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),i=(o.prototype.getFocusId=function(){return this._activeWidgetId},o.prototype.setFocusId=function(t){this._activeWidgetId=t},o);function o(){var e=this;this._initHandler=function(t){return e._activeWidgetId=n.locate(t,"dhx_widget_id")},this._removeFocusClass=function(t){var e=document.body.classList;e.contains("utilityfocus")&&e.remove("utilityfocus")},this._addFocusClass=function(t){var e=document.body.classList;"Tab"===t.code?e.contains("utilityfocus")||e.add("utilityfocus"):e.contains("utilityfocus")&&e.remove("utilityfocus")},document.addEventListener("focusin",this._initHandler),document.addEventListener("click",this._initHandler),document.addEventListener("mousedown",this._removeFocusClass),document.addEventListener("keydown",this._addFocusClass)}e.focusManager=new i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(22);e.SelectionEvents=n.SelectionEvents;i=i(5);e.DataEvents=i.DataEvents,(e=e.DiagramEvents||(e.DiagramEvents={})).scroll="scroll",e.beforeRender="beforerender",e.emptyAreaClick="emptyAreaClick",e.emptyAreaDblClick="emptyAreaDblClick",e.emptyAreaMouseDown="emptyAreaMouseDown",e.beforeSubmenuOpen="beforeSubmenuOpen",e.afterSubmenuOpen="afterSubmenuOpen",e.beforeCollapse="beforeCollapse",e.afterCollapse="afterCollapse",e.beforeExpand="beforeExpand",e.afterExpand="afterExpand",e.shapeMouseDown="shapeMouseDown",e.shapeClick="shapeClick",e.shapeDblClick="shapeDblClick",e.shapeIconClick="shapeIconClick",e.lineMouseDown="lineMouseDown",e.lineClick="lineClick",e.lineDblClick="lineDblClick",e.lineTitleMouseDown="lineTitleMouseDown",e.lineTitleClick="lineTitleClick",e.lineTitleDblClick="lineTitleDblClick",e.groupMouseDown="groupMouseDown",e.groupClick="groupClick",e.groupDblClick="groupDblClick",e.groupHeaderClick="groupHeaderClick",e.groupHeaderDblClick="groupHeaderDblClick",e.itemMouseDown="itemMouseDown",e.itemClick="itemClick",e.itemDblClick="itemDblClick",e.itemMouseOver="itemMouseOver",e.itemMouseOut="itemMouseOut",e.shapeHover="shapeHover"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(1),o=e(1);n.locale={monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Monday"],cancel:"Cancel"};var v,r={"%d":function(t){t=t.getDate();return t<10?"0"+t:t},"%j":function(t){return t.getDate()},"%l":function(t){return n.locale.days[t.getDay()]},"%D":function(t){return n.locale.daysShort[t.getDay()]},"%m":function(t){t=t.getMonth()+1;return t<10?"0"+t:t},"%n":function(t){return t.getMonth()+1},"%M":function(t){return n.locale.monthsShort[t.getMonth()]},"%F":function(t){return n.locale.months[t.getMonth()]},"%y":function(t){return t.getFullYear().toString().slice(2)},"%Y":function(t){return t.getFullYear()},"%h":function(t){t=t.getHours()%12;return 0===t&&(t=12),t<10?"0"+t:t},"%g":function(t){t=t.getHours()%12;return 0===t&&(t=12),t},"%H":function(t){t=t.getHours();return t<10?"0"+t:t},"%G":function(t){return t.getHours()},"%i":function(t){t=t.getMinutes();return t<10?"0"+t:t},"%s":function(t){t=t.getSeconds();return t<10?"0"+t:t},"%a":function(t){return 12<=t.getHours()?"pm":"am"},"%A":function(t){return 12<=t.getHours()?"PM":"AM"},"%u":function(t){return t.getMilliseconds()}},m={"%d":function(t,e){/(^([0-9][0-9])$)/i.test(e)?t.setDate(Number(e)):t.setDate(Number(1))},"%j":function(t,e){/(^([0-9]?[0-9])$)/i.test(e)?t.setDate(Number(e)):t.setDate(Number(1))},"%m":function(t,e){var i=/(^([0-9][0-9])$)/i.test(e);i?t.setMonth(Number(e)-1):t.setMonth(Number(0)),i&&t.getMonth()!==Number(e)-1&&t.setMonth(Number(e)-1)},"%n":function(t,e){var i=/(^([0-9]?[0-9])$)/i.test(e);i?t.setMonth(Number(e)-1):t.setMonth(Number(0)),i&&t.getMonth()!==Number(e)-1&&t.setMonth(Number(e)-1)},"%M":function(t,e){var i=o.findIndex(n.locale.monthsShort,function(t){return t===e});-1===i?t.setMonth(0):t.setMonth(i),-1!==i&&t.getMonth()!==i&&t.setMonth(i)},"%F":function(t,e){var i=o.findIndex(n.locale.months,function(t){return t===e});-1===i?t.setMonth(0):t.setMonth(i),-1!==i&&t.getMonth()!==i&&t.setMonth(i)},"%y":function(t,e){/(^([0-9][0-9])$)/i.test(e)?t.setFullYear(Number("20"+e)):t.setFullYear(Number("2000"))},"%Y":function(t,e){/(^([0-9][0-9][0-9][0-9])$)/i.test(e)?t.setFullYear(Number(e)):t.setFullYear(Number("2000"))},"%h":function(t,e,i){/(^0[1-9]|1[0-2]$)/i.test(e)&&"pm"===i||"PM"===i?t.setHours(Number(e)):t.setHours(Number(0))},"%g":function(t,e,i){/(^[1-9]$)|(^0[1-9]|1[0-2]$)/i.test(e)&&"pm"===i||"PM"===i?t.setHours(Number(e)):t.setHours(Number(0))},"%H":function(t,e){/(^[0-2][0-9]$)/i.test(e)?t.setHours(Number(e)):t.setHours(Number(0))},"%G":function(t,e){/(^[1-9][0-9]?$)/i.test(e)?t.setHours(Number(e)):t.setHours(Number(0))},"%i":function(t,e){/(^([0-5][0-9])$)/i.test(e)?t.setMinutes(Number(e)):t.setMinutes(Number(0))},"%s":function(t,e){/(^([0-5][0-9])$)/i.test(e)?t.setSeconds(Number(e)):t.setSeconds(Number(0))},"%a":function(t,e){"pm"===e&&t.setHours(t.getHours()+12)},"%A":function(t,e){"PM"===e&&t.setHours(t.getHours()+12)}};function y(t){for(var e=[],i="",n=0;n<t.length;n++)"%"===t[n]?(0<i.length&&(e.push({type:v.separator,value:i}),i=""),e.push({type:v.datePart,value:t[n]+t[n+1]}),n++):i+=t[n];return 0<i.length&&e.push({type:v.separator,value:i}),e}function a(t,e,i){if("string"==typeof t){for(var n,o=[],r=0,a=null,s=0,l=y(e);s<l.length;s++){var d=l[s];if(d.type===v.separator){var c=t.indexOf(d.value,r);if(-1===c){if(i)return!1;throw new Error("Incorrect date, see docs: https://docs.dhtmlx.com/suite/calendar__api__calendar_dateformat_config.html")}a&&(o.push({formatter:a,value:t.slice(r,c)}),a=null),r=c+d.value.length}else d.type===v.datePart&&(a=d.value)}"%A"===a||"%a"===a?o.unshift({formatter:a,value:t.slice(r)}):a&&o.push({formatter:a,value:t.slice(r)}),o.reverse();for(var u=0,h=o;u<h.length;u++)"%A"!==(_=h[u]).formatter&&"%a"!==_.formatter||(n=_.value);for(var f=new Date(0),p=0,g=o;p<g.length;p++){var _=g[p];m[_.formatter]&&m[_.formatter](f,_.value,n)}return!!i||f}}(e=v=v||{})[e.separator=0]="separator",e[e.datePart=1]="datePart",n.getFormattedDate=function(t,i){return y(t).reduce(function(t,e){return e.type===v.separator?t+e.value:r[e.value]?t+r[e.value](i):t},"")},n.stringToDate=a;s.copy=function(t){return new Date(t)},s.fromYear=function(t){return new Date(t,0,1)},s.fromYearAndMonth=function(t,e){return new Date(t,e,1)},s.weekStart=function(t,e){e=(t.getDay()+7-e)%7;return new Date(t.getFullYear(),t.getMonth(),t.getDate()-e)},s.monthStart=function(t){return new Date(t.getFullYear(),t.getMonth(),1)},s.yearStart=function(t){return new Date(t.getFullYear(),0,1)},s.dayStart=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},s.addDay=function(t,e){return void 0===e&&(e=1),new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},s.addMonth=function(t,e){return void 0===e&&(e=1),new Date(t.getFullYear(),t.getMonth()+e)},s.addYear=function(t,e){return void 0===e&&(e=1),new Date(t.getFullYear()+e,t.getMonth())},s.withHoursAndMinutes=function(t,e,i,n){return void 0===n||!n&&12===e||n&&12!==e?new Date(t.getFullYear(),t.getMonth(),t.getDate(),e,i):n&&12===e?new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,i):new Date(t.getFullYear(),t.getMonth(),t.getDate(),e+12,i)},s.setMonth=function(t,e){t.setMonth(e)},s.setYear=function(t,e){t.setFullYear(e)},s.mergeHoursAndMinutes=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},s.isWeekEnd=function(t){return 0===t.getDay()||6===t.getDay()},s.getTwelweYears=function(t){t=t.getFullYear(),t-=t%12;return i.range(t,11+t)},s.getWeekNumber=function(t){6!==t.getDay()&&(t=s.addDay(t,6-t.getDay()));var e=(t.valueOf()-s.yearStart(t).valueOf())/864e5;return Math.floor((e-t.getDay()+10)/7)},s.isSameDay=function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},s.toDateObject=function(t,e){return"string"==typeof t?a(t,e):new Date(t)},s.nullTimestampDate=new Date(0),e=s;function s(){}n.DateHelper=e},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWidth=function(t,n,o){return t=t.filter(function(t){return!t.hidden}),n?t.reduce(function(t,e,i){e=e.$width;return t+=o<=i&&i<o+n?e:0},0):t[o].$width},e.getHeight=function(t,n,o){return t=t.filter(function(t){return!t.hidden}),n?t.reduce(function(t,e,i){e=e.$height;return t+=o<=i&&i<o+n?e:0},0):t[o].$height}},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(58)),n(e(123)),n(e(35))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i=i(5);e.DataEvents=i.DataEvents,(e=e.NavigationBarEvents||(e.NavigationBarEvents={})).inputCreated="inputCreated",e.click="click",e.openMenu="openMenu",e.beforeHide="beforeHide",e.afterHide="afterHide",e.inputFocus="inputFocus",e.inputBlur="inputBlur",e.inputChange="inputChange"},function(t,e,i){"use strict";var f=this&&this.__assign||function(){return(f=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function p(t,e,i){var n=t.x,o=t.y;switch(i){case"top":return t.$item.getPoint(n+t.width/2,o-e);case"bottom":return t.$item.getPoint(n+t.width/2,o+t.height+e);case"left":return t.$item.getPoint(n-e,o+t.height/2);case"right":return t.$item.getPoint(n+t.width+e,o+t.height/2);case"center":return t.$item.getPoint(n+t.width/2,o+t.height/2)}}function g(t,e,i,n,o,r){if(void 0===r&&(r=10),!o){var a=i.y===n.y?+r:0,s=i.x===n.x?+r:0;return[t,{x1:i.x,y1:i.y,x:i.x+a,y:i.y+s},{x:n.x-a,y:n.y-s},{x1:n.x,y1:n.y,x:e.x,y:e.y}]}var l=n.x<o.x?-1:1,d=n.y<o.y?-1:1,c=i.x>o.x?1:-1,u=i.y>o.y?1:-1,h=f({},o),a=f({},n),s={x1:o.x,y1:o.y,x:o.x,y:o.y+r*d};return i.x===o.x&&(h.y+=r*u,a.x-=r*l,s={x1:o.x,y1:o.y,x:o.x+r*l,y:o.y}),i.y===o.y&&(h.x+=r*c,a.y-=r*d,s={x1:o.x,y1:o.y,x:o.x,y:o.y+r*d}),[t,i,h,s,a,{x1:n.x,y1:n.y,x:e.x,y:e.y}]}Object.defineProperty(e,"__esModule",{value:!0});var _=["top","bottom","right","left","center"];function r(t,e,s,i,n,o,r){var a,l;void 0===o&&(o=""),void 0===r&&(r="");var d,c,u=n&&i<n?n:i||0;if("center"===o&&"center"===r)return[{x:e.x+e.width/2,y:e.y+e.height/2},{x:s.x+s.width/2,y:s.y+s.height/2}];o&&(a=p(e,0,o),d=p(e,i,o)),r&&(l=p(s,0,r),c=p(s,u,r)),o&&r||(d=(h=_.map(function(r){var a=p(e,i,r);return _.map(function(t){var e,i,n,o=p(s,u,t),e=(e=a,n=(i=o).x-e.x,e=i.y-e.y,Math.sqrt(n*n+e*e));return[a,o,e,r,t]}).sort(function(t,e){return t[2]-e[2]})[0]}).sort(function(t,e){return t[2]-e[2]})[0])[0],c=h[1],o=h[3],r=h[4],t.fromSide=o,t.toSide=r,a=p(e,0,o),l=p(s,0,r));n="bottom"===o&&"top"===r||"top"===o&&"bottom"===r?Math.abs(l.y-a.y):0;0<(n=n||("left"===o&&"right"===r||"right"===o&&"left"===r?Math.abs(l.x-a.x):0))&&n<=u+i&&(c=p(s,u=n-i,r));var h=[];return d.x===c.x||d.y===c.y?a.x===d.x&&d.x===l.x||a.y===d.y&&d.y===l.y?h=[a,l]:(h=[a,d,c,l],t.cornersRadius&&"straight"!==t.connectType&&(h=g(a,l,d,c,null,t.cornersRadius))):(o=d.x<a.x&&d.x<c.x,n=d.y>a.y&&d.y>c.y,r=a.x===d.x||o?{x:d.x,y:c.y}:{x:c.x,y:d.y},r=n?{x:c.x,y:d.y}:r,h="flex"===t.connectType?(o=l,[a,{x1:(n=r).x,y1:n.y,x:o.x,y:o.y}]):t.cornersRadius&&"straight"!==t.connectType?g(a,l,d,c,r,t.cornersRadius):[a,d,r,c,l]),h}e.nearestLinkPath=function(t,e,i,n){if(e&&i){var o=r(t,e,i,n.lineGap,t.customGap,t.fromSide,t.toSide);if("straight"===t.connectType)return t.points=[o[0],o[o.length-1]];t.points?(t.points.length===o.length?t.points=t.points.map(function(t,e){return t&&o[e]&&!t.$custom?o[e]:t}):(n=t.points.filter(function(t){return t.$custom}),t.points=n.length?t.points:o),t.$move||(t.points[0]=o[0],t.points[t.points.length-1]=o[o.length-1])):t.points=o}},e.directLinkPath=function(t,e,i,n){var o,r,a,s,l,d,c,u,h,f,p,g;!t&&e.assistant&&e.partner||(o=e.x+(e.dx||0),p=e.y+(e.dy||0),r=i.x+(i.dx||0),a=i.y+(i.dy||0),e.dir&&e.dir.includes("vertical")||Array.isArray(e.dir)?(s=o,l=Math.round(p+e.height/2),d=r,c=Math.round(a+i.height/2),g=.5-Math.round(n.margin.itemX/2),"vertical"===e.dir&&(t.points=[{x:s,y:l},{x:s+g,y:l},{x:s+g,y:c},{x:d,y:c}]),("verticalLeft"===e.dir||Array.isArray(e.dir)&&e.dir.includes("verticalLeft"))&&(t.points=[{x:s,y:l},{x:s+g,y:l},{x:s+g,y:c},{x:d+i.width,y:c}]),("verticalRight"===e.dir||Array.isArray(e.dir)&&e.dir.includes("verticalRight"))&&(t.points=[{x:s+e.width,y:l},{x:s+e.width-g,y:l},{x:s+e.width-g,y:c},{x:d,y:c}])):(s=Math.round(o+e.width/2),l=p+e.height,d=r+(i.$even?0:i.width),c=Math.round(a+i.height/2),i.partner?(f=i.$even?o+e.width:o,u=Math.round(p+e.height/2),h=Math.round(n.margin.itemX/2),h=i.$even?h:-h,t.points=[{x:f,y:u},{x:f+h,y:u},{x:f+h,y:c},{x:d,y:c}]):i.assistant?1===(null===(f=null==e?void 0:e.$partners)||void 0===f?void 0:f.common.length)?(h=o,f=Math.round(p+e.height/2),p=Math.round(n.margin.itemX/2),t.points=[{x:h,y:f},{x:h-p,y:f},{x:h-p,y:c},{x:d,y:c}]):t.points=[{x:s,y:l},{x:s,y:l},{x:s,y:c},{x:d,y:c}]:(d=Math.round(r+i.width/2),c=a,g=e.$height-(e.$baseHeight+e.height)/2,1!==(null===(a=null==e?void 0:e.$partners)||void 0===a?void 0:a.common.length)?t.points=[{x:s,y:l},{x:s,y:l+g},{x:d,y:l+g},{x:d,y:c}]:(n=Math.round(o-n.margin.itemX/2),t.points=[{x:n,y:l-e.height/2},{x:n,y:l+g},{x:d,y:l+g},{x:d,y:c}]))))}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.RealPosition||(e.RealPosition={})).left="left",n.right="right",n.top="top",n.bottom="bottom",n.center="center",(n=e.Position||(e.Position={})).right="right",n.bottom="bottom",n.center="center",(e=e.MessageContainerPosition||(e.MessageContainerPosition={})).topLeft="top-left",e.topRight="top-right",e.bottomLeft="bottom-left",e.bottomRight="bottom-right"},function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";(function(d){Object.defineProperty(e,"__esModule",{value:!0});var c=i(11),u=i(12);function h(t){return t?t.includes("json")?"json":t.includes("xml")?"xml":"text":"text"}function n(o,r,a,t,s){var n,l=t||{};return s&&(l.Accept="application/"+s),"GET"!==a&&(l["Content-Type"]=l["Content-Type"]||"application/json"),"GET"===a&&((t=r&&"object"==typeof r?(n=r,Object.keys(n).reduce(function(t,e){var i="object"==typeof n[e]?JSON.stringify(n[e]):n[e];return t.push(e+"="+encodeURIComponent(i)),t},[]).join("&")):r&&"string"==typeof r?r:"")&&(o+=o.includes("?")?"&":"?",o+=t),r=null),window.fetch?window.fetch(o,{method:a,body:r?JSON.stringify(r):null,headers:l}).then(function(e){if(!e.ok)return e.text().then(function(t){return d.reject({status:e.status,statusText:e.statusText,message:t})});var t=s||h(e.headers.get("Content-Type"));if("raw"===t)return{headers:Object.fromEntries(e.headers.entries()),url:e.url,body:e.body};if(204!==e.status)switch(t){case"json":return e.json();case"xml":var i=u.toDataDriver(c.DataDriver.xml);return i?e.text().then(function(t){return i.toJsonObject(t)}):e.text();default:return e.text()}}):new d(function(t,e){var i,n=new XMLHttpRequest;for(i in n.onload=function(){200<=n.status&&n.status<300?("raw"===s&&t({url:n.responseURL,headers:n.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce(function(t,e){e=e.split(": ");return t[e[0]]=e[1],t},{}),body:n.response}),204===n.status?t():t(function(t,e){switch(e){case"json":return JSON.parse(t);case"text":return t;case"xml":var i=u.toDataDriver(c.DataDriver.xml);return i?i.toJsonObject(t):{parseError:"Incorrect data driver type: 'xml'"};default:return t}}(n.responseText,s||h(n.getResponseHeader("Content-Type"))))):e({status:n.status,statusText:n.statusText})},n.onerror=function(){e({status:n.status,statusText:n.statusText,message:n.responseText})},n.open(a,o),l)n.setRequestHeader(i,l[i]);switch(a){case"POST":case"DELETE":case"PUT":n.send(void 0!==r?JSON.stringify(r):"");break;case"GET":default:n.send()}})}e.ajax={get:function(t,e,i){return n(t,e,"GET",i&&i.headers,void 0!==i?i.responseType:void 0)},post:function(t,e,i){return n(t,e,"POST",i&&i.headers,void 0!==i?i.responseType:void 0)},put:function(t,e,i){return n(t,e,"PUT",i&&i.headers,void 0!==i?i.responseType:void 0)},delete:function(t,e,i){return n(t,e,"DELETE",i&&i.headers,void 0!==i?i.responseType:void 0)}}}).call(this,i(14))},function(t,e,i){"use strict";var k=this&&this.__assign||function(){return(k=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var S=i(1),M=i(0),D=i(27),v=i(9),n=i(3),m=i(115),c=i(2),y=i(13);function o(t,e,i,n,o){e=c.locateNodeByClassName(o.target,"dhx_grid-fixed-cols-wrap")?0:e;var r,a,s,l=c.locateNodeByClassName(o.target,"dhx_grid-cell"),d=c.locateNodeByClassName(o.target,"dhx_span-cell");(l||d)&&n&&(r=(s=l?l.parentNode:d).parentNode,a=l?Array.prototype.indexOf.call(s.childNodes,l):i.columns.findIndex(function(t){return t.id===d.getAttribute("dhx_col_id")}),a=i.columns.filter(function(t){return!t.hidden})[e+a],s=l?Array.prototype.indexOf.call(r.childNodes,s):Number(d.getAttribute("dhx_id"))-1,s=i.data[""+((l?t:0)+s)],(n.toLocaleLowerCase().includes("touch")?i._events:i.events).fire(n,[s,a,o]))}function O(t,e,i){return{onclick:[o,t,e,i,n.GridEvents.cellClick],onmouseover:[o,t,e,i,n.GridEvents.cellMouseOver],onmousedown:[o,t,e,i,n.GridEvents.cellMouseDown],ondblclick:[o,t,e,i,n.GridEvents.cellDblClick],oncontextmenu:[o,t,e,i,n.GridEvents.cellRightClick],ontouchstart:[o,t,e,i,n.GridEvents.cellMouseDown],ontouchmove:[o,t,e,i,n.GridSystemEvents.cellTouchMove],ontouchend:[o,t,e,i,n.GridSystemEvents.cellTouchEnd]}}function b(t,e,i,n){var o=n.$editable&&n.$editable.row===e.id&&n.$editable.col===i.id,r="",a=i.align?" dhx_align-"+i.align:"dhx_align-left";n.dragMode&&"row"===n.dragItem&&(r+=(e.$drophere&&!o?" dhx_grid-cell--drophere":"")+(e.$dragtarget&&!o?" dhx_grid-cell--dragtarget":"")+(o?"":" dhx_grid-cell--drag"));var s=y.getTreeCellWidthOffset(e);return M.el(".dhx_grid-cell",k({class:"dhx_tree-cell "+(i.$cellCss[e.id]||"")+" "+(e.$items?"dhx_grid-expand-cell":"")+" "+(o?"dhx_tree-editing-cell":"")+" "+r+a,style:{width:i.$width,height:e.$height,padding:e.$items?0:"0 0 0 "+s+"px"},dhx_col_id:i.id},{role:"gridcell","aria-colindex":1}),[e.$items?M.el(".dhx_grid-expand-cell-icon",k(k({class:e.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down",dhx_id:e.id},{role:"button","aria-label":e.$opened?"Collapse group":"Expand group"}),{style:{padding:e.$level?"0 0 0 "+(4+s)+"px":"0 0 0 4px"}})):null,M.el(".dhx_tree-cell",{class:a+(n.autoHeight?" dhx_tree-cell_auto-height":"")},[t])])}e.getHandlers=O,e.getTreeCell=b,e.getCells=function(f){if(!f.data||!f.columns)return[];var p=f.$positions,n=f.data?f.data.slice(p.yStart,p.yEnd):[],o=f.columns.slice(p.xStart,p.xEnd),g=f.selection.getCell(),_=!0;return n.map(function(h,t){var e=n.length-1===t,i="";return f.rowCss&&(i=f.rowCss(h)),h.$css&&(i+=h.$css),M.el(".dhx_grid-row",k({style:{height:e?h.$height+1:h.$height},dhx_id:h.id,class:i,_key:h.id,_flags:M.KEYED_LIST},{role:"row","aria-rowindex":p.yStart+t+1}),h.$customRender?[h.$customRender(h,f)]:o.map(function(t,e){var i,n,o,r;if(!t.hidden){var a=y.toFormat(h[t.id],t.type,t.format),s=function(t,e,i,n){return k({role:"gridcell","aria-colindex":e,"aria-readonly":n?"false":"true"},(e=t,n=h,t={tabindex:-1},g?g.row.id===n.id&&g.column.id===e.id&&(t.tabindex=0):_&&(t.tabindex=0,t.onfocus=function(t){var e;f.selection&&!g&&(e=t.target.parentNode.getAttribute("dhx_id"),(t=t.target.getAttribute("dhx_col_id"))&&e&&(f.selection.setCell(e,t),g=f.selection.getCell()))}),_=!1,t))},l=t.template?t.template(a,h,t):"boolean"!=typeof(r=a)&&"boolean"!==t.type||"string"==typeof r?r||0===r?r:"":""+Boolean(r);"string"==typeof l&&(l=v.isHtmlEnable(f,t)?M.el("div.dhx_grid-cell__content",k({".innerHTML":l},{role:"button","aria-label":"Edit content"})):l);var d=((t.$cellCss&&t.$cellCss[h.id]||"")+" dhx_"+t.type+"-cell").replace(/\s+/g," "),c=t.$width,u=f.$editable&&f.$editable.row===h.id&&f.$editable.col===t.id;return((u||"boolean"===t.type&&(f.editable&&(null===(o=t.editable)||void 0===o||o)||!f.editable&&t.editable))&&(f.leftSplit&&f.columns.length!==f.leftSplit&&f.columns.indexOf(t)<f.leftSplit||(i=h,n=t,o=f,l=m.getEditor(i,n,o).toHTML(),d+=" dhx_grid-cell__editable",f.leftSplit===f.columns.indexOf(t)+1&&--c)),"tree"===f.type&&f.firstColId===t.id)?b(l,h,t,f):(f.dragMode&&"row"===f.dragItem&&(d+=(h.$drophere&&!u?" dhx_grid-cell--drophere":"")+(h.$dragtarget&&!u?" dhx_grid-cell--dragtarget":"")+(u?"":" dhx_grid-cell--drag")),t.align&&(d+=" dhx_align-"+t.align),f.autoHeight&&(d+=" dhx_grid-cell__content_auto-height"),M.el(".dhx_grid-cell",k({class:d,style:{width:c,height:h.$height+"px"},_key:t.id,dhx_col_id:t.id},s(t,p.xStart+e+1,0,f.editable)),[l]))}}))})},e.getSpans=function(m,y){var b=[],x=m.$positions,w=m.columns,C=m.data;if(!w.length||!m.spans)return null;for(var E=m.spans.sort(function(t,e){return"string"==typeof t.row&&"string"==typeof e.row?t.row.localeCompare(e.row):t.row-e.row}),t=0;t<E.length;t++)!function(t){var e=E[t].row,i=E[t].column,n=E[t].rowspan,o=E[t].colspan,r=E[t].css;if(1===n)return;var a=S.findIndex(w,function(t){return""+t.id==""+i}),s=S.findIndex(C,function(t){return""+t.id==""+e});if(a<0||s<0)return;if(!0===y&&((o||1)+a>m.leftSplit||a+1>m.leftSplit))return;var l=w[a],d=C[s];if(l.hidden)return;var c=E[t].text||(void 0===d[i]?"":d[i]);c="string"==typeof(c=(l.template||function(t,e,i){return t||0===t?t:""})(c,d,l))?M.el("div.dhx_span-cell-content",{".innerHTML":c}):c;for(var u=0,h=0;h<s;h++)u+=C[h].$height;for(var f=u-1,p=0,g=a-1;0<=g;g--)p+=w[g].$width;var _=a===w.length-1,v=a+o===w.length,t=l.header[0].text?" dhx_span-cell":" dhx_span-cell dhx_span-cell--title";t+=r?" "+r:"",t+=0===s?" dhx_span-first-row":"",t+=0===a?" dhx_span-first-col":"",t+=_||v?" dhx_span-last-col":"",t+=o?" dhx_span-string-cell":" dhx_span-"+(l.type||"string")+"-cell",t+=l.align?" dhx_align-"+l.align:" dhx_align-left";l=1<o?D.getWidth(w,o,a):l.$width,d=1<n?D.getHeight(C,n,s):d.$height;b.push(M.el("div",k({class:t,style:{width:l,height:d,top:f,left:p},dhx_col_id:i,dhx_id:e,"aria-hidden":"true"},O(x.yStart,x.xStart,m)),[c]))}(t);return b},e.getShifts=function(t){var e=t.columns.slice(0,t.$positions.xStart),t=t.data.slice(0,t.$positions.yStart);return{x:v.getTotalWidth(e),y:v.getTotalHeight(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.LayoutEvents||(e.LayoutEvents={})).beforeShow="beforeShow",e.afterShow="afterShow",e.beforeHide="beforeHide",e.afterHide="afterHide",e.beforeResizeStart="beforeResizeStart",e.resize="resize",e.afterResizeEnd="afterResizeEnd",e.beforeAdd="beforeAdd",e.afterAdd="afterAdd",e.beforeRemove="beforeRemove",e.afterRemove="afterRemove",e.beforeCollapse="beforeCollapse",e.afterCollapse="afterCollapse",e.beforeExpand="beforeExpand",e.afterExpand="afterExpand"},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(1),o=e(0),v=e(2);i.scrollViewConfig={enable:!1,autoHide:!0,timeout:1e3,scrollHandler:function(){}};n.prototype.enable=function(){this.config.enable=!0,this._getRootView().redraw()},n.prototype.disable=function(){this.config.enable=!1,this._getRootView().redraw()},n.prototype.render=function(t,e){var i=this;if(void 0===e&&(e=""),0===this._scrollWidth||!this.config.enable||!t.length)return t;e&&(this._uid=e);var n=this.config.enable?[o.el(".y-scroll",((n={})[this._wheelName]=this._handlers[this._wheelName],n._ref=e?"scroll-y-area-"+e:"scroll-y-area",n.onmousedown=this._handlers.onmousedownArea,n.onmouseenter=this._handlers.onmouseenter,n.onmouseleave=this._handlers.onmouseleave,n.style={width:"6px",height:"100%",right:0,top:0,position:"absolute"},n),[o.el(".scroll-runner",{_ref:e?"scroll-y-runner-"+e:"scroll-y-runner",onmousedown:this._handlers.onmousedownRunner,style:{height:this._runnerHeight+"px",top:this._runnerYTop}})]),o.el(".x-scroll",((n={})[this._wheelName]=this._handlers[this._wheelName],n._ref=e?"scroll-x-area-"+e:"scroll-x-area",n.onmousedown=this._handlers.onmousedownArea,n.onmouseenter=this._handlers.onmouseenter,n.onmouseleave=this._handlers.onmouseleave,n.style={width:"100%",height:"6px",left:0,bottom:0,position:"absolute"},n),[o.el(".scroll-runner",{_ref:e?"scroll-x-runner-"+e:"scroll-x-runner",onmousedown:this._handlers.onmousedownRunner,style:{width:this._runnerWidth+"px",left:this._runnerXLeft}})])]:null;return o.el(".scroll-view-wrapper",[o.el(".scroll-view",{onscroll:this._handlers.onscroll,_ref:e?"scroll-view-"+e:"scroll-view",_hooks:{didInsert:function(){i.update()},didRecycle:function(){i.update()}},style:{width:"calc(100% + "+this._scrollWidth+"px)",height:"calc(100% + "+this._scrollHeight+"px)"}},t)].concat(n))},n.prototype.update=function(){var t,e,i,n,o,r=this._getRefs();r&&(o=r.area,t=r.areaX,e=r.areaY,i=r.runnerY,n=r.runnerX,this._visibleYArea=o.clientHeight/o.scrollHeight,this._visibleXArea=o.clientWidth/o.scrollWidth,this._scrollYTop=o.scrollTop,this._scrollXLeft=o.scrollLeft,this._runnerYTop=this._scrollYTop*this._visibleYArea,this._runnerXLeft=this._scrollXLeft*this._visibleXArea,this._runnerHeight=this._visibleYArea<1?o.clientHeight*this._visibleYArea:0,this._runnerWidth=this._visibleXArea<1?o.clientWidth*this._visibleXArea:0,r=i.style.top,o=n.style.left,i.style.opacity=1,i.style.top=this._runnerYTop+"px",i.style.height=this._runnerHeight+"px",n.style.opacity=1,n.style.left=this._runnerXLeft+"px",n.style.width=this._runnerWidth+"px",r!==i.style.top&&(e.style.opacity=.9,e.style.width="10px"),o!==n.style.left&&(t.style.opacity=.9,t.style.height="10px"),this.config.autoHide?this._autoHideFunc||(this._autoHideFunc=a.debounce(function(){i.style.opacity=0,e.style.width="6px",n.style.opacity=0,t.style.height="6px"},this.config.timeout)):this._autoHideFunc=a.debounce(function(){e.style.width="6px",t.style.height="6px"},this.config.timeout),this._autoHideFunc())},n.prototype._getRefs=function(){var t=this._getRootView(),e=!(!t.refs["scroll-view"]||!t.refs["scroll-x-runner"]&&!t.refs["scroll-y-runner"]),i=!(!this._uid||!t.refs["scroll-view-"+this._uid]||!t.refs["scroll-x-runner-"+this._uid]&&!t.refs["scroll-y-runner-"+this._uid]);if(t.refs)return e?{area:t.refs["scroll-view"].el,areaY:t.refs["scroll-y-area"].el,areaX:t.refs["scroll-x-area"].el,runnerY:t.refs["scroll-y-runner"].el,runnerX:t.refs["scroll-x-runner"].el}:i?{area:t.refs["scroll-view-"+this._uid].el,areaY:t.refs["scroll-y-area-"+this._uid].el,areaX:t.refs["scroll-x-area-"+this._uid].el,runnerY:t.refs["scroll-y-runner-"+this._uid].el,runnerX:t.refs["scroll-x-runner-"+this._uid].el}:void 0},e=n;function n(t,e){var _=this;void 0===e&&(e={}),this.config=a.extend({enable:i.scrollViewConfig.enable,autoHide:i.scrollViewConfig.autoHide,timeout:i.scrollViewConfig.timeout,scrollHandler:i.scrollViewConfig.scrollHandler},e),this._wheelName=v.isIE()?"onmousewheel":"onwheel",this._getRootView=t,this._scrollYTop=this._scrollXLeft=this._runnerYTop=this._runnerXLeft=this._runnerHeight=this._runnerWidth=0,this._visibleYArea=this._visibleXArea=1,this._scrollWidth=v.getScrollbarWidth(),this._scrollHeight=v.getScrollbarHeight(),this._handlers=((t={onscroll:function(t){_.config.scrollHandler(t),_.update()}})[this._wheelName]=function(t){var e=!!v.locateNodeByClassName(t.target,"y-scroll");t.preventDefault();var i,n=40*(0<(t.deltaY||-t.wheelDelta)?1:-1),t=_._getRefs().area;e?(e=t.scrollHeight-_._runnerHeight,i=_._scrollYTop+n,t.scrollTop=i<0?0:e<i?e:i):(i=t.scrollWidth-_._runnerWidth,n=_._scrollXLeft+n,t.scrollLeft=n<0?0:i<n?i:n),_.update()},t.onmousedownRunner=function(t){t.preventDefault();function e(t){var e;i?(e=t.pageY-c,o.scrollTop=e<=s?0:l<e?d:(e-s)/_._visibleYArea):(t=t.pageX-p,o.scrollLeft=t<=u?0:h<t?f:(t-u)/_._visibleXArea),_.update()}var i=!!v.locateNodeByClassName(t.target,"y-scroll"),n=_._getRefs(),o=n.area,r=n.runnerY,a=n.runnerX,n=o.getBoundingClientRect(),s=n.top+window.pageYOffset,l=n.bottom+window.pageYOffset,d=o.scrollHeight-_._runnerHeight,c=t.pageY-r.getBoundingClientRect().top-window.pageYOffset,u=n.left+window.pageXOffset,h=n.right+window.pageXOffset,f=o.scrollWidth-_._runnerWidth,p=t.pageX-a.getBoundingClientRect().left-window.pageXOffset,g=function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",g),document.body.classList.remove("dhx-no-select")};document.body.classList.add("dhx-no-select"),document.addEventListener("mousemove",e),document.addEventListener("mouseup",g)},t.onmousedownArea=function(t){var e,i,n,o;v.locateNodeByClassName(t,"scroll-runner")||(t.preventDefault(),e=!!v.locateNodeByClassName(t.target,"y-scroll"),i=(o=_._getRefs()).area,n=o.runnerY,o=o.runnerX,e?i.scrollTop+=(t.pageY-n.getBoundingClientRect().top)/_._visibleYArea:i.scrollLeft+=(t.pageX-o.getBoundingClientRect().left)/_._visibleXArea,_.update())},t.onmouseenter=function(t){var e,i;v.locateNodeByClassName(t,"scroll-runner")||(i=_._getRefs())&&(e=!!v.locateNodeByClassName(t.target,"y-scroll"),t=i.areaX,i=i.areaY,e&&0<_._runnerHeight?i.style.background="#eee":!e&&0<_._runnerWidth&&(t.style.background="#eee"))},t.onmouseleave=function(t){var e,i;v.locateNodeByClassName(t,"scroll-runner")||(i=_._getRefs())&&(e=!!v.locateNodeByClassName(t.target,"y-scroll"),t=i.areaX,i=i.areaY,e&&0<_._runnerHeight?i.style.background="transparent":!e&&0<_._runnerWidth&&(t.style.background="transparent"))},t)}i.ScrollView=e},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.ListEvents||(e.ListEvents={})).click="click",e.doubleClick="doubleclick",e.focusChange="focuschange",e.beforeEditStart="beforeEditStart",e.afterEditStart="afterEditStart",e.beforeEditEnd="beforeEditEnd",e.afterEditEnd="afterEditEnd",e.itemRightClick="itemRightClick",e.itemMouseOver="itemMouseOver",e.contextmenu="contextmenu"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),i=(o.prototype.isFixed=function(){return this.config.fixed},o.prototype.isEditable=function(){return this.config.editable||!1},o.prototype.getBaseType=function(){return"base"},o.prototype.isLocate=function(t){var e=this.config,i=e.x,n=e.y,o=e.height,r=e.width,a=e.dx,a=void 0===a?0:a,e=e.dy,e=void 0===e?0:e,a=i+r+a>=t.x&&i+a<=t.x+t.width,t=n+o+e>=t.y&&n+e<=t.y+t.height;return a&&t},o.prototype.getBox=function(){var t=this.config,e=t.x,i=void 0===e?0:e,n=t.y,o=void 0===n?0:n,e=t.dx,n=void 0===e?0:e,e=t.dy,n=i+n,e=o+(void 0===e?0:e);return{left:n,right:n+t.width,top:e,bottom:e+t.height}},o.prototype.canResize=function(){return!0},o.prototype.render=function(){return""},o.prototype.getEditorNode=function(){return this.editorNode},o.prototype.setEditorNode=function(t,e,i){this.editorNode=t,e&&(this.editableProperty.key=e),i&&(this.editableProperty.editableId=i)},o.prototype.destructor=function(){this.config=this.id=null},o.prototype.getMetaInfo=function(){return[n.meta.text]},o.prototype.getCss=function(){var t=this.config,e=t.$selected,i=t.$blockSelected,n=t.$target,o=t.assistant,r=void 0!==o&&o,a=t.partner,o=void 0!==a&&a,a=t.catchItem,t=void 0===a||a,a=this.config.css||"";return e&&(a+=" dhx_selected "),i&&(a+=" dhx_blockselected "),n&&(a+=r||o||!t?" dhx_action__target dhx_action__target--doesnt_take":" dhx_action__target dhx_action__target--take"),a},o.prototype.setDefaults=function(t,e){return t},o.prototype.getCoords=function(t){var e=t.dx,i=t.dy,n=t.$group,o=t.$gx,r=t.$gy,a=t.x,s=t.y;return e&&(a+=e),i&&(s+=i),n?{x:o,y:r}:(delete t.$gx,delete t.$gy,{x:a,y:s})},o);function o(t,e){this.editableProperty={key:null,editableId:null},this.config=this.setDefaults(t,"line"===t.type||"dash"===t.type?e:e.defaults),this.id=this.config.id=t.id}e.BaseItem=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.copy=function(){var e=this,i=new o;return i.nodes=this.nodes.map(function(t){return{id:t.id,w:t.w,h:t.h,x:t.x,y:t.y,kids:[],links:[],isn:t.isn,iss:t.iss}}),i.hash={},i.nodes.forEach(function(t){i.hash[t.id]=t}),i.nodes.forEach(function(t){t.kids=e.hash[t.id].kids.map(function(t){return i.hash[t.id]}),t.links=e.hash[t.id].links.map(function(t){return i.hash[t.id]})}),i._tbounds=[].concat(this._tbounds),i._ybounds=[].concat(this._ybounds),i._bounds=this._bounds?this._bounds.map(function(t){return[].concat(t)}):[],i.routes=this.routes,i._root=this._root?i.hash[this._root.id]:null,i},o.prototype.collectSubNodes=function(t,e){for(var i=0;i<t.kids.length;i++){var n=t.kids[i];e.push(n),n.kids&&this.collectSubNodes(n,e)}},o.prototype.getLevelBounds=function(){return this._bounds},o.prototype.getBounds=function(t,e,i){t=i?this._tbounds:this._bounds[t];return[t[0]?t[0]-e/4:0,t[1]?t[1]+e/4:0]},o.prototype.addEdge=function(t,e){t=this.hash[t],e=this.hash[e];t.links.push(e),e.links.push(t)},o.prototype.importNodes=function(t){var e=this;t.forEach(function(t){e.hash[t.id]=t,e.nodes.push(t)})},o.prototype.split=function(e){var i=this,n=[];if(this.nodes=this.nodes.filter(function(t){return!e(t)||(delete i.hash[t.id],n.push(t),!1)}),!n.length)return null;var t=new o;return t.importNodes(n),t},o.prototype.addNode=function(t){t.kids=[],t.links=[],this._root||(this._root=t),this.hash[t.id]=t,this.nodes.push(t)},o.prototype.getNode=function(t){return this.hash[t]},o.prototype.getRoot=function(){return this._root},o.prototype.getLevels=function(){return this._deep},o.prototype.clean=function(){this.nodes.forEach(function(e){var i;1<e.links.length&&(i=[],e.links=e.links.filter(function(t){return!i.includes(t)&&e!==t&&(i.push(t),!0)}))})},o.prototype.getNodes=function(){return this.nodes},o.prototype.getBox=function(){return[this._tbounds,this._ybounds]},o.prototype.setGlobalBox=function(){var o,r,a,s;this.nodes.length&&(a=o=1/0,s=r=-1/0,this.nodes.forEach(function(t){var e=t.x-t.w/2,i=t.x+t.w/2,n=t.y-t.h/2,t=t.y+t.h/2;e<a&&(a=e),n<o&&(o=n),s<i&&(s=i),r<t&&(r=t)}),this._tbounds=[a,s],this._ybounds=[o,r])},o.prototype.translate=function(e){if(this.nodes.forEach(function(t){t.x+=e.x,t.y+=e.y}),this._tbounds[0]+=e.x,this._tbounds[1]+=e.x,this._bounds)for(var t=0;t<this._bounds.length;t++)this._bounds[t][0]+=e.x,this._bounds[t][1]+=e.x;this._ybounds&&(this._ybounds[0]+=e.y,this._ybounds[1]+=e.y)},o.prototype.rotate=function(t){var n=t.x,o=t.y;this.nodes.forEach(function(t){var e=t.x*o-t.y*n,i=t.x*n+t.y*o;t.x=e,t.y=i});var e=this._tbounds,i=e[0],r=e[1],t=this._ybounds,e=t[0],t=t[1];this._tbounds=[i*o-e*n,r*o-t*n].sort(),this._ybounds=[i*n+e*o,r*n+t*o].sort()},o.prototype.setBox=function(){var t=this._deep[this._deep.length-1],e=-1/0;t.forEach(function(t){t=t.y+t.h/2;e<t&&(e=t)}),this._ybounds=[this._root.y-this._root.h/2,e]},o.prototype.mirror=function(){this.nodes.forEach(function(t){t.x=-t.x});for(var t=0;t<this._bounds.length;t++){var e=this._bounds[t],i=e[0],e=e[1];this._bounds[t]=[-e,-i]}var n=this._tbounds,o=n[0],n=n[1];this._tbounds=[-n,-o]},o.prototype.nonLeaves=function(t){return t.kids.filter(function(t){return 0<t.kids.length})},o.prototype.toTree=function(t){return t&&this.hash[t.id]||(t=this._detectRoot()),this.nodes.forEach(function(t){return t.kids=[]}),this.setKids(t),t},o.prototype.root=function(t,e){this._deep=[[t]];e=Math.round((e&&e.rotate?t.h:t.w)/2);this._tbounds=[-e,e],this._bounds=[[-e,e]],this._leaves=[],this._root=t,this._setLevels(t,1),this._width=1;for(var i=0;i<this._deep.length;i++){var n=this._deep[i].length;n>this._width&&(this._width=n)}},o.prototype.setKids=function(e){var i=this;e.links.forEach(function(t){t.kids.length||(e.kids.push(t),i.setKids(t))})},o.prototype._detectRoot=function(){for(var i={},t=this.nodes,n=[];n.forEach(function(t){return i[t]=1}),n=[],t=t.filter(function(t){var e=1<t.links.map(function(t){return i[t.id]?0:1}).reduce(function(t,e){return t+e},0);return e||n.push(t.id),e}),2<t.length&&n.length;);return t[0]||this.nodes[0]},o.prototype._setLevels=function(t,e){for(var i=t.kids,n=0;n<i.length;n++){var o=i[n],r=this._deep[e];r?r.push(o):(this._deep[e]=[o],this._bounds[e]=[0,0]),o.kids.length?this._setLevels(o,e+1):this._leaves.push(o)}},o.prototype.getIString=function(){for(var t=[],e=0;e<this._leaves.length;e++)this._leaves[e].isn=0,this._leaves[e].iss="";for(e=this._deep.length-2;0<=e;e--){for(var i=this._deep[e].filter(function(t){return 0<t.kids.length}),n=0;n<i.length;n++)for(var o=i[n],r=0;r<o.kids.length;r++)o.iss=o.kids.map(function(t){return t.isn}).sort().join(",");i.sort(function(t,e){return t.iss>e.iss?1:-1}),t.push(i.map(function(t){return t.iss}).join("|"));for(var a=i[0].iss,s=1,n=0;n<i.length;n++)a!==i[n].iss&&(a=i[n].iss,s++),i[n].isn=s}return t.join(";")},o);function o(t,e,i){this._tbounds=[0,0],t?(this.nodes=[e],t.collectSubNodes(e,this.nodes),this.hash=t.hash,this.root(e,i)):(this.nodes=[],this.hash={})}e.default=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),m=this&&this.__assign||function(){return(m=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r,y=i(0),d=i(30),a=i(38),b=i(10),o=(r=a.BaseItem,o(s,r),s.prototype.getBaseType=function(){return"group"},s.prototype.isEditable=function(t){var e;return null===(e=null===(e=this.config)||void 0===e?void 0:e.header)||void 0===e?void 0:e.editable},s.prototype.getMetaInfo=function(){return[]},s.prototype.getLocatePercent=function(t){function e(t,e){var i=Math.max(e.left,t.left),t=Math.min(e.right,t.right);return Math.max(t-i,0)}var i=this.getBox(),i=e({left:t.left,right:t.right},{left:i.left,right:i.right})*e({left:t.top,right:t.bottom},{left:i.top,right:i.bottom}),t=(t.right-t.left)*(t.bottom-t.top);return Math.round(i/t*100)},s.prototype.setMinBox=function(t){var e=t||this.getBox(),i=e.left,n=e.right,t=e.top,e=e.bottom;this.config.$minBox={left:i,right:n,top:t,bottom:e}},s.prototype.getBox=function(){var t=this.config,e=t.x,i=void 0===e?0:e,n=t.y,o=void 0===n?0:n,e=t.dx,n=void 0===e?0:e,e=t.dy,n=i+n,e=o+(void 0===e?0:e);return{left:n,right:n+t.$width,top:e,bottom:e+t.$height}},s.prototype.getChildBox=function(){var e={left:0,top:0,right:0,bottom:0};return this.data.eachChild(this.id,function(t){t=t.$item.getBox();(t.right>e.right||0===e.right)&&(e.right=t.right),(t.left<e.left||0===e.left)&&(e.left=t.left),(t.bottom>e.bottom||0===e.bottom)&&(e.bottom=t.bottom),(t.top<e.top||0===e.top)&&(e.top=t.top)},!1),e},s.prototype.trackChildMove=function(t,e){var i=this.config,n=i.x,o=i.y,r=i.width,a=i.height,s=i.exitArea,l=s.padding,d=s.groupBehavior;if("unbound"!==d){var c,u,h,f,p,g=n+r-l>=t.right+e.x&&n+l<=t.left+e.x,_=o+a-l>=t.bottom+e.y&&o+l<=t.top+e.y;if("boundNoBorderExtension"===d)return g&&_;"boundBorderExtension"===d&&(c=(p=this.config.$minBox).right,u=p.left,h=p.top,f=p.bottom,i=n+r-l<=t.right+e.x,s=n+l>=t.left+e.x,d=o+l>=t.top+e.y,p=o+a-l<=t.bottom+e.y,t={x:n,y:o,width:r,height:a},(i||g&&e.x<0&&n+r+e.x-l>=c)&&(t.width+=e.x),(s||g&&0<e.x&&n+e.x-l<=u)&&(t.width+=-e.x,t.x+=e.x),(p||_&&e.y<0&&o+a+e.y-l>=f)&&(t.height+=e.y),(d||_&&0<e.y&&o+e.y-l<=h)&&(t.height+=-e.y,t.y+=e.y),this.data.update(this.id,t))}return!0},s.prototype.getChildHtmlNodes=function(t,e){var i=[],n=t.x,o=t.y,r=t.open,a=t.header,s=null==a||!a.enable||null==a||!a.closable||r;if(t.groupChildren.length)if(Array.isArray(e))for(var l=0;l<e.length;l++)!e[l].hidden&&s&&(e[l].$gx=e[l].x-n,e[l].$gy=e[l].y-o,i.push(e[l].$item.render()));else e.eachChild(this.id,function(t){!t.hidden&&s&&(t.$gx=t.x-n,t.$gy=t.y-o,i.push(t.$item.render()))},!1);return i},s.prototype.getChildSvgNodes=function(t,n){var o=this,r=t.$typeConfig,a=t.x,s=t.y,e=t.groupChildren,t=t.header,t=null==t||!t.enable||null==t||!t.closable||open,l=[];return e.length&&r&&t&&n.mapVisible(function(t){var e,i;"line"!==t.$item.getBaseType()||t.$move||null!==(i=null==t?void 0:t.points)&&void 0!==i&&i.some(function(t){return t.$custom})||(e=n.getItem(t.from),i=n.getItem(t.to),(null==e?void 0:e.$group)==o.id&&(null==i?void 0:i.$group)==o.id&&e.$gx&&e.$gy&&i.$gx&&i.$gy?(d.nearestLinkPath(t,m(m({},e),{x:e.$gx,y:e.$gy}),m(m({},i),{x:i.$gx,y:i.$gy}),r),l.push(t.$item.render())):(null==e?void 0:e.$group)===o.id&&e.$gx&&e.$gy&&i?(d.nearestLinkPath(t,m(m({},e),{x:e.$gx,y:e.$gy}),m(m({},i),{x:i.x-a,y:i.y-s}),r),l.push(t.$item.render())):(null==i?void 0:i.$group)===o.id&&i.$gx&&i.$gy&&e&&(d.nearestLinkPath(t,m(m({},e),{x:e.x-a,y:e.y-s}),m(m({},i),{x:i.$gx,y:i.$gy}),r),l.push(t.$item.render())))}),l},s.prototype.getGroupHeader=function(t,e){var i,n,o,r,a,s,l,d=t.id,c=t.header,u=c.text,h=c.closable,f=c.position,p=c.iconColor,g=t.$editable,_=t.open,v="$sgroup"!==t.type&&h,c="right"===f||"left"===f?t.height:"100%",h="bottom"===f||"top"===f?t.width:"100%";return y.el("div",{dhx_group_header:d,class:"dhx_diagram_group__header dhx_diagram_group__header--position_"+t.header.position,style:(n=(i=t).style,o=n.strokeWidth,r=n.stroke,a=n.borderStyle,s=i.header,l=s.position,n=s.fill,s="bottom"===l||"top"===l?i.header.height:"100%",l="right"===l||"left"===l?i.header.height:"100%",r=o+"px "+a+" "+r,{height:s,width:l,minWidth:l,minHeight:s,background:n,zIndex:i.$selected?1:0,border:r})},[y.el("span.dhx_diagram_group__header_text",{style:b.getTextStyle(m(m({},null==t?void 0:t.header),{container:{width:h,height:c}}))},g&&this.editableProperty.editableId===d?[e]:u),v&&b.getExpandIcon({color:p,open:_,position:f})||null])},s.prototype.setDefaults=function(t){return t.x=t.x||0,t.y=t.y||0,t.open="boolean"!=typeof t.open||t.open,t.header&&(t.header=m({enable:!0,text:"",fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"500",fontColor:"#4C4C4C",position:"top",editable:!0,fill:"#F7F7F7",height:40,iconColor:"#808080"},t.header)),t.style=m({strokeWidth:1,stroke:"#CCC",borderStyle:"solid",fill:"inherit",overFill:"rgba(46, 204, 113, 0.1)",partiallyFill:"rgba(231, 76, 60, 0.1)"},t.style),t.entryArea=m({catchArea:100,borderFlexible:!1},t.entryArea),t.entryArea.borderFlexible||(t.entryArea.catchArea=100),t.exitArea=m({groupBehavior:"unbound",padding:0},t.exitArea),t.fixed=t.fixed||!1,t.groupChildren=t.groupChildren||[],t},s.prototype.setServiceProp=function(t){var e=t.open,i=t.height,n=t.width,o=t.header;if(t.$captureArea=t.$captureArea||"out",o){var r=o.enable,a=o.closable,s=o.height,o=o.position;if(!e&&r&&a){a="left"===o||"right"===o,o="bottom"===o||"top"===o;return t.$width=a?parseInt(s):n,void(t.$height=o?parseInt(s):i)}}t.$width=n,t.$height=i},s);function s(t,e){t=r.call(this,t,e)||this;return t.data=e.data,t.setMinBox(),t}e.BaseGroup=o},function(t,e,i){"use strict";function b(t,e,i){var n=t.x,o=t.y,r=e.x,t=e.y,e=i.x,i=i.y;if(n===r)return{x:n,y:i};if(o===t)return{x:e,y:o};t=(t-o)/(r-n),r=-1/t,t=(t*n-r*e+i-o)/(t-r);return{x:t,y:r*(t-e)+i}}function x(t,e){var i=t.x,n=t.y,t=e.x,e=e.y;return Math.sqrt((t-i)*(t-i)+(e-n)*(e-n))}Object.defineProperty(e,"__esModule",{value:!0}),e.getNearPointStraightLine=b,e.getLineAngle=function(t,e){var i=t.x,n=t.y,t=e.x,e=e.y;return Math.atan((e-n)/(t-i))*(180/Math.PI)},e.getLineLength=x,e.getLinePercentage=function(t,e,i){return e=x(t,e),(i=x(t,i))<=e?i/e:e/i},e.getDistanceFactor=function(t){return void 0===t&&(t=50),"string"==typeof t&&(t=parseFloat(t)),100<=t?1:t<=0?0:t/100},e.getDistancePercentage=function(t){return 100*t},e.getDistanceEblowLine=function(t,e){for(var i,n=t.points,o=[],r=1/0,a=0,s=0,l=0,d=0;d<n.length-1;d++){var c=n[d],u=n[d+1],h=b(c,u,e),f=x(h,e),p=x(c,u);a+=p,o.push(p);var g=c.x,_=c.y,v=u.x,m=u.y,p=h.x,u=h.y;v<g&&(g=(i=[v,g])[0],v=i[1]),m<_&&(_=(i=[m,_])[0],m=i[1]),f<=r&&(p<=v&&g<=p)&&(u<=m&&_<=u)&&(r=f,s=x(c,h),l=d)}var y=0;if(0!==l)for(d=0;d<l;d++)y+=o[d];return(y+=s)/a*100}},,,function(t,h,e){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(h,"__esModule",{value:!0});var o,f=e(0),r=e(18),c=e(10),a=e(8),s=e(7),i=(o=r.BaseShape,i(l,o),l.prototype.getMetaInfo=function(){return a.getMeta([{type:"grid",label:s.default.gridStep},{type:"arrange",label:s.default.arrange},{type:"fill",label:s.default.fill},{type:"text",label:s.default.text},{type:"strokeProps",label:s.default.stroke},{type:"textProps",label:s.default.textProps}])},l.prototype.setDefaults=function(t,e){var i=t.width,n=t.height,o=t.stroke,r=t.extraLinesStroke,a=t.fill,s=t.strokeWidth,l=t.fontColor,d=t.strokeDash,c=t.textAlign,u=t.lineHeight,h=t.fontStyle,f=t.textVerticalAlign,p=t.type,g=t.fontSize,_=t.text,v=t.preview,m=t.x,y=t.y,b=t.fixed,x=t.editable,w="roll"===p?"#DEDEDE":r||"#FFF";t.extraLinesStroke=e.extraLinesStroke||w;var C=["circle","or","junction"].includes(p),E=e.width?parseFloat(e.width):C?90:140,r=e.height?parseFloat(e.height):90,w=e.lineHeight?parseFloat(e.lineHeight):14,p=e.fontSize?parseFloat(e.fontSize):14,C=e.strokeWidth?parseFloat(e.strokeWidth):1;return t.strokeWidth=s||C,t.width=i||E,t.height=n||r,t.fontSize=g||p,t.lineHeight=u||w,t.strokeDash=d||e.strokeDash||"",t.fill=a||e.fill||"#DEDEDE",t.stroke=o||e.stroke||"#DEDEDE",t.text="string"==typeof _?_:e.text||"",t.textAlign=c||e.textAlign||"center",t.textVerticalAlign=f||e.textVerticalAlign||"center",t.fontStyle=h||e.fontStyle||"normal",t.fontColor=l||e.fontColor||"#4C4C4C",t.preview=v||e.preview,t.x=m||0,t.y=y||0,t.fixed=b||!1,t.editable="boolean"!=typeof x||x,t},l.prototype.getContent=function(){var t=this.config,e=t.text,t=t.$editable;return[f.el("div",{class:"shape_content dhx_diagram_item__text ",style:c.getShapeCss(this.config)},t?[this.getEditorNode()]:e)]},l.prototype.render=function(){var i=this;this.config.strokeType||(this.config.strokeType="line"),"line"===this.config.strokeType&&(this.config.strokeDash="0"),"dash"===this.config.strokeType&&(this.config.strokeDash="5,5"),"none"===this.config.strokeType&&(this.config.stroke="none");var t=this.config,e=t.id,n=t.angle,o=t.width,r=t.height,a=t.strokeWidth,s=t.$group,t=t.$selected,s=s||t?t?2:1:0,t=this.getCoords(this.config),a=a/2,l=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(t,e){l.push(c.getCircleTpl(i.config,e))}):l.push(c.getCircleTpl(this.config)),f.el("div",{_key:e,class:"dhx_diagram_item dhx_diagram_shape dhx_diagram_flow_item "+this.getCss(),dhx_id:e,style:{transform:"rotate("+(n||0)+"deg)",position:"absolute",height:r,width:o,top:t.y,left:t.x,zIndex:s}},d([f.sv("svg",{xmlns:"http://www.w3.org/2000/svg",height:r,width:o,viewBox:-a+" "+-a+" "+(o+a)+" "+(r+a),reserveAspectRatio:"none"},this._getShapeContour()),c.getTextTemplate(this.config,this.getContent())],l))},l.prototype._getShapeContour=function(){var t,e,i=this.config,n=i.width,o=i.height,r=i.stroke,a=i.fill,s=i.strokeWidth,l=i.strokeDash,d=i.extraLinesStroke,c=i.type,u=h.flowShapes[c],i=Math.round(n/12),c=n-s/2,n=o-s/2,o=u.path(c,n,i),i=u.additionalPath(c,n,i);return[(e=o,f.sv("path",{d:e,class:"dhx_diagram_flow_shape ",stroke:r,fill:a,"stroke-width":s,"stroke-dasharray":l})),(t=i,f.sv("path",{d:t,fill:"none",stroke:d,class:"dhx_diagram_extra_lines"}))]},l);function l(t,e){return o.call(this,t,e)||this}h.FlowShape=i,h.flowShapes={circle:{path:function(t,e){return"\n\t\t\tM "+t/2+" 0 A "+e/2+","+e/2+" 0 1 0 "+t/2+","+e+"\n\t\t\tA "+e/2+","+e/2+" 0 1 0 "+t/2+",0 Z"},additionalPath:function(){}},rectangle:{path:function(t,e){return"M 0,0 L 0,"+e+" L "+t+","+e+" L "+t+",0 Z"},additionalPath:function(){}},triangle:{path:function(t,e){return"M "+t/2+" 0 L"+t+" "+e+" L 0 "+e+" z"},additionalPath:function(){}},start:{path:function(t,e){return"\n\t\t\tM "+e/2+" 0 A "+e/2+","+e/2+" 0 1 0 "+e/2+","+e+"\n\t\t\tH "+(t-e/2)+" A "+e/2+","+e/2+" 0 1 0 "+(t-e/2)+",0 H "+e/2+" Z"},additionalPath:function(){}},end:{path:function(t,e){return"\n\t\t\tM "+e/2+" 0 A "+e/2+","+e/2+" 0 1 0 "+e/2+","+e+"\n\t\t\tH "+(t-e/2)+" A "+e/2+","+e/2+" 0 1 0 "+(t-e/2)+",0 H "+e/2+" Z"},additionalPath:function(){}},process:{path:function(t,e){return"M 0,0 L 0,"+e+" L "+t+","+e+" L "+t+",0 Z"},additionalPath:function(){}},output:{path:function(t,e,i){return"M "+2*i+",0 "+t+",0 "+(t-2*i)+","+e+" 0,"+e+" Z"},additionalPath:function(){}},decision:{path:function(t,e){return"M 0 "+e/2+" L "+t/2+" 0 L "+t+" "+e/2+" L "+t/2+" "+e+" Z"},additionalPath:function(){}},display:{path:function(t,e){return"\n\t\t\tM 0 "+e/2+" L "+t/4+" 0 H "+3*t/4+"\n\t\t\tA "+t/4+","+e/2+" 0 1 1 "+3*t/4+","+e+"\n\t\t\tH "+t/4+" Z"},additionalPath:function(){}},document:{path:function(t,e){return"M0 "+(e-=8)+" C\n\t\t\t"+t/6+" "+10*e/9+",\n\t\t\t"+t/3+" "+10*e/9+",\n\t\t\t"+t/2+" "+e+" S\n\t\t\t"+5*t/6+" "+8*e/9+",\n\t\t\t"+t+" "+e+"\n\t\t\tV 0 H 0 Z"},additionalPath:function(){}},data:{path:function(t,e,i){return"M "+i+" 0 Q\n\t\t\t"+-i+" "+e/2+",\n\t\t\t"+i+" "+e+" H "+t+" Q\n\t\t\t"+(t-2*i)+" "+e/2+",\n\t\t\t"+t+" 0 Z"},additionalPath:function(){}},database:{path:function(t,e,i){return"M 0 "+i+" A "+t/2+","+i+" 0 1 0 "+t+","+i+"\n\t\t\tA "+t/2+","+i+" 0 1 0 0,"+i+"\n\t\t\tV "+e+" H "+t+" V "+i},additionalPath:function(t,e,i){return"M 0 "+i+" A "+t/2+","+i+" 0 1 0 "+t+","+i}},internal:{path:function(t,e){return"M 0,0 L 0,"+e+" L "+t+","+e+" L "+t+",0 Z"},additionalPath:function(t,e,i){return"M "+i+" 0 V "+e+" M 0 "+i+" H "+t}},offline:{path:function(t,e){return"M 0,0 "+t+",0 "+t/2+","+e+" Z"},additionalPath:function(t,e,i){var n=e/Math.sqrt(Math.pow(t/2,2)+Math.pow(e,2)),n=Math.sqrt(Math.pow(i/n,2)-Math.pow(i,2));return"M "+(t/2-n)+" "+(e-i)+" h "+2*n}},delay:{path:function(t,e){return"\n\t\t\tM 0 0 H "+3*t/4+"\n\t\t\tA "+t/4+","+e/2+" 0 1 1 "+3*t/4+","+e+"\n\t\t\tH 0 Z"},additionalPath:function(){}},page:{path:function(t,e){return"\n\t\t\tM 0,0\n\t\t\t"+t+",0\n\t\t\t"+t+","+e/2+"\n\t\t\t"+t/2+","+e+"\n\t\t\t0,"+e/2+" Z"},additionalPath:function(){}},input:{path:function(t,e){return"\n\t\t\tM 0,"+e/3+"\n\t\t\t"+t+",0\n\t\t\t"+t+","+e+"\n\t\t\t0,"+e+" Z"},additionalPath:function(){}},operation:{path:function(t,e){return"\n\t\t\tM 0,0\n\t\t\t"+t+",0\n\t\t\t"+3*t/4+","+e+"\n\t\t\t"+t/4+","+e+" Z"},additionalPath:function(){}},punchcard:{path:function(t,e){return"\n\t\t\tM 0,"+e/4+"\n\t\t\t"+t/4+",0\n\t\t\t"+t+",0\n\t\t\t"+t+","+e+"\n\t\t\t0,"+e+" Z"},additionalPath:function(){}},subroutine:{path:function(t,e){return"M 0,0 L 0,"+e+" L "+t+","+e+" L "+t+",0 Z"},additionalPath:function(t,e,i){return"M "+i+" 0 V "+e+" M "+(t-i)+" 0 V "+e}},comment:{path:function(t,e){return"M "+t+" 0 H 0 V "+e+" H"+t+" V"+(e-4)+" H4 V4 H"+t},additionalPath:function(){}},storage:{path:function(t,e){return"M 0,0 "+t+",0 "+t/2+","+e+" Z"},additionalPath:function(){}},extract:{path:function(t,e){return"M 0,"+e+" "+t+","+e+" "+t/2+",0 Z"},additionalPath:function(){}},collate:{path:function(t,e){return"M "+t/2+" "+e/2+" L 0 0 H "+t+" L 0 "+e+" H "+t+" Z"},additionalPath:function(){}},or:{path:function(t,e){return"\n\t\t\tM "+t/2+" 0 A "+e/2+","+e/2+" 0 1 0 "+t/2+","+e+"\n\t\t\tA "+e/2+","+e/2+" 0 1 0 "+t/2+",0 Z"},additionalPath:function(t,e){return"\n\t\t\tM"+(t-e)/2+" "+e/2+" "+(t-(t-e)/2)+" "+e/2+"\n\t\t\tM"+t/2+" 0 "+t/2+" "+e}},junction:{path:function(t,e){return"\n\t\t\tM "+t/2+" 0 A "+e/2+","+e/2+" 0 1 0 "+t/2+","+e+"\n\t\t\tA "+e/2+","+e/2+" 0 1 0 "+t/2+",0 Z"},additionalPath:function(t,e){return"\n\t\t\tM "+(t/2-e*Math.SQRT2/4)+" "+(e/2-e*Math.SQRT2/4)+" L "+(t/2+e*Math.SQRT2/4)+" "+(e/2+e*Math.SQRT2/4)+"\n\t\t\tM "+(t/2-e*Math.SQRT2/4)+" "+(e/2+e*Math.SQRT2/4)+" L "+(t/2+e*Math.SQRT2/4)+" "+(e/2-e*Math.SQRT2/4)}},keyring:{path:function(t,e,i){return"\n\t\t\tM "+i+" 0 A "+i+","+e/2+" 0 1 0 "+i+","+e+"\n\t\t\tH "+(t-i)+" A "+i+","+e/2+" 0 1 0 "+(t-i)+",0 H "+i+" Z"},additionalPath:function(){}},tape:{path:function(t,e){return"\n\t\t\tM0 "+(e-12)+" C\n\t\t\t"+t/6+" "+10*(e-8)/9+",\n\t\t\t"+t/3+" "+10*(e-8)/9+",\n\t\t\t"+t/2+" "+(e-8)+" S\n\t\t\t"+5*t/6+" "+8*(e-8)/9+",\n\t\t\t"+t+" "+e+"\n\t\t\tV 12 C\n\t\t\t"+5*t/6+" "+-e/9+",\n\t\t\t"+2*t/3+" "+e/9/2+",\n\t\t\t"+t/2+" 8 S\n\t\t\t"+t/6+" "+e/9+",\n\t\t\t0 0 Z"},additionalPath:function(){}},preparation:{path:function(t,e){return"M0 "+e/2+"L20 0H"+(t-20)+"L "+t+" "+e/2+"L"+(t-20)+" "+e+"H20L0 "+e/2+"Z"},additionalPath:function(){}},endpoint:{path:function(t,e){return"M0 "+e/2+"  L"+t/2+" 0 L "+t/2+" "+e+" z"},additionalPath:function(){}},roll:{path:function(t,e){return"\n\t\t\tM "+t/2+" 0 A "+e/2+","+e/2+" 0 1 0 "+t/2+","+e+"\n\t\t\tA "+e/2+","+e/2+" 0 1 0 "+t/2+",0 Z"},additionalPath:function(t,e){return"M "+t/2+" "+e+" H "+t}}}},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={apply:"apply",reject:"reject"}},function(t,e,i){"use strict";function n(t){var e=document.activeElement;e.classList.contains("dhx_alert__apply-button")&&"Enter"===t.key||e.classList.contains("dhx_alert__confirm-reject")||e.classList.contains("dhx_alert__confirm-aply")||t.preventDefault()}Object.defineProperty(e,"__esModule",{value:!0}),e.blockScreen=function(t){var e=document.createElement("div");return e.className="dhx_alert__overlay "+(t||""),document.body.appendChild(e),document.addEventListener("keydown",n),function(){document.body.removeChild(e),document.removeEventListener("keydown",n)}}},function(t,e,i){},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(106)),n(e(148)),n(e(29))},function(t,e,i){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(107),a=i(110),l=i(21),d=i(12),c=i(11),p=i(1),i=(u.prototype._reset=function(){this._order=[],this._pull={},this._changes={order:[]},this._initOrder=null,this._meta=new WeakMap,this._loaded=!1},u.prototype.add=function(t,i){var n=this;if(this.events.fire(c.DataEvents.beforeAdd,[t])){t=Array.isArray(t)?t.map(function(t,e){return 0!==e&&(i+=1),n._add(t,i)}):this._add(t,i);return this._applySmart(),t}},u.prototype.remove=function(t){var e=this;t&&(t instanceof Array?n(t).map(function(t){e._remove(t)}):this._remove(t))},u.prototype.removeAll=function(){this._reset(),this.events.fire(c.DataEvents.removeAll),this.events.fire(c.DataEvents.change)},u.prototype.exists=function(t){return!!this._pull[t]},u.prototype.getNearId=function(t){if(!this._pull[t])return this._order[0].id||""},u.prototype.getItem=function(t){return this._pull[t]},u.prototype.update=function(t,e,i){var n=this.getItem(t);n?d.isEqualObj(e,n)||(e.id&&t!==e.id?(d.dhxWarning("this method doesn't allow change id"),d.isDebug()):(e.parent&&n.parent&&e.parent!==n.parent&&this.move(t,-1,this,e.parent),p.extend(this._pull[t],e,!1),this.config.update&&this.config.update(this._pull[t]),i||this._onChange("update",t,this._pull[t])),this._applySmart()):d.dhxWarning("item not found")},u.prototype.getIndex=function(e){if(!e)return-1;var t=p.findIndex(this._order,function(t){return t&&t.id.toString()===e.toString()});return this._pull[e]&&0<=t?t:void 0},u.prototype.getId=function(t){if(this._order[t])return this._order[t].id},u.prototype.getLength=function(){return this._order.length},u.prototype.isDataLoaded=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._order.length),p.isNumeric(t)&&p.isNumeric(e)?0===this._order.slice(t,e).filter(function(t){return t&&t.$empty}).length:(this._loaded||(this._loaded=!this.find(function(t){return t.$empty})),!!this._loaded)},u.prototype.filter=function(t,e){var i;this.isDataLoaded()?(e&&e.add||(this._order=this._initOrder||this._order,this._initOrder=null),!t||"function"==typeof t||void 0!==(i=t).by&&void 0!==i.match&&(t=i.compare?function(t){return i.compare(t[i.by],i.match,t,i.multi)}:function(t){return t[i.by]==i.match}),this._filter=e&&e.smartFilter?t:null,this._applyFilters(t),this.events.fire(c.DataEvents.change)):d.dhxWarning("the method doesn't work with lazyLoad")},u.prototype.find=function(t){for(var e in this._pull){var i=d.findByConf(this._pull[e],t);if(i)return i}return null},u.prototype.findAll=function(t){var e,i=[];for(e in this._pull){var n=d.findByConf(this._pull[e],t);n&&i.push(n)}return i},u.prototype.sort=function(t,e){this.isDataLoaded()?(e&&e.smartSorting&&(this._sorter=t),t&&this._applySorters(t),this.events.fire(c.DataEvents.change)):d.dhxWarning("the method doesn't work with lazyLoad")},u.prototype.copy=function(t,i,n,o){var r=this;return t instanceof Array?t.map(function(t,e){return r._copy(t,i,n,o,e)}):this._copy(t,i,n,o)},u.prototype.move=function(t,i,n,o,e){var r=this;return t instanceof Array?t.map(function(t,e){return r._move(t,i,n,o,e)}):this._move(t,i,n,o,0,e)},u.prototype.forEach=function(t){for(var e=0;e<this._order.length;e++)t.call(this,this._order[e],e,this._order)},u.prototype.load=function(t,e){return"string"==typeof t&&(this.dataProxy=t=new l.DataProxy(t)),this.dataProxy=t,this._loader.load(t,e)},u.prototype.parse=function(t,e){return this._reset(),this._loader.parse(t,e)},u.prototype.$parse=function(t){var e=this.config.approximate;e&&(t=this._approximate(t,e.value,e.maxNum)),this._parse_data(t),this._applySmart(),this.events.fire(c.DataEvents.change,["load"]),this.events.fire(c.DataEvents.load)},u.prototype.save=function(t){"string"==typeof t&&(t=new l.DataProxy(t)),this._loader.save(t)},u.prototype.changeId=function(t,e,i){var n;void 0===e&&(e=p.uid()),i||this.isDataLoaded()?(n=this.getItem(t))?(n.id=e,p.extend(this._pull[t],n),this._pull[e]=this._pull[t],i||this._onChange("update",e,this._pull[e]),delete this._pull[t]):d.dhxWarning("item not found"):d.dhxWarning("the method doesn't work with lazyLoad")},u.prototype.isSaved=function(){return!this._changes.order.length},u.prototype.map=function(t){for(var e=[],i=0;i<this._order.length;i++)e.push(t.call(this,this._order[i],i,this._order));return e},u.prototype.mapRange=function(t,e,i){t<0&&(t=0),e>this._order.length-1&&(e=this._order.length-1);for(var n=this._order.slice(t,e),o=[],r=t;r<=e;r++)o.push(i.call(this,this._order[r],r,n));return o},u.prototype.reduce=function(t,e){for(var i=0;i<this._order.length;i++)e=t.call(this,e,this._order[i],i);return e},u.prototype.serialize=function(t){void 0===t&&(t=c.DataDriver.json);for(var i=[],n=this,e=0;e<this._order.length;e++)!function(t){var e=s({},n._order[t]);Object.keys(e).forEach(function(t){t.startsWith("$")&&delete e[t]}),i.push(e)}(e);t=d.toDataDriver(t);if(t)return t.serialize(i)},u.prototype.getInitialData=function(){return this._initOrder},u.prototype.setMeta=function(t,e,i){var n;t&&((n=this._meta.get(t))||(n={},this._meta.set(t,n)),n[e]=i)},u.prototype.getMeta=function(t,e){t=this._meta.get(t);return t?t[e]:null},u.prototype.getMetaMap=function(t){return this._meta.get(t)},u.prototype.setRange=function(t,e){this._range=e?[t,e]:null},u.prototype.getRawData=function(t,e,i,n){if(i=i||this._order,1===n)return i;var o;if(this._range&&(t=this._range[0]+t,e=-1===e||t+(o=e-t)>this._range[1]?this._range[1]:t+o),!e||0===t&&(-1===e||e===i.length))return i;if(t>=i.length)return[];(-1===e||e>i.length)&&(e=i.length);i=i.slice(t,e);return 0!==i.filter(function(t){return t.$empty}).length&&this.events.fire("dataRequest",[t,e]),i},u.prototype._add=function(t,e){if(this.isDataLoaded()){e=this._addCore(t,e);return this._onChange("add",t.id,t),this.events.fire(c.DataEvents.afterAdd,[t]),e}d.dhxWarning("the method doesn't work with lazyLoad")},u.prototype._remove=function(t){if(this.isDataLoaded()){var e=this._pull[t];if(e){if(!this.events.fire(c.DataEvents.beforeRemove,[e]))return;this._removeCore(e.id),this._onChange("remove",t,e)}this.events.fire(c.DataEvents.afterRemove,[e])}else d.dhxWarning("the method doesn't work with lazyLoad")},u.prototype._copy=function(t,e,i,n,o){if(this.isDataLoaded()){if(!this.exists(t))return null;var r=p.uid();return(o&&(e=-1===e?-1:e+o),i)?i instanceof u||!n?i.exists(t)?(i.add(s(s({},d.copyWithoutInner(this.getItem(t))),{id:r}),e),r):(i.add(d.copyWithoutInner(this.getItem(t)),e),t):void i.add(d.copyWithoutInner(this.getItem(t)),e):(this.add(s(s({},d.copyWithoutInner(this.getItem(t))),{id:r}),e),r)}d.dhxWarning("the method doesn't work with lazyLoad")},u.prototype._move=function(t,e,i,n,o,r){if(this.isDataLoaded()){if(o&&(e=-1===e?-1:e+o),i&&i!==this&&this.exists(t)){var a=p.copy(this.getItem(t),!0);return r&&(a.id=r),(!r&&i.exists(t)||i.exists(r))&&(a.id=p.uid()),n&&(a.parent=n),i.add(a,e),this.remove(t),a.id}if(this.getIndex(t)===e)return null;a=this._order.splice(this.getIndex(t),1)[0];return-1===e&&(e=this._order.length),this._order.splice(e,0,a),this.events.fire(c.DataEvents.change,[t,"update",this.getItem(t)]),t}d.dhxWarning("the method doesn't work with lazyLoad")},u.prototype._addCore=function(t,e){var i;return this.config.init&&(t=this.config.init(t)),t.id=null!==(i=t.id)&&void 0!==i?i:p.uid(),this._pull[t.id]&&d.dhxError("Item "+t.id+" already exist"),this._initOrder&&!d.isTreeCollection(this)&&this._addToOrder(this._initOrder,t,e),this._addToOrder(this._order,t,e),t.id},u.prototype._removeCore=function(e){0<=this.getIndex(e)&&(this._order=this._order.filter(function(t){return t.id!==e}),delete this._pull[e]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(t){return t.id!==e}),delete this._pull[e])},u.prototype._parse_data=function(t){var e=this._order.length;this.config.prep&&(t=this.config.prep(t));for(var i=0,n=t;i<n.length;i++){var o=n[i];this._addCore(o,e++)}},u.prototype._approximate=function(t,e,i){for(var n=t.length,o=e.length,r=Math.floor(n/i),a=Array(Math.ceil(n/r)),s=0,l=0;l<n;l+=r){for(var d=p.copy(t[l]),c=Math.min(n,l+r),u=0;u<o;u++){for(var h=0,f=l;f<c;f++)h+=t[f][e[u]];d[e[u]]=h/(c-l)}a[s++]=d}return a},u.prototype._onChange=function(t,e,i){for(var n=0,o=this._changes.order;n<o.length;n++)if((a=o[n]).id===e&&!a.saving){a.error&&(a.error=!1);var r=this._changes.order.indexOf(a),a=s(s({},a),{obj:i,status:t});return(this._changes.order.splice(r,1,a),this._loader.updateChanges(this._changes),"remove"===t&&i.$emptyRow)?void 0:void this.events.fire(c.DataEvents.change,[e,t,i])}this._changes.order.push({id:e,status:t,obj:s({},i),saving:!1}),this._loader.updateChanges(this._changes),this.events.fire(c.DataEvents.change,[e,t,i])},u.prototype._addToOrder=function(t,e,i){0<=i&&t[i]?(this._pull[e.id]=e,t.splice(i,0,e)):(this._pull[e.id]=e,t.push(e))},u.prototype._applySmart=function(){this._filter&&this._applyFilters(),this._sorter&&this._applySorters()},u.prototype._applySorters=function(t){this._sort.sort(this._order,t,this._sorter),this._initOrder&&this._initOrder.length&&this._sort.sort(this._initOrder,t,this._sorter)},u.prototype._applyFilters=function(e){var t,i=this._filter;e===i&&(e=null),(e||i)&&(t=this._order.filter(function(t){return(!e||e(t))&&(!i||i(t))}),this._initOrder||(this._initOrder=this._order),this._order=t)},u);function u(t,e){var n=this;this._changes={order:[]},this.config=t||{},this._sort=new a.Sort,this._loader=new r.Loader(this,this._changes),this.events=e||new o.EventSystem(this),this.events.on("dataRequest",function(t,e){var i=n.dataProxy;i&&i.updateUrl&&(i.updateUrl(null,{from:t,limit:i.config.limit||e-t}),n.load(i))}),this.events.on(c.DataEvents.loadError,function(t){"string"!=typeof t?d.dhxError(t):d.dhxWarning(t)}),this._reset()}e.DataCollection=i},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),r=i(53),i=i(108);e.dataDrivers={json:o.JsonDriver,csv:r.CsvDriver},e.dataDriversPro=n(n({},e.dataDrivers),{xml:i.XMLDriver})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.toJsonArray=function(t){return this.getRows(t)},o.prototype.serialize=function(t){return t},o.prototype.getFields=function(t){return t},o.prototype.getRows=function(t){return"string"==typeof t?JSON.parse(t):t},o);function o(){}e.JsonDriver=n},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=(r.prototype.getFields=function(t,e){for(var i=t.trim().split(this.config.columnDelimiter),n={},o=0;o<i.length;o++)n[e?e[o]:o+1]=isNaN(Number(i[o]))?i[o]:parseFloat(i[o]);return n},r.prototype.getRows=function(t){return t.trim().split(this.config.rowDelimiter)},r.prototype.toJsonArray=function(t){var e=this,i=this.getRows(t),n=this.config.names;return this.config.skipHeader&&(t=i.splice(0,this.config.skipHeader),this.config.nameByHeader&&(n=t[0].trim().split(this.config.columnDelimiter))),i.map(function(t){return e.getFields(t,n)})},r.prototype.serialize=function(t,e){var i=t[0]?Object.keys(t[0]).filter(function(t){return!t.startsWith("$")}).join(this.config.columnDelimiter)+this.config.columnDelimiter+this.config.rowDelimiter:"",t=this._serialize(t);return e?t:i+t},r.prototype._serialize=function(t){var o=this;return t.reduce(function(t,n){var e=Object.keys(n).reduce(function(t,e,i){return e.startsWith("$")||"items"===e?t:""+t+n[e]+(i===n.length-1?"":o.config.columnDelimiter)},"");return n.items?t+(t?"\n":"")+e+o._serialize(n.items):""+t+(t?o.config.rowDelimiter:"")+e},"")},r);function r(t){this.config=n(n({},{skipHeader:0,nameByHeader:!1,rowDelimiter:"\n",columnDelimiter:","}),t),this.config.nameByHeader&&(this.config.skipHeader=1)}e.CsvDriver=o},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(55)),n(e(144)),n(e(3)),n(e(27));var o=e(34);i.getTreeCell=o.getTreeCell,n(e(13)),n(e(9))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=this&&this.__assign||function(){return(g=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(0),r=i(4),l=i(2),p=i(1),d=i(16),c=i(6),h=i(5),u=i(113),v=i(13),f=i(27),m=i(9),_=i(114),y=i(3),b=i(56),x=i(26),w=i(141),C=i(142),E=i(15),k=i(143),S=i(24),o=(a=c.View,o(M,a),M.prototype.destructor=function(){this._destroyContent(),this.keyManager&&this.keyManager.destructor(),this.events.events={},this.events.context=null,this._activeFilters=this._filterData=this._scroll=this.content=null,this.unmount()},M.prototype.setColumns=function(t){var e=this;this.config.columns=t,this._parseColumns(!0),this._adjustColumns(),this._checkFilters(),this._checkMarks(),this.paint(),s.awaitRedraw().then(function(){e.config.keyNavigation&&e._initHotKey(!0)})},M.prototype.addRowCss=function(t,e){var i=this.data.getItem(t),t=i.$css||"";t.match(new RegExp(e,"g"))||(i.$css=t+" "+e,this.paint())},M.prototype.removeRowCss=function(t,e){t=this.data.getItem(t),e=t.$css?t.$css.replace(e,""):"";t.$css=e,this.paint()},M.prototype.addCellCss=function(t,e,i){e=this._getColumn(e);e&&(e.$cellCss[t]?e.$cellCss[t]+=e.$cellCss[t].match(new RegExp(i,"g"))?"":" "+i:this.data.getItem(t)&&(e.$cellCss[t]=i+" "),this.paint())},M.prototype.removeCellCss=function(t,e,i){e=this._getColumn(e);e&&(e.$cellCss[t]?(e.$cellCss[t]=e.$cellCss[t].replace(i,""),this.paint()):this.data.getItem(t)&&(e.$cellCss[t]=""))},M.prototype.showColumn=function(t){var e=this._getColumn(t);e&&e.hidden&&this.events.fire(y.GridEvents.beforeColumnShow,[e])&&(e.hidden=!1,this.config.$totalWidth+=e.$width,(t=this._hiddenFilters&&this._hiddenFilters[e.id])&&(this._activeFilters[e.id]=t,delete this._hiddenFilters[e.id]),this.paint(),this._checkFilters(),this.events.fire(y.GridEvents.afterColumnShow,[e]))},M.prototype.hideColumn=function(t){var e=this._getColumn(t);e&&!e.hidden&&this.events.fire(y.GridEvents.beforeColumnHide,[e])&&(e.hidden=!0,this.config.$totalWidth-=e.$width,(t=this._activeFilters&&this._activeFilters[e.id])&&(this._hiddenFilters||(this._hiddenFilters={}),this._hiddenFilters[e.id]=t,delete this._activeFilters[e.id],this.data.filter()),this.paint(),this._checkFilters(),this.events.fire(y.GridEvents.afterColumnHide,[e]))},M.prototype.isColumnHidden=function(t){t=this._getColumn(t);if(t)return!!t.hidden},M.prototype.showRow=function(t){var e;p.isDefined(t)&&(e=t.toString(),(t=this.data.getItem(e))&&t.hidden&&this.events.fire(y.GridEvents.beforeRowShow,[t])&&(this.data.update(e,{hidden:!1}),this.data.filter(function(t){return!t.hidden}),this.events.fire(y.GridEvents.afterRowShow,[t])))},M.prototype.hideRow=function(t){var e;p.isDefined(t)&&(e=t.toString(),(t=this.data.getItem(e))&&this.events.fire(y.GridEvents.beforeRowHide,[t])&&(this.data.update(e,{hidden:!0}),this.data.filter(function(t){return!t.hidden}),this.events.fire(y.GridEvents.afterRowHide,[t])))},M.prototype.isRowHidden=function(t){if(p.isDefined(t)){t=this.data.getItem(t.toString());return t?!!t.hidden:void 0}},M.prototype.getScrollState=function(){return{x:this._scroll.left,y:this._scroll.top}},M.prototype.scroll=function(t,e){var i=this.getRootView().refs.grid_body.el;i.scrollLeft="number"==typeof t?t:i.scrollLeft,i.scrollTop="number"==typeof e?e:i.scrollTop,this.paint()},M.prototype.scrollTo=function(e,i){var t=this.selection.getCell(),n=this.config.columns.filter(function(t){return!t.hidden}),o=p.findIndex(n,function(t){return t.id==i}),r=t?t.column:this.config.columns[0],a=p.findIndex(n,function(t){return t.id==r.id}),s=this.config.leftSplit?m.getTotalWidth(n.slice(0,this.config.leftSplit)):0,l=m.getTotalWidth(n.slice(0,o))-(o-a<0?s:0),d=this.data.getRawData(0,-1),c=p.findIndex(d,function(t){return t.id==e}),u=m.getTotalHeight(d.slice(0,c)),h=this.getScrollState(),f=this.config.width+h.x,t=this.config.height+h.y-this.config.headerRowHeight*this.config.$headerLevel,a=u-h.y-d[c].$height,s=l-h.x-n[o].$width,t=u+2*d[c].$height+18-t,f=l+2*n[o].$width+18-f,t=0<a&&t<0?0:a<0?a:t,f=0<s&&f<0?0:s<0?s:f;this.scroll(f+h.x,t+h.y)},M.prototype.adjustColumnWidth=function(e,t){void 0===t&&(t=!0);var i=this.config.columns.filter(function(t){return!t.hidden}),n=i.filter(function(t){return t.id===e}),r=this._adjustColumnsWidth(this.config.data,n,t);this.config.$totalWidth=i.reduce(function(t,e){var i,n,o;return r[e.id]&&(e.$fixed=!0,i=e.maxWidth,n=e.minWidth,o=r[e.id],e.$width=o,i&&i<o&&(e.$width=i),n&&e.$width<n&&(e.$width=n)),t+e.$width},0),this.paint()},M.prototype.getCellRect=function(e,i){var t=this.config.columns.filter(function(t){return!t.hidden}),n=this.data.getRawData(0,-1),o=this.getSpan(e,i),r=p.findIndex(t,function(t){return t.id==i}),a=p.findIndex(n,function(t){return t.id==e});return{x:m.getTotalWidth(t.slice(0,r)),y:m.getTotalHeight(n.slice(0,a)),height:null!=o&&o.rowspan?f.getHeight(n,o.rowspan,a):n[a]?n[a].$height:0,width:null!=o&&o.colspan?f.getWidth(t,o.colspan,r):t[r]?t[r].$width:0}},M.prototype.getColumn=function(e){var t=p.findIndex(this.config.columns,function(t){return t.id==e});if(0<=t)return this.config.columns[t]},M.prototype.addSpan=function(e){this.config.spans=this.config.spans||[];var t=p.findIndex(this.config.spans,function(t){return""+t.row==""+e.row&&""+t.column==""+e.column});0<=t?this.config.spans[t]=e:(this.config.spans.push(e),this.paint())},M.prototype.getSpan=function(e,i){if(this.config.spans){var t=p.findIndex(this.config.spans,function(t){return""+t.row==""+e&&""+t.column==""+i});return this.config.spans[t]}},M.prototype.removeSpan=function(e,i){var t;this.config.spans&&(t=p.findIndex(this.config.spans,function(t){return""+t.row==""+e&&""+t.column==""+i}),this.config.spans.splice(t,1),this.paint())},M.prototype.editCell=function(t,e,i){var n,o=this.data.getItem(t),r=this.getColumn(e);o&&r?(n=r.editorType,i||("date"===r.type&&(i="datePicker"),"boolean"===r.type&&(i="checkbox"),n&&(i=n)),this.events.fire(y.GridEvents.beforeEditStart,[o,r,i])&&(null!==(n=this.config.$editable)&&void 0!==n&&n.editor||this.config.$editable&&this.config.$editable.row===t&&this.config.$editable.col===e&&this.config.$editable.editorType===i||(this.config.$editable={row:o.id,col:r.id,editorType:i},this.selection.config.disabled||this.selection.setCell(t.toString(),e.toString()),this.paint(),this.events.fire(y.GridEvents.afterEditStart,[o,r,i])))):h.dhxWarning("item not found")},M.prototype.editEnd=function(t){this.config.$editable&&this.config.$editable.editor&&this.config.$editable.editor.endEdit(t)},M.prototype.getSortingState=function(){return{dir:this._sortDir,by:this._sortBy}},M.prototype.getHeaderFilter=function(i){var n=this,t=this.getColumn(i);if(t){var o=null;return t.header.forEach(function(t){var e;t.content&&(e=n.content[t.content].element[i],o="comboFilter"===t.content?e:n.getRootView().refs[i+"_filter"].el)}),o}},M.prototype.edit=function(t,e,i){this.editCell(t,e,i)},M.prototype._createView=function(){var i=this;return s.create({render:function(t,e){return b.render(t,e,i._htmlEvents,i.selection,i._uid)}},this)},M.prototype._parseColumns=function(t){void 0===t&&(t=!1),v.normalizeColumns(this.config,t);t=this.config.columns.filter(function(t){return!t.hidden});v.countColumns(this.config,t)},M.prototype._parseData=function(){this.config.data=this._prepareData(this.data),this._detectColsTypes(),this._checkFilters(),this._checkMarks(),this.data.filter(function(t){return!t.hidden}),this._render()},M.prototype._createCollection=function(t){this.data=new h.DataCollection({prep:t},this.events)},M.prototype._getRowIndex=function(t){return this.data.getIndex(t)},M.prototype._setEventHandlers=function(){function i(t){return 1}var u=this;this.data.events.on(h.DataEvents.load,function(){u.data.filter(function(t){return t}),u._parseData(),u._checkFilters()}),this.data.events.on(h.DataEvents.change,function(t,e,i){if("setPage"!==e){if("add"!==e&&"update"!==e&&"remove"!==e||(u.config.data=u._prepareData(u.data)),t&&(u._filterData=u.data.map(function(t){return t})||[],u._checkFilters()),u._detectColsTypes(),u._removeMarks(),u._checkMarks(),u.config.autoEmptyRow&&(!u._activeFilters||p.isEmptyObj(u._activeFilters))){e=u.data.find({by:"$emptyRow",match:!0});if(e){if(e.id===t)return;u.data.move(e.id,u.data.getLength()-1)}else u._addEmptyRow()}u._render()}else s.awaitRedraw().then(function(){u.scrollTo(u.data.getId(i[0]).toString(),u.config.columns[0].id.toString()),u._render()})}),this.data.events.on(h.DataEvents.removeAll,function(){u.config.columns.map(function(e){e.header.map(function(t){!t.content||"selectFilter"!==t.content&&"comboFilter"!==t.content||(e.$uniqueData=[])})})}),this.events.on(h.DragEvents.beforeDrag,function(t,e){return u.data.getItem(t.start)?u.events.fire(y.GridEvents.beforeRowDrag,[t,e]):"column"===u.config.dragItem||"both"===u.config.dragItem?u.events.fire(y.GridEvents.beforeColumnDrag,[t,e]):void 0}),this.events.on(h.DragEvents.dragStart,function(t,e){i({$dragtarget:!0}),u.data.getItem(t.start)?u.events.fire(y.GridEvents.dragRowStart,[t,e]):"column"!==u.config.dragItem&&"both"!==u.config.dragItem||u.events.fire(y.GridEvents.dragColumnStart,[t,e])}),this.events.on(h.DragEvents.dragIn,function(t,e){u.data.getItem(t.start)?u.events.fire(y.GridEvents.dragRowIn,[t,e]):"column"!==u.config.dragItem&&"both"!==u.config.dragItem||u.events.fire(y.GridEvents.dragColumnIn,[t,e])}),this.events.on(h.DragEvents.dragOut,function(t,e){u.data.getItem(t.start)?u.events.fire(y.GridEvents.dragRowOut,[t,e]):"column"!==u.config.dragItem&&"both"!==u.config.dragItem||u.events.fire(y.GridEvents.dragColumnOut,[t,e])}),this.events.on(h.DragEvents.canDrop,function(t,e){i({$drophere:!0}),u.data.getItem(t.start)?u.events.fire(y.GridEvents.canRowDrop,[t,e]):"column"!==u.config.dragItem&&"both"!==u.config.dragItem||u.events.fire(y.GridEvents.canColumnDrop,[t,e])}),this.events.on(h.DragEvents.cancelDrop,function(t,e){i({$drophere:void 0}),u.data.getItem(t.start)?u.events.fire(y.GridEvents.cancelRowDrop,[t,e]):"column"!==u.config.dragItem&&"both"!==u.config.dragItem||u.events.fire(y.GridEvents.cancelColumnDrop,[t,e])}),this.events.on(h.DragEvents.beforeDrop,function(t,e){return"row"!==u.config.dragItem||"both"!==u.config.dragMode&&"target"!==u.config.dragMode?"column"===u.config.dragItem||"both"===u.config.dragItem?u.events.fire(y.GridEvents.beforeColumnDrop,[t,e]):void 0:u.events.fire(y.GridEvents.beforeRowDrop,[t,e])}),this.events.on(h.DragEvents.afterDrop,function(e,t){var i;if(u.data.getItem(e.start)){u.events.fire(y.GridEvents.afterRowDrop,[e,t]);for(var n=u.data.getItem(e.start),o=0,r=u.config.columns;o<r.length;o++){var a=r[o];void 0===n[a.id]&&u.data.update(n.id,((i={})[a.id]=null,i),!0)}var s,l=u.data.getInitialData(),d=null==l?void 0:l.findIndex(function(t){return t.id===e.start}),c=null==l?void 0:l.findIndex(function(t){return t.id===e.target});for(s in d&&-1<c&&null!=l&&l.splice(c,0,null==l?void 0:l.splice(d,1)[0]),u.config.data=u._prepareData(l||u.data.map(function(t){return t})),u.data.parse(u.config.data),u._activeFilters)u.data.filter(u._activeFilters[s],{add:!0})}else"column"!==u.config.dragItem&&"both"!==u.config.dragItem||u.events.fire(y.GridEvents.afterColumnDrop,[e,t])}),this.events.on(h.DragEvents.afterDrag,function(t,e){i({$dragtarget:void 0}),u.data.getItem(t.start)?u.events.fire(y.GridEvents.afterRowDrag,[t,e]):"column"!==u.config.dragItem&&"both"!==u.config.dragItem||u.events.fire(y.GridEvents.afterColumnDrag,[t,e]),u.config.data=u._prepareData(u.data instanceof Array?u.data.map(function(t){return t}):u.data.getInitialData()||u.data),u.data.parse(u.config.data)}),this.events.on(y.GridEvents.cellMouseDown,function(t,e,i){i.targetTouches?(u._touch.timer=setTimeout(function(){u._dragStart(i)},u._touch.duration),u._touch.timeStamp?(u._touch.dblDuration>=u._touch.timeStamp-+i.timeStamp.toFixed()&&((!1!==e.editable&&u.config.editable||e.editable)&&u.editCell(t.id,e.id,e.editorType),i.preventDefault(),u.events.fire(y.GridEvents.cellDblClick,[t,e,i])),u._touch.timeStamp=null):u._touch.timeStamp=+i.timeStamp.toFixed(),setTimeout(function(){u._touch.timeStamp=null},u._touch.dblDuration)):u._dragStart(i)}),this._events.on(y.GridSystemEvents.cellTouchMove,function(t,e,i){u._touch.start&&i.preventDefault(),u._clearTouchTimer()}),this._events.on(y.GridSystemEvents.cellTouchEnd,function(){u._touch.start=!1,u._clearTouchTimer()}),this.events.on(y.GridEvents.filterChange,function(t,e,i){t=null!=t?t:"",!u.config.autoEmptyRow||(o=u.data.find({by:"$emptyRow",match:!0}))&&u.data.remove(o.id),u._activeFilters||(u._activeFilters={});var n,o=u._getColumn(e);for(n in""!==t?u._activeFilters[e]={by:e,match:t,compare:u.content[i].match,multi:"multiselect"===(null==o?void 0:o.editorType)}:delete u._activeFilters[e],u.data.filter(function(t){return t}),u._activeFilters)u.data.filter(u._activeFilters[n],{add:!0})}),this.events.on(y.GridEvents.scroll,function(t){u._scroll={top:t.y,left:t.x},u.editEnd(),u.paint()}),this.events.on(y.GridEvents.cellDblClick,function(t,e){(!1!==e.editable&&u.config.editable||e.editable)&&u.editCell(t.id,e.id,e.editorType)}),this.events.on(y.GridEvents.afterEditEnd,function(e,t,i){var n,o,r;null!==(o=u.config.$editable)&&void 0!==o&&o.editor&&(u.config.$editable.col!==i.id||u.config.$editable.row!==t.id)||(o=u.config.$editable?(n=u.config.$editable.row,u.config.$editable.col):(n=t.id,i.id),delete(t=u.data.getItem(n)).$emptyRow,void 0!==e&&(r="select"===i.editorType||"combobox"===i.editorType?null===(r=i.options)||void 0===r?void 0:r.find(function(t){return t.id===e}):null,u.data.update(n,g(g({},t),((t={})[o]=(null==r?void 0:r.value)||e,t)))),u.config.$editable=null,u._checkFilters(),u.paint())}),this.events.on(y.GridEvents.headerCellMouseDown,function(t,e){var i=e.target.getAttribute("dhx_resized");i&&u.events.fire(y.GridEvents.beforeResizeStart,[t,e])&&C.startResize(u,i.toString(),e,function(){u.paint(),u.config.$resizing=null,u.events.fire(y.GridEvents.afterResizeEnd,[t,e])}),e.targetTouches&&(u._touch.timeStamp?(u._touch.dblDuration>=u._touch.timeStamp-+e.timeStamp.toFixed()&&(e.preventDefault(),u.events.fire(y.GridEvents.headerCellDblClick,[t,e])),u._touch.timeStamp=null):u._touch.timeStamp=+e.timeStamp.toFixed(),setTimeout(function(){u._touch.timeStamp=null},u._touch.dblDuration))}),this.events.on(y.GridEvents.footerCellDblClick,function(t,e){e.targetTouches&&(u._touch.timeStamp?(u._touch.dblDuration>=u._touch.timeStamp-+e.timeStamp.toFixed()&&(e.preventDefault(),u.events.fire(y.GridEvents.footerCellDblClick,[t,e])),u._touch.timeStamp=null):u._touch.timeStamp=+e.timeStamp.toFixed(),setTimeout(function(){u._touch.timeStamp=null},u._touch.dblDuration))}),this.events.on(y.GridEvents.resize,function(){u._parseColumns(),u._checkFilters()})},M.prototype._addEmptyRow=function(){var t=this.data.getId(this.data.getLength()-1),e=this.data.getItem(t),t=this.config.columns.filter(function(t){return!t.hidden});m.isRowEmpty(e)||this.data.add(t.reduce(function(t,e){return t[e.id]="",t},{$emptyRow:!0}))},M.prototype._sort=function(i,t,e){var n=this;t?this._sortDir=t:this._sortBy===i?this._sortDir="asc"===this._sortDir?"desc":"asc":this._sortDir="asc";this._sortBy=i,this.data.sort({by:i,dir:this._sortDir,as:null!=e?e:function(t){var e=n.getColumn(i);return t&&"date"===e.type?("string"==typeof t?x.stringToDate(t,e.format):t).getTime():t?""+t:""}}),this.events.fire(y.GridEvents.afterSort,[this.getColumn(i),this._sortDir])},M.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},M.prototype._checkFilters=function(){var o=this,i=this._filterData;if(i){this.config.columns.forEach(function(e){e.header.forEach(function(t){!t.content||"selectFilter"!==t.content&&"comboFilter"!==t.content||(t=e.header.find(function(t){return t.filterConfig}),t=v.getUnique(i,e.id,t?t.filterConfig.multiselection:null),e.$uniqueData&&e.$uniqueData.length>t.length?t.forEach(function(t){e.$uniqueData.includes(t)||e.$uniqueData.push(t)}):e.$uniqueData=t)})});var t,r=this;for(t in this._activeFilters)!function(e){var i=r.config.columns.find(function(t){return t.id===e}),t=i.header.find(function(t){return!!t.content}),n=!1,n=Array.isArray(r._activeFilters[e].match)?r._activeFilters[e].match.reduce(function(t,e){if(i.$uniqueData.find(function(t){return t.toString()===e}))return!0},!1):i.$uniqueData.find(function(t){return t.toString()===o._activeFilters[e].match});!t||"selectFilter"!==t.content&&"comboFilter"!==t.content||n?r.data.filter(r._activeFilters[e],{add:!0}):(delete r._activeFilters[e],r.data.filter())}(t)}},M.prototype._adjustColumns=function(){var t,r,e,i=this;"boolean"==typeof this.config.adjust||"data"===this.config.adjust||"header"===this.config.adjust||"footer"===this.config.adjust?(e=this.config.columns.filter(function(t){return!t.hidden})).length&&(t=this.config.data&&this.config.data.length?this.config.data:this.data.map(function(t){return t}),r=this._adjustColumnsWidth(t,e),this.config.$totalWidth=e.reduce(function(t,e){e.$fixed=!0;var i=e.maxWidth,n=e.minWidth,o=r[e.id];return e.$width=o,i&&i<o&&(e.$width=i),n&&e.$width<n&&(e.$width=n),t+e.$width},0)):(e=this.config.columns.filter(function(t){return!t.hidden&&t.adjust})).length&&e.forEach(function(t){i.adjustColumnWidth(t.id,t.adjust)})},M.prototype._prepareData=function(t){var e=this;return this.config.autoHeight&&(this.config.autoHeight=!1),this._adjustColumns(),t.map(function(t){return t.$height=t.height||e.config.rowHeight,t})},M.prototype._adjustColumnsWidth=function(t,e,i){void 0===i&&(i=this.config.adjust);var n={};if("header"===i||!0===i){var o=e.filter(function(t){return t.header});if(c=v.getMaxColsWidth(this._prepareColumnData(o,"header"),o,{font:"bold 14.4px Arial"},"header"))for(var r=0,a=Object.entries(c);r<a.length;r++)var s=a[r],l=s[0],d=s[1],n=Object.assign(n,((s={})[l]=+d+(m.isSortable(this.config,this.getColumn(l))?36:16),s))}if("footer"===i||!0===i){var c,o=e.filter(function(t){return t.footer});if(c=v.getMaxColsWidth(this._prepareColumnData(o,"footer"),o,{font:"bold 14.4px Arial"},"footer"))for(var u=0,h=Object.entries(c);u<h.length;u++){var f=h[u],l=f[0],d=f[1];(n[l]&&n[l]<+d+16||!n[l])&&(n=Object.assign(n,((f={})[l]=+d+16,f)))}}if(("data"===i||!0===i)&&(c=v.getMaxColsWidth(t,e,{font:"normal 14.4px Arial"},"data")))for(var p=0,g=Object.entries(c);p<g.length;p++){var _=g[p],l=_[0],d=_[1];(n[l]&&n[l]<+d+16||!n[l])&&(n=Object.assign(n,((_={})[l]=+d+16,_)))}return n},M.prototype._prepareColumnData=function(t,e){for(var i,n,o=[],r=0;r<t.length;r++){for(var a=[],s=0;s<(null===(i=t[s])||void 0===i?void 0:i[e].length);s++){var l={};null!==(i=null===(i=t[r])||void 0===i?void 0:i[e][s])&&void 0!==i&&i.text?(l[t[r].id]=(null===(n=null===(n=t[r])||void 0===n?void 0:n[e][s])||void 0===n?void 0:n.text)||"",a.push(l)):null!==(n=null===(n=t[r])||void 0===n?void 0:n[e][s])&&void 0!==n&&n.content&&(l[t[r].id]=this.content[null===(n=null===(n=t[r])||void 0===n?void 0:n[e][s])||void 0===n?void 0:n.content].toHtml(this.getColumn(t[r].id),this.config)||"",a.push(l))}for(var d=0;d<a.length;d++)for(var c=0,u=Object.entries(a[d]);c<u.length;c++){var h=u[c],f=h[0],p=h[1];o[d]=g({},o[d])||{},o[d]=Object.assign(o[d],((h={})[f]=p,h))}}return o},M.prototype._dragStart=function(t){if(this.config.dragMode&&("row"===this.config.dragItem||"both"===this.config.dragItem)&&!this.config.$editable){var e=this._getColumn(t.target.getAttribute("dhx_col_id"));if(!1!==(null==e?void 0:e.draggable)){e=l.locateNode(t,"dhx_id"),e=e&&e.getAttribute("dhx_id");return t.targetTouches&&(this._touch.start=!0),h.dragManager.onMouseDown(t,[e])}}},M.prototype._getColumn=function(t){for(var e=0,i=this.config.columns;e<i.length;e++){var n=i[e];if(n.id==t)return n}},M.prototype._init=function(){this.events=new r.EventSystem(this),this._events=new r.EventSystem(this),this._attachDataCollection(),this.export=new u.Exporter(this),this._setEventHandlers()},M.prototype._attachDataCollection=function(){var e=this;if(this.config.data instanceof h.DataCollection)return this.data=this.config.data,void(this.config.data=this.data.serialize());this._createCollection(function(t){return t.spans&&(e.config.spans=t.spans,t=t.data),t})},M.prototype._setMarks=function(n,o){for(var t=this.data.map(function(t){return{id:t.id,data:t[n.id],row:t}}),r=this.data.map(function(t){return t[n.id]}),e=0,i=t;e<i.length;e++)!function(t){var e,i=o(t.data,r,t.row,n);i&&(n.$cellCss=n.$cellCss||{},e=(n.$cellCss[t.id]||"").split(" "),i.split(" ").map(function(t){e.includes(t)||e.push(t)}),n.$cellCss[t.id]=e.join(" "))}(i[e])},M.prototype._checkMarks=function(){var e=this;this.config.columns.map(function(t){var o=t.mark;o&&("function"==typeof o?e._setMarks(t,o):e._setMarks(t,function(t,e){var i=[];e.forEach(function(t){null!=t&&""!==t&&i.push(parseFloat(t))});var n=p.getMinArrayNymber(i),e=p.getMaxArrayNymber(i);return o.max&&e===parseFloat(t)?o.max:!(!o.min||n!==parseFloat(t))&&o.min}))})},M.prototype._removeMarks=function(){this.config.columns.forEach(function(t){t.mark&&(t.$cellCss={})})},M.prototype._detectColsTypes=function(){this.config.columns.forEach(function(t){return t.type?t:t.format?(t.type="number",t):void(t.type||(t.type="string"))})},M.prototype._destroyContent=function(){for(var t in this.content)"comboFilter"===t&&this.content[t].destroy()},M.prototype._render=function(){this.paint()},M.prototype._initHotKey=function(t){void 0===t&&(t=!1);var e=k.getKeysHandlers(this);for(i in e)this.keyManager.exist(i)||this.keyManager.addHotKey(i,e[i]);if(!t)for(var i in this.config.hotkeys)this.keyManager.addHotKey(i,this.config.hotkeys[i])},M);function M(t,e){var r=a.call(this,t,e)||this;r._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null},r.config=p.extend({rowHeight:40,headerRowHeight:40,footerRowHeight:40,keyNavigation:!0,sortable:!0,columns:[],data:[],tooltip:!0,rootParent:"string"==typeof t&&t||r._uid,headerSort:!0},e),r.content=w.getContent(),r._scroll={top:0,left:0},r.config.autoWidth=r.config.autoWidth||r.config.fitToContainer,r.config.adjust=r.config.adjust||r.config.columnsAutoWidth,r.config.editable=r.config.editable||r.config.editing,r.config.leftSplit=r.config.leftSplit||r.config.splitAt,r.config.sortable&&r.config.headerSort||(r.config.sortable=!1),r.config.columns.forEach(function(t){t.format=t.format||t.dateFormat});function n(t,e,i){var n;t&&e&&m.isTooltip(r.config,e)&&(n=v.toFormat(t[e.id],e.type,e.format),e.tooltipTemplate?n=e.tooltipTemplate(n,t,e):n&&e.template&&(n=e.template(n,t,e)),n&&E.tooltip(n,{css:"dhx_grid_tooltip",node:i,htmlEnable:m.isHtmlEnable(r.config,e)}))}function i(t,e){var i;e&&m.isTooltip(r.config,e)&&((i=t.target.querySelector(".dhx_grid-header-cell-text span")&&t.target.querySelector(".dhx_grid-header-cell-text span").textContent||t.target.querySelector(".dhx_grid-footer-cell-text span")&&t.target.querySelector(".dhx_grid-footer-cell-text span").textContent||"")&&E.tooltip(i,{css:"dhx_grid_tooltip",node:t.target,htmlEnable:m.isHtmlEnable(r.config,e)}))}return r._htmlEvents={onclick:l.eventHandler(function(t){return l.locate(t)},{"dhx_grid-header-cell--sortable":function(t,e){var i,n=t.target.getAttribute("dhx_resized"),o=r._getColumn(e);o&&m.isSortable(r.config,o)&&!n&&r.events.fire(y.GridEvents.beforeSort,[o,r._sortDir?"asc":"desc"])&&(t=(i=null===(t=l.locateNodeByClassName(t,"dhx_grid-header-cell"))||void 0===t?void 0:t.querySelector(".dhx_grid-header-cell-text_content").innerHTML)?o.header.find(function(t){return t.text===i}):null,o="asc"===r._sortDir?"desc":"asc",r._sort(e,o,null==t?void 0:t.sortAs))},"dhx_grid-expand-cell":function(t,e){t.target.classList.contains("dhx_grid-expand-cell-icon")&&r.events.fire(y.GridEvents.expand,[e])}}),onscroll:function(t){r.events.fire(y.GridEvents.scroll,[{y:t.target.scrollTop,x:t.target.scrollLeft}])},onmouseover:{".dhx_grid-cell":function(t){var e=r.data.getItem(t.composedPath()[1].getAttribute("dhx_id")),i=r._getColumn(t.target.getAttribute("dhx_col_id"));n(e,i,t.target)},".dhx_grid-cell:not(.dhx_tree-cell) .dhx_grid-cell__content, .dhx_tree-cell :not(.dhx_grid-cell__content)":function(t){var e=t.composedPath(),i=r.data.getItem(e[2].getAttribute("dhx_id")),e=r._getColumn(e[1].getAttribute("dhx_col_id"));n(i,e,t.target)},".dhx_grid-cell.dhx_tree-cell .dhx_grid-cell__content":function(t){var e=t.composedPath(),i=r.data.getItem(e[3].getAttribute("dhx_id")),t=r._getColumn(e[2].getAttribute("dhx_col_id"));n(i,t,e[2])},".dhx_span-cell:not(.dhx_grid-header-cell)":function(t){var e,i=r.data.getItem(t.target.getAttribute("dhx_id")),n=r._getColumn(t.target.getAttribute("dhx_col_id")),o=r.getSpan(i.id,n.id);i&&o&&m.isTooltip(r.config,o)&&(e=o.text||v.toFormat(i[n.id],n.type,n.format),o.tooltipTemplate?e=o.tooltipTemplate(e,o):n.template&&(e=n.template(e,i,n)),e&&E.tooltip(e,{css:"dhx_grid_tooltip",node:t.target,htmlEnable:!0}))},".dhx_grid-header-cell:not(.dhx_span-cell)":function(t){var e=r._getColumn(t.target.getAttribute("dhx_id"));i(t,e)},".dhx_grid-footer-cell:not(.dhx_span-cell)":function(t){var e=r._getColumn(t.target.getAttribute("dhx_id"));i(t,e)},".dhx_grid-header-cell.dhx_span-cell":function(t){var e=r._getColumn(t.target.getAttribute("dhx_id")),i=e&&e.header.find(function(t){return!(!t.rowspan&&!t.colspan)});e&&i&&m.isTooltip(r.config,e)&&((i=i.text||"")&&E.tooltip(i,{css:"dhx_grid_tooltip",node:t.target,htmlEnable:m.isHtmlEnable(r.config,e)}))},".dhx_grid-header-cell-text_content":function(t){var e=t.composedPath(),i=r._getColumn(e[1].getAttribute("dhx_id"));i&&m.isTooltip(r.config,i)&&((t=e[2].querySelector(".dhx_grid-header-cell-text_content")&&e[2].querySelector(".dhx_grid-header-cell-text_content").textContent||"")&&E.tooltip(t,{css:"dhx_grid_tooltip",node:e[1],htmlEnable:m.isHtmlEnable(r.config,i)}))}}},(r.config.dragMode||r.config.dragItem)&&(h.dragManager.setItem(r._uid,r),r.config.dragItem||(r.config.dragItem="row"),r.config.dragMode||(r.config.dragMode="both")),r._init(),r.config.columns&&r._parseColumns(!0),r.config.data&&r.config.data instanceof Array&&r.config.data.length&&r.config.columns&&r.data.parse(r.config.data),r.selection=new _.Selection(r,{disabled:!r.config.selection},r.events,r._uid),r.mount(t,r._createView()),r.config.autoWidth&&r.config.autoHeight&&r._prepareData(r.config.data),s.awaitRedraw().then(function(){r.config.keyNavigation&&(r.keyManager=new d.KeyManager(function(t,e){return!(e!==r._uid||!r.events.fire(y.GridEvents.beforeKeyDown,[t]))&&(r.events.fire(y.GridEvents.afterKeyDown,[t]),!0)}),r._initHotKey(),S.focusManager.setFocusId(r._uid))}),e.autoEmptyRow&&0===r.data.getLength()&&(r._addEmptyRow(),r.paint()),r}e.Grid=o},function(t,e,i){"use strict";var y=this&&this.__assign||function(){return(y=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var b=i(0),u=i(2),s=i(13),x=i(9),w=i(34),C=i(140),E=i(72),h=i(1),k=2;function S(t,e,i){var n=t.config,o=n.columns.filter(function(t){return!t.hidden}),r=s.calculatePositions(i.width,i.height,t._scroll,n,e),a=o.slice(r.xStart,r.xEnd),i=e.slice(r.yStart,r.yEnd);return y(y({},n),{data:e,columns:o,scroll:t._scroll,$positions:r,headerHeight:n.$headerLevel*n.headerRowHeight,footerHeight:n.$footerLevel*n.footerRowHeight,firstColId:o[0]&&o[0].id,events:t.events,_events:t._events,currentColumns:a,currentRows:i,sortBy:t._sortBy,sortDir:t._sortDir,content:t.content,gridId:t._uid})}function M(t){if(t&&(t.tagName||(t=t._parent._container),t)){var e=t.currentStyle||window.getComputedStyle(t),i=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)||0,e=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)||0;return{width:t.clientWidth-i,height:t.clientHeight-e}}}function D(o,t){var e,i=w.getCells(o),n=w.getSpans(o),r=o.columns;o.$resizing&&(s=h.findIndex(r,function(t){return t.id===o.$resizing}),l=x.getTotalWidth(r.slice(0,s))+r[s].$width,e=b.el(".dhx_grid-resize-line",{style:{top:0,left:l,height:o.$totalHeight}}));var a,s="string"==typeof(s=o.selection?o.selection.toHTML():null)?b.el("div.dhx_selection",{".innerHTML":s}):s,l=o.$positions,d={};if(o.eventHandlers)for(var c in o.eventHandlers)o.eventHandlers.hasOwnProperty(c)&&(a=o.eventHandlers[c],d[c]=u.eventHandler(function(t){return e=t,i=u.locate(e,"dhx_id"),n=u.locate(e,"dhx_col_id"),t=o.currentRows.filter(function(t){return t.id===i})[0],e=o.currentColumns.filter(function(t){return t.id===n})[0],{row:i?t:{},col:n?e:{}};var e,i,n},y({},a)));return b.el(".dhx_data-wrap",y({style:{height:o.$totalHeight,width:o.$totalWidth,"padding-left":t.x,"padding-top":t.y},role:"presentation"},d),[b.el(".dhx_grid_data",y(y({_flags:b.KEYED_LIST},w.getHandlers(l.yStart,l.xStart,o)),{role:"rowgroup","aria-rowcount":o.data.length}),i),b.el(".dhx_span-spans",{role:"presentation"},n),b.el(".dhx_grid_selection",{_ref:"selection","aria-hidden":"true"},[s,e])])}function O(t,e,i){i=i.height-k,i=e?i:i-t.headerHeight;return!t.$footer||e?i:i-t.footerHeight}function I(e,t,o,r,i){void 0===o&&(o=!0),void 0===r&&(r=!1),void 0===i&&(i=!1);var a,n=!i&&e.$totalHeight>=t.height-e.headerRowHeight?u.getScrollbarWidth():0,s=t.width-k-n,l=e.columns.filter(function(t){return!t.hidden}),n=l.filter(function(t){return!t.width&&!t.$fixed&&x.isAutoWidth(e,t)}),d=x.getTotalWidth(l.filter(function(t){return t.width||t.$fixed||!x.isAutoWidth(e,t)})),c=n.reduce(function(t,e){return t+(e.gravity||1)},0);s<e.$totalWidth?(a=n.reduce(function(t,e){return t+(e.maxWidth||e.$width)},0),1<n.length&&n.forEach(function(t){var e=0,i=(e=o?Math.abs(s-a)*((t.gravity||1)/c):Math.abs(s-d)*((t.gravity||1)/c))<t.minWidth,n=e>t.maxWidth;i||n?i?(d+=t.$width-e,t.$fixed=!0):n&&(t.$width=t.maxWidth,t.$fixed=!0):t.$width=e})):n.forEach(function(t){var e=Math.abs(s-d)*((t.gravity||1)/c),i=e<t.minWidth,n=e>t.maxWidth;i||n?i?(d+=t.$width-e,r&&(t.$fixed=!0)):n&&(t.$width=t.maxWidth,r&&(t.$fixed=!0)):t.$width=e,!o&&t.$fixed&&delete t.$fixed}),o&&I(e,t,!1,r,i)}e.getRenderConfig=S,e.render=function(t,e,i,n,o){e._container||(e.config.width=1,e.config.height=1),t&&t.node&&t.node.parent&&t.node.parent.el&&(m=M(t.node.parent.el),e.config.width=m.width,e.config.height=m.height);var r=e.config;if(!r)return b.el("div");if(!r.columns.length)return b.el(".dhx_grid",{dhx_root_id:r.rootParent});var a=e.data.getRawData(0,-1,null,2);r.columns.reduce(function(t,e){return e.hidden&&t},!0)?r.$totalHeight=0:r.$totalHeight=a.reduce(function(t,e){return t+(e.$height||0)},0);var s=M(e._container),l={width:r.width||s&&s.width||0,height:r.height||s&&s.height||0};x.isAutoWidth(r)&&(I(r,l),r.$totalWidth=x.getTotalWidth(r.columns.filter(function(t){return!t.hidden}))),r.width=l.width,r.height=l.height;var d=S(e,a,l);d.selection=n,d.datacollection=e.data;var c,u,h,f,p=w.getShifts(d),g=x.isCssSupport("position","sticky"),_=O(d,g,l),v={wrapper:l,sticky:g,shifts:p,gridBodyHeight:_},m=E.getFixedRows(d,y(y({},v),{name:"header",position:"top"})),s=d.$footer?E.getFixedRows(d,y(y({},v),{name:"footer",position:"bottom"})):null,a=d.$totalWidth+k<l.width?"dhx_grid-less-width":"",n=d.$totalHeight+k<l.height?"dhx_grid-less-height":"";return t.node||(t=e.getScrollState(),c=t.x,u=t.y,b.awaitRedraw().then(function(){e.scroll(c,u)})),b.el(".dhx_grid.dhx_widget",y({class:(d.css||"")+(g?"":" dhx_grid_border")+(r.multiselection?" dhx_no-select--pointer":""),dhx_widget_id:o,dhx_root_id:r.rootParent},(h=d.data,f=r.columns,t=d.editable,o=d.multiselection,{role:"grid","aria-rowcount":h.length,"aria-colcount":f.filter(function(t){return!t.hidden}).length,"aria-readonly":t?"false":"true","aria-multiselectable":o?"true":"false"})),[b.resizer(function(t){return x.isAutoWidth(e.config)&&t&&(r.$totalWidth=0,I(r,l,!0,!0)),e.paint()}),b.el(".dhx_grid-content",{style:y({},l),onclick:i.onclick,onmouseover:i.onmouseover,class:(a+" "+n).trim(),role:"presentation"},[g?null:m,b.el(".dhx_grid-body",{style:{height:_,width:l.width-k},onscroll:i.onscroll,_ref:"grid_body",role:"presentation"},[b.el("div",{},[g?m:null,D(d,p),g?s:null])]),C.getFixedColsHeader(d,v),C.getFixedCols(d,v),g?null:s])])},e.proRender=function(t,e,i,n,o){e._container||(e.config.width=1,e.config.height=1),t&&t.node&&t.node.parent&&t.node.parent.el&&(_=M(t.node.parent.el),e.config.width=_.width,e.config.height=_.height);var r=e.config;if(!r)return b.el("div");if(!r.columns.length)return b.el(".dhx_grid",{dhx_root_id:r.rootParent});var a=e.data.getRawData(0,-1,null,2);r.columns.reduce(function(t,e){return e.hidden&&t},!0)?r.$totalHeight=0:r.$totalHeight=a.reduce(function(t,e){return t+(e.$height||0)},0);var s=M(e._container),l={width:r.width||s&&s.width||0,height:r.height||s&&s.height||0};x.isAutoWidth(r)&&(I(r,l,!0,!1,e.scrollView&&e.scrollView.config.enable),r.$totalWidth=x.getTotalWidth(r.columns.filter(function(t){return!t.hidden}))),r.width=l.width,r.height=l.height;var d=S(e,a,l);d.selection=n,d.datacollection=e.data;var c,u,h=w.getShifts(d),f=x.isCssSupport("position","sticky"),p=O(d,f,l),g={wrapper:l,sticky:f,shifts:h,gridBodyHeight:p},_=E.getFixedRows(d,y(y({},g),{name:"header",position:"top"})),s=d.$footer?E.getFixedRows(d,y(y({},g),{name:"footer",position:"bottom"})):null,a=d.$totalWidth+k<l.width?"dhx_grid-less-width":"",n=d.$totalHeight+k<l.height?"dhx_grid-less-height":"";return t.node||(t=e.getScrollState(),c=t.x,u=t.y,b.awaitRedraw().then(function(){e.scroll(c,u)})),h=b.el("div",{},[f?_:null,D(d,h),f?s:null]),b.el(".dhx_grid.dhx_widget",{class:(d.css||"")+(f?"":" dhx_grid_border")+(r.multiselection?" dhx_no-select--pointer":""),dhx_widget_id:o,dhx_root_id:r.rootParent,role:"grid","aria-rowcount":d.data.length,"aria-colcount":r.columns.filter(function(t){return!t.hidden}).length},[b.resizer(function(t){return x.isAutoWidth(e.config)&&t&&(r.$totalWidth=0,I(r,l,!0,!0)),e.paint()}),b.el(".dhx_grid-content",{style:y({},l),onclick:i.onclick,onmouseover:i.onmouseover,class:(a+" "+n).trim(),role:"presentation"},[f?null:_,b.el(".dhx_grid-body",{style:{height:p,width:l.width-k},onscroll:i.onscroll,_ref:"grid_body",role:"presentation"},[e.scrollView&&e.scrollView.config.enable?e.scrollView.render([h]):h]),C.getFixedColsHeader(d,g),C.getFixedCols(d,g),f?null:s])])}},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(119)),n(e(63))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(35),s=i(59),l=i(0),o=(r=s.Cell,o(d,r),d.prototype.destructor=function(){for(var t in this._all){var e;Object.prototype.hasOwnProperty.call(this._all,t)&&((e=this._all[t]).getWidget()&&"function"==typeof e.getWidget().destructor&&e.getWidget().destructor(),e.destructor())}this.config=this._cells=this._root=this._xLayout=this._isViewLayout=null,this._all={},this.unmount()},d.prototype.toVDOM=function(){if(this._isViewLayout){var t=[this.getCell(this.config.activeView).toVDOM()];return r.prototype.toVDOM.call(this,t)}var e=[];return this._inheritTypes(),this._cells.forEach(function(t){t=t.toVDOM();Array.isArray(t)?e=e.concat(t):e.push(t)}),r.prototype.toVDOM.call(this,e)},d.prototype.removeCell=function(e){if(this.events.fire(a.LayoutEvents.beforeRemove,[e])){var t=this.config.parent||this;if(t!==this)return t.removeCell(e);t=this.getCell(e);t&&(t=t.getParent(),delete this._all[e],t._cells=t._cells.filter(function(t){return t.id!=e}),t.paint()),this.events.fire(a.LayoutEvents.afterRemove,[e])}},d.prototype.addCell=function(t,e){var i;void 0===e&&(e=-1),this.events.fire(a.LayoutEvents.beforeAdd,[t.id])&&(i=this._createCell(t),e<0&&(e=this._cells.length+e+1),this._cells.splice(e,0,i),this.paint(),this.events.fire(a.LayoutEvents.afterAdd,[t.id]))},d.prototype.getId=function(t){return t<0&&(t=this._cells.length+t),this._cells[t]?this._cells[t].id:void 0},d.prototype.getRefs=function(t){return this._root.getRootView().refs[t]},d.prototype.getCell=function(t){return this._root._all[t]},d.prototype.forEach=function(t,e,i){if(void 0===i&&(i=1/0),this._haveCells(e)&&!(i<1))for(var n=(e?this._root._all[e]:this._root)._cells,o=0;o<n.length;o++){var r=n[o];t.call(this,r,o,n),this._haveCells(r.id)&&r.forEach(t,r.id,--i)}},d.prototype.cell=function(t){return this.getCell(t)},d.prototype._getCss=function(t){var e=this._xLayout?"dhx_layout-columns":"dhx_layout-rows",i=this.config.align?" "+e+"--"+this.config.align:"";if(t)return e+" dhx_layout-cell"+(this.config.align?" dhx_layout-cell--"+this.config.align:"");var n=this.config.parent?r.prototype._getCss.call(this):"dhx_widget dhx_layout",t=this.config.parent?"":" dhx_layout-cell";return n+(this.config.full?t:" "+e)+i},d.prototype._parseConfig=function(){var e=this,t=this.config,i=t.rows||t.cols||t.views||[];this._xLayout=!t.rows,this._cells=i.map(function(t){return e._createCell(t)})},d.prototype._createCell=function(t){var e=t.rows||t.cols||t.views?(t.parent=this._root,new d(this,t)):new s.Cell(this,t);return this._root._all[e.id]=e,t.init&&t.init(e,t),e},d.prototype._haveCells=function(t){if(t){t=this._root._all[t];return t._cells&&0<t._cells.length}return 0<Object.keys(this._all).length},d.prototype._inheritTypes=function(t){var e,i=this;void 0===t&&(t=this._cells),Array.isArray(t)?t.forEach(function(t){return i._inheritTypes(t)}):((e=t.config).rows||e.cols)&&(t=t.getParent(),!e.type&&t&&(t.config.type?e.type=t.config.type:this._inheritTypes(t)))},d);function d(t,e){var i=r.call(this,t,e)||this;return i._root=i.config.parent||i,i._all={},i._parseConfig(),i.config.activeTab&&(i.config.activeView=i.config.activeTab),i.config.views&&(i.config.activeView=i.config.activeView||i._cells[0].id,i._isViewLayout=!0),e.parent||(e=l.create({render:function(){return i.toVDOM()}},i),i.mount(t,e)),i}e.Layout=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=this&&this.__assign||function(){return(l=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r,d=i(1),c=i(0),a=i(6),s=i(35),u=i(122),h=i(4),f=i(54),o=(r=a.View,o(p,r),p.prototype.paint=function(){var t;this.isVisible()&&((t=this.getRootView())?t.redraw():this._parent.paint())},p.prototype.isVisible=function(){if(!this._parent)return!(!this._container||!this._container.tagName)||Boolean(this.getRootNode());var t=this._parent.config.activeView;return(!t||t===this.id)&&(!this.config.hidden&&(!this._parent||this._parent.isVisible()))},p.prototype.hide=function(){this.events.fire(s.LayoutEvents.beforeHide,[this.id])&&(this.config.hidden=!0,this._parent&&this._parent.paint&&this._parent.paint(),this.events.fire(s.LayoutEvents.afterHide,[this.id]))},p.prototype.show=function(){var t=this;this.events.fire(s.LayoutEvents.beforeShow,[this.id])&&(this._parent&&this._parent.config&&void 0!==this._parent.config.activeView?this._parent.config.activeView=this.id:this.config.hidden=!1,this._parent&&!this._parent.isVisible()&&this._parent.show(),this.paint(),this._ui instanceof f.Grid&&this._ui.config.keyNavigation&&c.awaitRedraw().then(function(){t._ui.setColumns(t._ui.config.columns)}),this.events.fire(s.LayoutEvents.afterShow,[this.id]))},p.prototype.expand=function(){this.events.fire(s.LayoutEvents.beforeExpand,[this.id])&&(this.config.collapsed=!1,this.events.fire(s.LayoutEvents.afterExpand,[this.id]),this.paint())},p.prototype.collapse=function(){this.events.fire(s.LayoutEvents.beforeCollapse,[this.id])&&(this.config.collapsed=!0,this.events.fire(s.LayoutEvents.afterCollapse,[this.id]),this.paint())},p.prototype.toggle=function(){this.config.collapsed?this.expand():this.collapse()},p.prototype.getParent=function(){return this._parent},p.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this.id=null,this._parent=this._handlers=this._uid=this._disabled=this._resizerHandlers=null,this.unmount()},p.prototype.getWidget=function(){return this._ui},p.prototype.getCellView=function(){return this._parent&&this._parent.getRefs(this._uid)},p.prototype.attach=function(t,e){var i=this;return this.config.html=null,"object"==typeof t?this._ui=t:"string"==typeof t?this._ui=new window.dhx[t](null,e):"function"==typeof t&&(t.prototype instanceof a.View?this._ui=new t(null,e):this._ui={getRootView:function(){return t(e)}}),this.paint(),this._ui instanceof f.Grid&&this._ui.config.keyNavigation&&c.awaitRedraw().then(function(){i._ui.setColumns(i._ui.config.columns)}),this._ui},p.prototype.attachHTML=function(t){this.config.html=t,this.paint()},p.prototype.toVDOM=function(t){if(null===this.config&&(this.config={}),!this.config.hidden){var e,i=this._calculateStyle(),n=d.isDefined(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:this.config.padding+"px"}:"",i=this.config.full||this.config.html?i:l(l({},i),n);this.config.html||(e=this._ui?((o=this._ui.getRootView()).render&&(o=c.inject(o)),[o]):t||null);var o=!this.config.resizable||this._isLastCell()||this.config.collapsed?null:c.el(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),l(l({},this._resizerHandlers),{_ref:"resizer_"+this._uid,tabindex:0}),[c.el("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]),r={};if(this.config.on)for(var a in this.config.on)r["on"+a]=this.config.on[a];var s="",t=this.config.cols||this.config.rows;if(this.config.type&&t)switch(this.config.type){case"line":s=" dhx_layout-line";break;case"wide":s=" dhx_layout-wide";break;case"space":s=" dhx_layout-space"}n=c.el("div",l(l(((t={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,t),r),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?s:""),style:i}),this.config.full?[c.el("div",{tabindex:this.config.collapsable?"0":"-1",role:this.config.collapsable?"button":null,"aria-label":this.config.collapsable?"click to "+(this.config.collapsed?"expand":"collapse"):null,class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&c.el("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&c.el(".dhx_layout-cell-header__image-wrapper",[c.el("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&c.el("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?c.el("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):c.el("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:c.el("div",{style:l(l({},n),{height:"calc(100% - "+(this.config.headerHeight||37)+"px)"}),".innerHTML":this.config.html,class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?s:"")},e)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?e:[this.config.collapsed?null:c.el(".dhx_layout-cell-content",{".innerHTML":this.config.html,style:n})]);return o?[n,o]:n}},p.prototype._getCss=function(t){return"dhx_layout-cell"},p.prototype._initHandlers=function(){function e(t){var e;r.isActive&&(e=(t.targetTouches?t.targetTouches[0]:t).clientX,t=(t.targetTouches?t.targetTouches[0]:t).clientY,e=r.xLayout?e-r.range.min+window.pageXOffset:t-r.range.min+window.pageYOffset,t=r.xLayout?"width":"height",e<0?e=r.resizerLength/2:e>r.size&&(e=r.size-r.resizerLength),o.config[t]=e-r.resizerLength/2+"px",r.nextCell.config[t]=r.size-e-r.resizerLength/2+"px",o.paint(),o.events.fire(s.LayoutEvents.resize,[o.id]))}function i(t){var e,i,n;t.targetTouches&&t.preventDefault(),3!==t.which&&(r.isActive&&a(t),o.events.fire(s.LayoutEvents.beforeResizeStart,[o.id])&&(document.body.classList.add("dhx_no-select--resize"),i=o.getCellView(),n=(e=o._getNextCell()).getCellView(),t=o._getResizerView(),i=i.el.getBoundingClientRect(),t=t.el.getBoundingClientRect(),n=n.el.getBoundingClientRect(),r.xLayout=o._isXDirection(),r.left=i.left+window.pageXOffset,r.top=i.top+window.pageYOffset,r.margin=u.getMarginSize(o.getParent().config,r.xLayout),r.range=u.getBlockRange(i,n,r.xLayout),r.size=r.range.max-r.range.min-r.margin,r.isActive=!0,r.nextCell=e,r.resizerLength=r.xLayout?t.width:t.height))}var o=this,r={left:null,top:null,isActive:!(this._handlers={enterCollapse:function(t){13===t.keyCode&&o._handlers.toggle()},collapse:function(){o.config.collapsable&&o.collapse()},expand:function(){o.config.collapsable&&o.expand()},toggle:function(){o.config.collapsable&&o.toggle()}}),range:null,xLayout:null,nextCell:null,size:null,resizerLength:null,margin:null},a=function(t){r.isActive=!1,document.body.classList.remove("dhx_no-select--resize"),t.targetTouches?(document.removeEventListener("touchend",a),document.removeEventListener("touchmove",e)):(document.removeEventListener("mouseup",a),document.removeEventListener("mousemove",e)),o.events.fire(s.LayoutEvents.afterResizeEnd,[o.id])};this._resizerHandlers={onmousedown:function(t){i(t),document.addEventListener("mouseup",a),document.addEventListener("mousemove",e)},ontouchstart:function(t){i(t),document.addEventListener("touchend",a),document.addEventListener("touchmove",e)},ondragstart:function(t){return t.preventDefault()}}},p.prototype._getCollapseIcon=function(){return this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-right":this._isXDirection()&&!this.config.collapsed?"dxi dxi-chevron-left":!this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-up":this._isXDirection()||this.config.collapsed?void 0:"dxi dxi-chevron-down"},p.prototype._isLastCell=function(){var t=this._parent;return t&&t._cells.indexOf(this)===t._cells.length-1},p.prototype._getNextCell=function(){var t=this._parent,e=t._cells.indexOf(this);return t._cells[e+1].config.hidden?t._cells[e+1]._getNextCell():t._cells[e+1]},p.prototype._getResizerView=function(){return this._parent.getRefs("resizer_"+this._uid)},p.prototype._isXDirection=function(){return this._parent&&this._parent._xLayout},p.prototype._calculateStyle=function(){var t=this.config;if(t){var e={},i=!1,n=!1;isNaN(Number(t.width))||(t.width=t.width+"px"),isNaN(Number(t.height))||(t.height=t.height+"px"),isNaN(Number(t.minWidth))||(t.minWidth=t.minWidth+"px"),isNaN(Number(t.minHeight))||(t.minHeight=t.minHeight+"px"),isNaN(Number(t.maxWidth))||(t.maxWidth=t.maxWidth+"px"),isNaN(Number(t.maxHeight))||(t.maxHeight=t.maxHeight+"px"),"content"===t.width&&(i=!0),"content"===t.height&&(n=!0);var o=t.width,r=t.height,a=t.cols,s=t.rows,l=t.minWidth,d=t.minHeight,c=t.maxWidth,u=t.maxHeight,h=t.gravity,f=t.collapsed,p=t.$fixed,g=-1===Math.sign(h)?0:h;"boolean"==typeof h&&(g=h?1:0);var _="boolean"==typeof h?!h:-1===Math.sign(h);this._isXDirection()?(p||o||void 0===h&&(l||c))&&(_=!0):(p||r||void 0===h&&(d||u))&&(_=!0);var v,_=_?0:g||1,g=this._isXDirection()?"x":"y";return void 0!==l&&(e.minWidth=l),void 0!==d&&(e.minHeight=d),void 0!==c&&(e.maxWidth=c),void 0!==u&&(e.maxHeight=u),void 0===this._parent&&(g=!0),void 0!==o&&"content"!==o?e.width=o:!0===g?e.width="100%":"x"===g&&(i?e.flex="0 0 auto":(v=this._isXDirection()?"1px":"auto",e.flex=_+" "+(a||s?"0 "+v:"1 auto"))),void 0!==r&&"content"!==r?e.height=r:!0===g?e.height="100%":"y"===g&&(n?e.flex="0 0 auto":(v=this._isXDirection()?"auto":"1px",e.flex=_+" "+(a||s?"0 "+v:"1 auto"))),!0===g&&void 0===t.width&&void 0===t.height&&(e.flex=_+" 1 auto"),f&&(this._isXDirection()?e.width="auto":e.height="auto",e.flex="0 0 auto"),e}},p);function p(t,e){e=r.call(this,t,e)||this;return e._disabled=[],t&&t.isVisible&&(e._parent=t),e._parent&&e._parent.events?e.events=e._parent.events:e.events=new h.EventSystem(e),e.config.full=void 0===e.config.full?Boolean(e.config.header||e.config.collapsable||e.config.headerHeight||e.config.headerIcon||e.config.headerImage):e.config.full,e._initHandlers(),e.id=e.config.id||d.uid(),e}e.Cell=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.PopupEvents||(e.PopupEvents={})).beforeHide="beforeHide",e.beforeShow="beforeShow",e.afterHide="afterHide",e.afterShow="afterShow",e.click="click"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.SliderEvents||(e.SliderEvents={})).change="change",e.focus="focus",e.blur="blur",e.keydown="keydown",e.mousedown="mousedown",e.mouseup="mouseup"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.TimepickerEvents||(e.TimepickerEvents={})).change="change",e.beforeApply="beforeApply",e.afterApply="afterApply",e.beforeClose="beforeClose",e.afterClose="afterClose",e.apply="apply",e.close="close",e.save="save"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.CalendarEvents||(e.CalendarEvents={})).change="change",e.beforeChange="beforechange",e.modeChange="modeChange",e.monthSelected="monthSelected",e.yearSelected="yearSelected",e.cancelClick="cancelClick",e.dateMouseOver="dateMouseOver",e.dateHover="dateHover"},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(65)),n(e(138)),n(e(71))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),h=i(0),a=i(4),f=i(2),s=i(133),l=i(6),d=i(5),c=i(28),p=i(66),g=i(17),_=i(137),v=i(69),m=i(22),y=i(70),b=i(71);function x(t){return t.icon?'<span class="'+t.icon+' dhx_combobox-options__icon"></span> <span class="dhx_combobox-options__value">'+t.value+"</span>":t.src?'<img src="'+t.src+'" class="dhx_combobox-options__image" alt='+t.value+'></img> <span class="dhx_combobox-options__value">'+t.value+"</span>":'<span class="dhx_combobox-options__value">'+t.value+"</span>"}var w,o=(w=l.View,o(C,w),C.prototype.focus=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.focus()},C.prototype.blur=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.blur(),this.popup.hide()},C.prototype.enable=function(){this.config.disabled=!1,this.paint()},C.prototype.disable=function(){this.config.disabled=!0,this.paint()},C.prototype.isDisabled=function(){return this.config.disabled},C.prototype.clear=function(){if(this.config.disabled)return!1;this.list.selection.remove(),this._state.value="",this._filter(),this.paint()},C.prototype.getValue=function(t){var e=this.list.selection.getId();return t?r.wrapBox(e):Array.isArray(e)?e.join(","):e},C.prototype.setValue=function(t){return this._setValue(t)},C.prototype.destructor=function(){this.popup&&this.popup.destructor(),this.events&&this.events.clear(),this.list&&this.list.destructor(),this._helper&&this._helper.destructor(),this._layout&&this._layout.destructor(),this.config=this.events=this.list=this.popup=null,this._helper=this._keyListener=this._handlers=this._state=this._uid=this._isPopupConfiqureted=null,this.unmount()},C.prototype.setState=function(t){switch(t){case"success":this._state.currentState=b.ComboState.success;break;case"error":this._state.currentState=b.ComboState.error;break;default:this._state.currentState=b.ComboState.default}this.paint()},C.prototype._setValue=function(t,e){var i=this;if(void 0===e&&(e=!1),this.config.disabled||!this._exsistId(t))return!1;this._filter(),this.config.multiselection||(this.list.selection.remove(),this._state.value=""),this.config.multiselection?("string"==typeof t&&(t=t.split(",")),"number"==typeof t&&(t=[t]),t.forEach(function(t){i.list.selection.add(t,!1,!1,e)})):(t=r.unwrapBox(t),this.list.selection.add(t,!1,!1,e),(t=this.data.getItem(t))&&(this._state.value=this._getItemText(t))),this.paint()},C.prototype._createLayout=function(){var t=this.list=new p.List(null,{template:this.config.template,virtual:this.config.virtual,keyNavigation:!1,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),e=this._layout=new c.Layout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll}}});e.getCell("list").attach(t),this.config.multiselection&&this.config.selectAllButton&&e.getCell("select-unselect-all").attach(y.selectAllView)},C.prototype._initHandlers=function(){var i=this;this.config.helpMessage&&(this._helper=new g.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(t){t.preventDefault(),t.stopPropagation(),i._helper.show(t.target,{mode:"left"===i.config.labelPosition?"bottom":"right"})},selectAll:function(){i._state.unselectActive?(i.list.selection.remove(),i.config.selectAllButton&&(i._layout.getCell("select-unselect-all").attach(y.selectAllView),i._state.unselectActive=!1)):(i.data.filter(),i.list.selection.add(),i.config.selectAllButton&&(i._layout.getCell("select-unselect-all").attach(y.unselectAllView),i._state.unselectActive=!0)),i._changePopupPosition(),i.paint()},onkeydown:function(t){"Tab"===t.key&&i.popup.isVisible()?i._hideOptions():(i.popup.isVisible()||t.which!==s.KEY_CODES.DOWN_ARROW||i._showOptions(),i.popup.isVisible()&&t.which===s.KEY_CODES.RIGHT_ARROW&&i.config.readOnly&&!i.config.multiselection&&(i.list.moveFocus(p.MOVE_DOWN),t.preventDefault()),i.popup.isVisible()&&t.which===s.KEY_CODES.LEFT_ARROW&&i.config.readOnly&&!i.config.multiselection&&(i.list.moveFocus(p.MOVE_UP),t.preventDefault()),i.popup.isVisible()&&t.which===s.KEY_CODES.DOWN_ARROW&&(i.list.moveFocus(p.MOVE_DOWN),t.preventDefault()),i.popup.isVisible()&&t.which===s.KEY_CODES.UP_ARROW&&(i.list.moveFocus(p.MOVE_UP),t.preventDefault()),i.popup.isVisible()&&t.which===s.KEY_CODES.ESC&&i._hideOptions(),i.popup.isVisible()&&t.which===s.KEY_CODES.ENTER&&(i.setValue(i.list.getFocus()),i.config.multiselection||i._hideOptions())),i.events.fire(b.ComboboxEvents.keydown,[t,i.popup.isVisible()&&i.list.getFocus()])},onkeyup:function(t){i.config.multiselection&&!i.config.itemsCount&&(i._state.ignoreNext?i._state.ignoreNext=!1:t.which===s.KEY_CODES.BACKSPACE&&!i._state.value&&i.config.multiselection&&i.list.selection.getId().length&&(t=(t=i.list.selection.getId())[t.length-1],i.list.selection.remove(t),i._changePopupPosition(),i.paint()))},oninput:function(t){i.config.disabled||(t=t.target.value,i.events.fire(b.ComboboxEvents.input,[t]),i._state.value=t,i._filter(),t.length?i._state.canDelete=!1:(i._state.ignoreNext=!0,i._state.canDelete=!0),i.config.multiselection||(i.list.selection.remove(),i.paint()),i.popup.isVisible()||i._showOptions(),i._updatePopup())},oninputclick:function(t){if(!i.config.disabled){if(i.focus(),t.target.classList.contains("dhx_combobox__action-remove")){var e=f.locate(t);return e?(i.list.selection.remove(e),i._changePopupPosition(),void i.paint()):void 0}if(t.target.classList.contains("dhx_combobox__action-clear-all"))return i.list.selection.getId().forEach(function(t){return i.list.selection.remove(t)}),i.config.selectAllButton&&i._state.unselectActive&&(i._layout.getCell("select-unselect-all").attach(y.selectAllView),i._state.unselectActive=!1),void i.paint();t.preventDefault(),i.popup.isVisible()?i.focus():i._showOptions()}},toggleIcon:function(){i.focus(),i.popup.isVisible()?i._hideOptions():i._showOptions()},onfocus:function(){var t;return null===(t=i.events)||void 0===t?void 0:t.fire(b.ComboboxEvents.focus,[])},onblur:function(){var t;return null===(t=i.events)||void 0===t?void 0:t.fire(b.ComboboxEvents.blur,[])}}},C.prototype._initEvents=function(){var i=this;this.data.events.on(d.DataEvents.load,function(){i.config.value&&i._setValue(i.config.value,!0)}),this.list.events.on(p.ListEvents.click,function(){i.config.multiselection||i._hideOptions(),i._changePopupPosition()}),this.list.selection.events.on(m.SelectionEvents.afterSelect,function(){var t=i.getValue(i.config.multiselection);i.events.fire(b.ComboboxEvents.change,[t]),i._updateSelectedItem(t)}),this.list.selection.events.on(m.SelectionEvents.afterUnSelect,function(){var t,e=i.config.multiselection;i.config.readOnly&&!e||(t=i.getValue(e),i.events.fire(b.ComboboxEvents.change,[t]),e&&i._updateSelectedItem(t))}),this.popup.events.on(g.PopupEvents.beforeShow,function(){if(!i.popup.isVisible()&&!i._isPopupConfiqureted)return i._configurePopup(),!1}),this.config.readOnly&&this.popup.events.on(g.PopupEvents.afterShow,function(){var t;i._state.value?(t=i.list.selection.getId(),i.list.setFocus(t)):i.list.setFocus(i.data.getId(0)),i._keyListener.startNewListen(function(t){return i._findBest(t)})})},C.prototype._showOptions=function(){this.events.fire(b.ComboboxEvents.beforeOpen)&&(this._state.value.length&&(this._state.canDelete=!0),this._filter(),this._configurePopup()&&(this.events.fire(b.ComboboxEvents.open),this.events.fire(b.ComboboxEvents.afterOpen)))},C.prototype._configurePopup=function(){this._isPopupConfiqureted=!0;var t=this.getRootView();return!!(t&&t.refs&&t.refs.holder)&&(this.popup.isVisible()||this._updatePopup(),!0)},C.prototype._hideOptions=function(){var t=this;this.events.fire(b.ComboboxEvents.beforeClose)&&(this.config.readOnly&&this._keyListener.endListen(),this.list.setFocus(this.data.getId(0)),this.config.multiselection||this.config.readOnly||this.list.selection.contains()||(this._state.value=""),h.awaitRedraw().then(function(){return t.popup.isVisible()&&t.popup.hide()}),this.events.fire(b.ComboboxEvents.afterClose),this.events.fire(b.ComboboxEvents.close),this._filter(),this.paint())},C.prototype._filter=function(){var t,e=this;this.config.readOnly||(this.data.filter(function(t){return e.config.filter?e.config.filter(t,e._state.value):r.isEqualString(e._state.value,e._getItemText(t))}),this.config.multiselection?this.list.setFocus(this.data.getId(0)):(t=this.data.getIndex(this.list.selection.getId()),this.list.setFocus(this.data.getId(-1<t?t:0))),0===this.data.getLength()?(this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").hide(),this._layout.getCell("list").hide(),this._layout.getCell("not-found").attach(y.emptyListView),this._layout.getCell("not-found").show()):(this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").show(),this._layout.getCell("not-found").isVisible()&&(this._layout.getCell("list").show(),this._layout.getCell("not-found").hide())))},C.prototype._findBest=function(e){var i=this,t=this.data.find(function(t){return r.isEqualString(e,i._getItemText(t))});t&&this.list.selection.getId()!==t.id&&(this.list.setFocus(t.id),this.paint())},C.prototype._exsistId=function(t){var e=this;return t instanceof Array?t.every(function(t){return e.data.exists(t)}):this.data.exists(t)},C.prototype._draw=function(){if(!this.config)return h.el("div");var t=this.config,e=t.multiselection,i=t.labelPosition,n=t.hiddenLabel,o=t.required,r=t.disabled,a=t.css,s=t.helpMessage,l=t.readOnly,d=t.placeholder,c=e?null:this.data.getItem(this.list.selection.getId()),t=!this.list.selection.getId()||"object"==typeof this.list.selection.getId()&&0===this.list.selection.getId().length,e=f.getLabelStyle(this.config);return h.el("div",{dhx_widget_id:this._uid,onkeydown:this._handlers.onkeydown,onkeyup:this._handlers.onkeyup,class:"dhx_widget dhx_combobox"+("left"===i?" dhx_combobox--label-inline":"")+(n?" dhx_combobox--sr_only":"")+(o?" dhx_combobox--required":"")+(r?" dhx_combobox--disabled":"")+(a?" "+a:"")},[e?h.el("label.dhx_label.dhx_combobox__label",{style:e.style,class:s?"dhx_label--with-help":"",onclick:this._handlers.oninputclick},s?[(e.label||o)&&h.el("span.dhx_label__holder",e.label),h.el("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,id:"dhx_label__help_"+this._uid})]:e.label):null,h.el("div.dhx_combobox-input-box"+(r?".dhx_combobox-input-box--disabled":"")+(l?".dhx_combobox-input-box--readonly":"")+(this._state.currentState===b.ComboState.error?".dhx_combobox-input-box--state_error":"")+(this._state.currentState===b.ComboState.success?".dhx_combobox-input-box--state_success":""),{_ref:"holder"},[h.el("div.dhx_combobox-input__icon",{onclick:this._handlers.toggleIcon},[h.el("span"+(this.popup.isVisible()?".dxi.dxi-menu-up":".dxi.dxi-menu-down"))]),h.el("div.dhx_combobox-input-list-wrapper",{onclick:this._handlers.oninputclick},[h.el("ul.dhx_combobox-input-list",u(this._drawSelectedItems(),[h.el("li.dhx_combobox-input-list__item.dhx_combobox-input-list__item--input",[h.el("input.dhx_combobox-input",{oninput:this._handlers.oninput,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_ref:"input",_key:this._uid,type:"text",placeHolder:t&&d?d:void 0,value:l&&c?this._getItemText(c):this._state.value,readOnly:l||r,required:o,"aria-label":l?"Select value":"Type or select value","aria-describedby":s?"dhx_label__help_"+this._uid:null,"aria-expanded":!0})])]))])])])},C.prototype._drawSelectedItems=function(){var t,i=this;if(!this.config.multiselection)return[];if(this.config.itemsCount){var e=this.list.selection.getId().length;return e?[h.el("li.dhx_combobox-input-list__item.dhx_combobox-tag",[h.el("span.dhx_combobox-tag__value",(t=e,"function"==typeof(e=this.config.itemsCount)?e(t):t+" "+v.default.selectedItems)),h.el("button.dhx_button.dhx_combobox-tag__action.dhx_combobox__action-clear-all",{"aria-label":"clear all"},[h.el("span.dhx_button__icon.dxi.dxi-close-circle")])])]:[]}return this.list.selection.getId().map(function(t){var e=i.data.getItem(t);return e?h.el("li.dhx_combobox-input-list__item.dhx_combobox-tag",{dhx_id:t},[i._drawImageOrIcon(e),h.el("span.dhx_combobox-tag__value",i._getItemText(e)),h.el("button.dhx_button.dhx_button--icon.dhx_combobox-tag__action.dhx_combobox__action-remove",{type:"button","aria-label":"remove"},[h.el("span.dhx_button__icon.dxi.dxi-close-circle")])]):null})},C.prototype._drawImageOrIcon=function(t){return t.src?h.el("img.dhx_combobox-tag__image",{src:t.src,alt:""}):t.icon?h.el("span.dhx_combobox-tag__icon",{class:t.icon}):null},C.prototype._getItemText=function(t){return t?t.value:null},C.prototype._updateSelectedItem=function(t){this.config.multiselection?(this.config.selectAllButton&&!this._state.unselectActive&&this.data.getLength()===t.length?(this._layout.getCell("select-unselect-all").attach(y.unselectAllView),this._state.unselectActive=!0):this.config.selectAllButton&&this._state.unselectActive&&(this._layout.getCell("select-unselect-all").attach(y.selectAllView),this._state.unselectActive=!1),this._state.value&&(this._state.value="",this._state.canDelete=0===t.length,this._filter())):this._state.value=null!==(t=this._getItemText(this.data.getItem(t)))&&void 0!==t?t:"",this.paint()},C.prototype._changePopupPosition=function(){var t=this;this.config.multiselection&&h.awaitRedraw().then(function(){t._updatePopup()})},C.prototype._updatePopup=function(){var t=this.getRootView().refs.holder.el;this.popup.getContainer().style.width=t.offsetWidth+"px";var e=this.data.getLength()*(this.config.itemHeight||36);"string"==typeof this.config.listHeight&&this.config.listHeight.includes("px")&&(this.config.listHeight=this.config.listHeight.replace("px",""));e=e<this.config.listHeight?e:this.config.listHeight;this.popup.getContainer().style.height=(this.config.selectAllButton&&this.config.multiselection?e+33:e)+"px",this.popup.show(t,{mode:"bottom"})},C);function C(t,e){var i=w.call(this,t,r.extend({template:x,listHeight:224,itemHeight:36,disabled:!1,readOnly:!1},e))||this;i.config.itemsCount=i.config.itemsCount||i.config.showItemsCount,i.config.helpMessage=i.config.helpMessage||i.config.help,i.config.cellHeight&&36===i.config.itemHeight&&(i.config.itemHeight=i.config.cellHeight),i.config.labelInline&&(i.config.labelPosition="left"),Array.isArray(i.config.data)?(i.events=new a.EventSystem(i),i.data=new d.DataCollection({}),i.data.parse(i.config.data)):i.config.data?(i.data=i.config.data,i.events=new a.EventSystem(i),i.events.context=i):(i.events=new a.EventSystem(i),i.data=new d.DataCollection({})),i.popup=new g.Popup,i.popup.events.on(g.PopupEvents.afterShow,function(){i.paint()}),i.popup.events.on(g.PopupEvents.afterHide,function(){i.config.multiselection&&(i._state.value=""),i.paint()}),i.popup.events.on(g.PopupEvents.beforeHide,function(t){t&&i._hideOptions()}),(i.config.readonly||i.config.readOnly)&&(i.config.readOnly=i.config.readOnly||i.config.readonly,i._keyListener=new _.KeyListener),i._state={value:"",ignoreNext:!1,canDelete:!1,unselectActive:!1,currentState:b.ComboState.default},i._initHandlers(),i._createLayout(),i.config.value&&i._setValue(i.config.value,!0),i._initEvents();e=h.create({render:function(){return i._draw()},hooks:{didRedraw:function(){i.popup.isVisible()&&(i.focus(),i._configurePopup())}}});return i.mount(t,e),i}e.Combobox=o},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(67)),n(e(136)),n(e(68)),n(e(37))},function(t,r,e){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(r,"__esModule",{value:!0});var l=e(1),d=e(5),c=e(0),u=e(16),h=e(22),o=e(6),f=e(68),p=e(2),g=e(37),_=e(134);r.MOVE_UP=1,r.MOVE_DOWN=2;var v,i=(v=o.View,i(m,v),m.prototype._didRedraw=function(t){},m.prototype._dblClick=function(t){var e=p.locate(t);e&&(e=this.data.getItem(e).id,this.config.editable&&this.editItem(e),this.events.fire(g.ListEvents.doubleClick,[e,t]))},m.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},m.prototype._dragStart=function(t){var e=this;this._touch.start=!0;var i=[],n=p.locateNode(t,"dhx_id"),o=n&&n.getAttribute("dhx_id"),n=this.selection.getId();return this.config.multiselection&&n instanceof Array&&(n.map(function(t){t!==o&&e.getRootView().refs[t]&&i.push(e.getRootView().refs[t].el)}),n=s(n)),"string"==typeof n&&(n=[n]),this.config.dragMode&&!this._edited?d.dragManager.onMouseDown(t,n||[o],i):null},m.prototype.disableSelection=function(){this.selection.disable()},m.prototype.enableSelection=function(){this.selection.enable()},m.prototype.editItem=function(t){this._edited=t,this.data.getItem(this._edited)&&this.events.fire(g.ListEvents.beforeEditStart,[t])?(this.paint(),this.events.fire(g.ListEvents.afterEditStart,[t])):this._edited=null},m.prototype.editEnd=function(t,e){var i;this._edited&&(null!==t&&(i=this.data.getItem(e),this.data.update(e,a(a({},i),{value:t})),this._changed=!0),this._edited=null,this.paint())},m.prototype.getFocusItem=function(){return this.data.getItem(this._focus)},m.prototype.setFocus=function(t){this._focus!=t&&this.data.exists(t)&&(this._focus=t,this.showItem(t),this.events.fire(g.ListEvents.focusChange,[this.data.getIndex(this._focus),this._focus]),this.paint())},m.prototype.getFocus=function(){return this._focus},m.prototype.destructor=function(){this.events&&this.events.clear(),this.keyManager&&this.keyManager.destructor(),this.selection&&this.selection.destructor(),this.config=this.events=this.selection=this.keyManager=null,this._handlers=this._focus=this._edited=this._events=this._topOffset=this._visibleHeight=this._touch=null,this.unmount()},m.prototype.showItem=function(t){var e,i,n,o=this.getRootView();o&&o.node&&o.node.el&&void 0!==t&&((e=this.getRootNode())&&(i=this.config.virtual,n=this.data.getIndex(t),o=Math.floor(n/e.children.length)||0,t=e.children[n-e.children.length*o],(i||t)&&(o=i?parseInt(this.config.itemHeight):t.clientHeight,(t=i?n*o:t.offsetTop)>=e.scrollTop+e.clientHeight-o?e.scrollTo(0,t-e.clientHeight+o):t<e.scrollTop&&e.scrollTo(0,t))))},m.prototype._renderItem=function(t,e){var i=this.config.itemHeight;if(t.$empty)return c.el("li",{class:"dhx_list-item",style:{height:i}});var n=this.config.template&&this.config.template(t)||t.html,o=t.id==this._focus;if(t.id==this._edited)return _.getEditor(t,this).toHTML();var r=this.data.getMetaMap(t),o=a(a(a(a({},this._events),{class:"dhx_list-item"+(r&&r.selected?" dhx_list-item--selected":"")+(o?" dhx_list-item--focus":"")+(r&&r.drop&&!this._edited?" dhx_list-item--drophere":"")+(r&&r.drag&&!this._edited?" dhx_list-item--dragtarget":"")+(this.config.dragMode&&!this._edited?" dhx_list-item--drag":"")+(t.css?" "+t.css:""),dhx_id:t.id,_ref:t.id.toString(),style:{height:i},_key:t.id,".innerHTML":n}),this.getItemAriaAttrs(this,t)),{tabindex:o?0:-1});return n?(o[".innerHTML"]=n,c.el("li",o)):(o.class+=" dhx_list-item--text",c.el("li",o,t.text||t.value))},m.prototype._renderList=function(){var i=this,t=this._getRange(),e=this.data.getRawData(t[0],t[1]).map(function(t,e){return i._renderItem(t,e)});return this.config.virtual&&(e=s([c.el(".div",{style:{height:t[2]+"px"}})],e,[c.el(".div",{style:{height:t[3]+"px"}})])),c.el("ul.dhx_widget.dhx_list",a(a({style:{"max-height":this.config.height,position:"relative"},tabindex:0,class:(this.config.css||"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":""),dhx_widget_id:this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),e)},m.prototype.moveFocus=function(t,e){var i,n,o=this.data.getLength();o&&(n=(i=this._focus)?this.data.getIndex(i):-1,e=e||1,t===r.MOVE_DOWN?i=this.data.getId(Math.min(n+e,o-1)):t===r.MOVE_UP&&(i=this.data.getId(Math.max(n-e,0))),this.setFocus(i))},m.prototype._getRange=function(){if(this.config.virtual){var t=this._visibleHeight||parseInt(this.config.height),e=parseInt(this.config.itemHeight),i=this.data.getLength(),n=this.data.getLength()*e,o=this._topOffset,o=Math.max(0,Math.min(o,n-t)),r=Math.floor(o/e),t=Math.min(i-r,Math.floor(t/e)+5);return this._topOffset=o,[r,t+r,r*e,n-e*(t+r)]}return[0,-1,0,0]},m.prototype._getHotkeys=function(){var n=this;return{arrowDown:function(t){n.moveFocus(r.MOVE_DOWN),n._changed&&(n._changed=!1),t.preventDefault()},arrowUp:function(t){n.moveFocus(r.MOVE_UP),n._changed&&(n._changed=!1),t.preventDefault()},escape:function(){n.editEnd(null),n._changed&&(n._changed=!1)},enter:function(t){var e,i;n._changed?n._changed=!1:(i=(e=n.selection.getItem())instanceof Array?null===(i=e[0])||void 0===i?void 0:i.id:null==e?void 0:e.id,n.config.editable&&!n._edited&&(e&&i===n._focus||!e)?n.editItem(n._focus):n.selection.add(n._focus),n.events.fire(g.ListEvents.click,[n._focus,t]))},"shift+enter":function(t){n.selection.add(n._focus,!1,!0),n.events.fire(g.ListEvents.click,[n._focus,t])},"ctrl+enter":function(t){n.selection.add(n._focus,!0,!1),n.events.fire(g.ListEvents.click,[n._focus,t])},"ctrl+a":function(t){n.config.multiselection&&(t.preventDefault(),n.selection.remove(),n.data.map(function(t){return t.id}).forEach(function(t){"ctrlClick"===n.config.multiselection?n.selection.add(t,!0):n.selection.add(t)}))}}},m.prototype._initHotKey=function(){var t,e=this._getHotkeys();for(t in e)this.keyManager.addHotKey(t,e[t]);for(t in this.config.hotkeys)this.keyManager.addHotKey(t,this.config.hotkeys[t])},m.prototype.getItemAriaAttrs=function(t,e){var i,n,o;return a(a({role:"option","aria-selected":e.$selected?"true":"false"},(o=e,(n=t).config.dragMode&&!n._edited?{"aria-grabbed":Boolean(o.$dragtarget&&!n._edited).toString()}:{})),(i=t).config.editable?{"aria-roledescription":i._edited?"Press Enter to stop editing":"Double click to edit content"}:{})},m.prototype._getListAriaAttrs=function(t,e){return{role:"listbox","aria-label":"Listbox "+(t.title||"")+", count of options = "+e+"."+(t.editable?" Content is editable.":""),"aria-multiselectable":t.selection&&t.multiselection?"true":"false","aria-readonly":t.editable?"false":"true"}},m);function m(t,e){void 0===e&&(e={});var n=this,i=e.itemHeight||(e.virtual?37:null);i&&"number"==typeof i&&(i=i.toString()+"px"),(n=v.call(this,t,l.extend({itemHeight:i,keyNavigation:!0,editable:!1,selection:!0},e))||this)._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null};e=n.config.data;e instanceof d.DataCollection?(n.data=e,n.events=e.events):(n.data=new d.DataCollection({}),n.events=n.data.events,e&&n.data.parse(e)),n.selection=new f.Selection({disabled:!n.config.selection,multiselection:n.config.multiselection},n.data,n.events),n.config.keyNavigation&&(n.keyManager=new u.KeyManager(function(t,e){return e==n._uid&&(!n._edited||n._edited&&"escape"!==t.key)}),n._initHotKey()),n.events.on(d.DataEvents.change,function(t,e,i){"setPage"===e&&n.showItem(n.data.getId(i[0])),n.paint()}),n.events.on(h.SelectionEvents.afterUnSelect,function(){return n.paint()}),n.events.on(h.SelectionEvents.afterSelect,function(t){t&&n.config.selection&&(n._focus=t),n.paint()}),n.events.on(g.ListEvents.afterEditEnd,n.editEnd.bind(n));e=function(e){return function(t){n.data.setMeta(n.data.getItem(t.target),"drop",e),n.paint()}};n.events.on(d.DragEvents.canDrop,e(!0)),n.events.on(d.DragEvents.cancelDrop,e(!1));e=function(e){return function(t){t.source.map(function(t){return n.data.setMeta(n.data.getItem(t),"drag",e)}),n.paint()}};n.events.on(d.DragEvents.dragStart,e(!0)),n.events.on(d.DragEvents.afterDrag,e(!1)),n._handlers={onmousedown:function(t){n._dragStart(t)},ontouchstart:function(t){n._touch.timer=setTimeout(function(){n._dragStart(t)},n._touch.duration),n._touch.timeStamp?(n._touch.dblDuration>=n._touch.timeStamp-+t.timeStamp.toFixed()&&(t.preventDefault(),n._dblClick(t)),n._touch.timeStamp=null):n._touch.timeStamp=+t.timeStamp.toFixed(),setTimeout(function(){n._touch.timeStamp=null},n._touch.dblDuration)},ontouchmove:function(t){n._touch.start&&t.preventDefault(),n._clearTouchTimer()},ontouchend:function(){n._touch.start=!1,n._clearTouchTimer()},ondragstart:function(){return!(n.config.dragMode&&!n._edited)&&null},oncontextmenu:function(t){var e=p.locate(t);e&&n.events.fire(g.ListEvents.itemRightClick,[e,t])},onclick:function(t){var e=p.locate(t);e&&(n.selection.add(e,t.ctrlKey||t.metaKey,t.shiftKey),n._focus=e,n.events.fire(g.ListEvents.click,[e,t]),n.paint())},ondblclick:function(t){n._dblClick(t)},onscroll:function(t){n.config.virtual&&(n._topOffset=t.target.scrollTop,n._visibleHeight=t.target.offsetHeight,n.paint())},onmouseover:function(t){var e=p.locate(t);e&&e!==p.locate(t.relatedTarget)&&n.events.fire(g.ListEvents.itemMouseOver,[e,t])}};e=n.config.eventHandlers;if(e)for(var o=0,r=Object.entries(e);o<r.length;o++){var a=r[o],s=a[0],a=a[1];n._handlers[s]=p.eventHandler(function(t){return p.locate(t)},a,n._handlers[s])}n.config.dragMode&&d.dragManager.setItem(n._uid,n),n._topOffset=n._visibleHeight=0;e=c.create({render:function(){return n._renderList()},hooks:{didMount:function(t){n.config.virtual&&(n._visibleHeight=t.node.el.offsetHeight)},didRedraw:function(t){return n._didRedraw(t)}}});return n.mount(t,e),n}r.List=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(22),o=i(5),i=(r.prototype.enable=function(){this.config.disabled=!1},r.prototype.disable=function(){this.remove(),this.config.disabled=!0},r.prototype.getId=function(){return this.config.multiselection?this._selected:this._selected[0]},r.prototype.getItem=function(){var e=this;return this.config.multiselection?this._selected.map(function(t){return e._data.getItem(t)}):this._selected.length?this._data.getItem(this._selected[0]):null},r.prototype.contains=function(t){return t?this._selected.includes(t):0<this._selected.length},r.prototype.remove=function(t){var e=this;t?this._unselectItem(t):(this._selected.forEach(function(t){return e._unselectItem(t)}),this._selected=[])},r.prototype.add=function(t,e,i,n){var o,r=this;this.config.disabled||(void 0!==t?(o=this.config.multiselection,i&&this._selected.length&&o?this._addMulti(t,n):this._addSingle(t,o&&("ctrlClick"!==o||e),n)):this._data.serialize().filter(function(t){t=t.id;return!r._selected.includes(t)}).forEach(function(t){t=t.id;r._addMulti(t,n)}))},r.prototype.destructor=function(){var e=this;this._selected.forEach(function(t){return e._unselectItem(t,!0)})},r.prototype._addMulti=function(t,e){var i=this._selected[this._selected.length-1],n=this._data.getIndex(i),o=this._data.getIndex(t);for(o<n&&(n=(t=[o,n])[0],o=t[1]);n<=o;n++){var r=this._data.getId(n);this._selectItem(r,e)}},r.prototype._addSingle=function(e,t,i){var n=this;t||this._selected.forEach(function(t){t!=e&&n._unselectItem(t)}),t&&this._selected.includes(e)?this._unselectItem(e,i):this._selectItem(e,i)},r.prototype._selectItem=function(t,e){var i=this._data.getItem(t);i&&!this._data.getMeta(i,"selected")&&(e||this.events.fire(n.SelectionEvents.beforeSelect,[t]))&&(this._selected.push(t),this._data.setMeta(i,"selected",!0),e||this.events.fire(n.SelectionEvents.afterSelect,[t]))},r.prototype._unselectItem=function(e,t){(t||this.events.fire(n.SelectionEvents.beforeUnSelect,[e]))&&(this._selected=this._selected.filter(function(t){return t!==e}),this._data.setMeta(this._data.getItem(e),"selected",!1),t||this.events.fire(n.SelectionEvents.afterUnSelect,[e]))},r);function r(t,e,i){var n=this;this.config=t,this.events=i,this._data=e,this._selected=[],this._data.events.on(o.DataEvents.removeAll,function(){n._selected=[]}),"string"==typeof this.config.multiselection&&(["click","ctrlClick"].includes(this.config.multiselection)||(this.config.multiselection=!1)),this._data.events.on(o.DataEvents.beforeRemove,function(t){var e;n._nextSelection=null,1===n._selected.length&&(e=n._data.getIndex(t.id),1<(t=n._data.getLength())&&(e=t==e-1?e-1:e+1,n._nextSelection=n._data.getId(e)))}),this._data.events.on(o.DataEvents.afterRemove,function(t){t=n._selected.indexOf(t.id);-1!==t&&n._selected.splice(t,1),n._nextSelection&&(n.add(n._nextSelection),n._nextSelection=null)})}e.Selection=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={notFound:"Not Found",selectAll:"Select All",unselectAll:"Unselect All",selectedItems:"selected items"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(69);e.selectAllView=function(){return n.el(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",o.default.selectAll)},e.unselectAllView=function(){return n.el(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",o.default.unselectAll)},e.emptyListView=function(){return n.el("ul.dhx_list",[n.el("li.dhx_list-item.dhx_combobox-options__item",{},o.default.notFound)])}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.ComboboxEvents||(e.ComboboxEvents={})).change="change",n.focus="focus",n.blur="blur",n.keydown="keydown",n.input="input",n.beforeOpen="beforeOpen",n.afterOpen="afterOpen",n.beforeClose="beforeClose",n.afterClose="afterClose",n.open="open",n.close="close",(e=e.ComboState||(e.ComboState={}))[e.default=0]="default",e[e.error=1]="error",e[e.success=2]="success"},function(t,e,i){"use strict";var y=this&&this.__assign||function(){return(y=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var b=i(0),m=i(27),x=i(9),n=i(3),w=2;function o(t,e,i,n){i&&(i.toLocaleLowerCase().includes("touch")?e._events:e.events).fire(i,[t,n])}function C(t,e,i){return{onclick:[o,t,i,n.GridEvents[e+"CellClick"]],onmouseover:[o,t,i,n.GridEvents[e+"CellMouseOver"]],onmousedown:[o,t,i,n.GridEvents[e+"CellMouseDown"]],ontouchstart:[o,t,i,n.GridEvents[e+"CellMouseDown"]],ondblclick:[o,t,i,n.GridEvents[e+"CellDblClick"]],oncontextmenu:[o,t,i,n.GridEvents[e+"CellRightClick"]],ontouchmove:[o,t,i,n.GridSystemEvents[e+"CellTouchMove"]],ontouchend:[o,t,i,n.GridSystemEvents[e+"CelltouchEnd"]]}}function E(t,e,i,n,o,r,a){void 0===o&&(o="");var s=e.type?"dhx_"+e.type+"-cell":"dhx_string-cell",t=i.content[t.content]&&i.content[t.content].toHtml(e,i),l={};return i.columns.forEach(function(t){var e=!!i.content[t[n][a].content];l[t.id]=e&&i.content[t[n][a].content].toHtml(t,i)||t[n][a].text}),b.el("."+s,{style:{class:o.trim(),padding:0}},[t&&("string"==typeof t||"number"==typeof t?b.el("div",{class:"dhx_grid-footer-cell-text",role:"presentation",".innerHTML":e.template&&"string"==typeof t?e.template(t,l,e):t}):t)])}function l(f,t){if(!f.data||!f.columns)return[];var e,p=f.$positions,g=t.name,_=f.currentColumns,v=f[g+"RowHeight"]||40,m=(e=g,t=(t=_).map(function(t){return t[e]||[{}]}),x.transpose(t));return m.map(function(t,h){return b.el(".dhx_"+g+"-row",y({style:{height:v}},{role:"row","aria-rowindex":h+1}),t.map(function(n,t){var e=n.css||"",i=_[t],o=p.xStart+t+1,r="dxi dxi-sort-variant dhx_grid-sort-icon",a="none";f.sortBy&&""+i.id===f.sortBy&&!n.content&&(r+=" dhx_grid-sort-icon--"+(c=f.sortDir||"asc"),e+=" dhx_grid-"+g+"-cell--sorted ",a="asc"===c?"ascending":"descending");var s=x.isSortable(f,i)&&n.text&&"footer"!==g&&!1!==n.headerSort;s&&(e+=" dhx_grid-header-cell--sortable");var l=0===t?"dhx_first-column-cell":"",d=t===_.length-1?"dhx_last-column-cell":"";n.content||(n.align?e+=" dhx_grid-header-cell--align_"+n.align+" ":e+=" dhx_grid-header-cell--"+("number"===i.type||"percent"===i.type||"date"===i.type?"align_right":"align_left")+" "),e+=l+" "+d;var c=(void 0!==i.resizable?i:f).resizable;c&&(c=b.el("div",{class:"dhx_resizer_grip_wrap","aria-hidden":"true"},[b.el("div",{class:"dhx_resizer_grip",dhx_resized:i.id,style:{height:100*m.length+"%"}},[b.el("div",{class:"dhx_resizer_grip_line"})])]),("footer"===g||0<h)&&(c=null)),n.align&&(e+=" dhx_align-"+n.align);l=function(t,e,i){e={"aria-colindex":e};return"footer"===t||n.content?e.role="gridcell":(e.role="columnheader",e["aria-sort"]=i),e};if(n.content)return b.el(".dhx_grid-"+g+"-cell.dhx_grid-custom-content-cell",y(y({class:e.trim(),dhx_id:i.id,_key:t,style:{width:i.$width,height:"footer"===g?v+w/2+"px":v+"px"}},C(i,g,f)),l(g,o,a)),[E(n,i,f,g,"",0,h),c||null]);var u,d="dhx_grid-header-cell-text_content";return f.autoHeight&&(d+=" dhx_grid-header-cell-text_content-auto-height"),b.el(".dhx_grid-"+g+"-cell",y(y({class:e.trim(),dhx_id:i.id,_key:t,style:{width:i.$width,height:"footer"===g?v+w/2+"px":v+"px"}},C(i,g,f)),l(g,o,a)),[b.el("div.dhx_grid-header-cell-text",{role:"presentation"},[b.el("span",y(y({class:d},(u=n.text,s?{role:"button","aria-label":"Sort by "+u}:{})),{".innerHTML":n.text})),c||null]),s&&b.el("div",{class:r,"aria-hidden":"true"})])}))})}function d(u,h){var f=u.columns,t=x.transpose(f.map(function(t){return t[h.name]||[]})),p=u[h.name+"RowHeight"]||40,g=h.name,_=u.$positions,v=0;return t.map(function(t,c){return v=0,b.el(".dhx_span-row",{style:{top:p*c+"px",height:p},class:"dhx_header-row","aria-hidden":"true"},t.map(function(t,e){var i=f[e];_.xStart;v+=i.hidden?0:i.$width;var n=0===e?"dhx_first-column-cell":"",o=e===f.length-1||(t.colspan||0)+(e-1)>=f.length-1?"dhx_last-column-cell":"",r=p;t.rowspan&&(r=r*t.rowspan-1);var a=x.isSortable(u,i)&&t.rowspan&&t.text&&"footer"!==h.name,s="dxi dxi-sort-variant dhx_grid-sort-icon";u.sortBy&&""+i.id===u.sortBy&&!t.content&&(s+=" dhx_grid-sort-icon--"+(u.sortDir||"asc"));var l=i.align?"dhx_align-"+i.align:"number"!==i.type&&"percent"!==i.type&&"date"!==i.type||t.colspan?"dhx_align-left":"dhx_align-right",d="dhx_grid-header-cell "+n+" "+o+" "+(t.rowspan?"dhx_span-cell__rowspan":"")+" "+(t.align?"dhx_align-"+t.align:l)+" "+(t.css||"");a&&(d+=" dhx_grid-header-cell--sortable"),t.content||(t.align?d+=" dhx_grid-header-cell--align_"+t.align+" ":d+=" dhx_grid-header-cell--"+("number"===i.type||"percent"===i.type||"date"===i.type?"align_right":"align_left")+" ");n=null;t.content&&((n=E(t,i,u,g,d,0,c)).attrs.style=y(y({},n.attrs.style),{width:"100%",borderRight:"0"}));o="";0<v-i.$width&&(o="1px solid #e4e4e4");l="dhx_grid-header-cell-text_content";return u.autoHeight&&(l+=" dhx_grid-header-cell-text_content-auto-height"),t.colspan||t.rowspan?b.el(".dhx_span-cell",y({style:{width:m.getWidth(f,t.colspan,e),height:"footer"===g?r+w/2:r,left:v-i.$width,borderLeft:o,top:p*c},class:d.trim(),dhx_id:i.id},C(i,g,u)),[n||t.rowspan?b.el("div.dhx_grid-header-cell-text",{role:"presentation"},[b.el("span",{class:l,".innerHTML":t.text})]):b.el("span",{class:l,".innerHTML":t.text}),a&&b.el("div",{class:s})]):null}).filter(function(t){return t}))})}e.getRows=l,e.getFixedSpans=d,e.getFixedRows=function(t,e){var i=l(t,e),n=d(t,e),o=null;"footer"!==e.name||e.sticky||(o=0<=t.leftSplit&&l(y(y({},t),{currentColumns:t.columns.slice(0,t.leftSplit),$positions:y(y({},t.$positions),{xStart:0,xEnd:t.leftSplit})}),e));var r,a=((a={position:"sticky"})[e.position]=0,a);return e.sticky||(a.left=-t.scroll.left,r=-t.scroll.left,a.position="relative"),b.el(".dhx_"+e.name+"-wrapper",{class:e.sticky?"":"dhx_compatible-"+e.name,style:y(y({},a),{left:e.sticky?r:0,height:"footer"===e.name?t[e.name+"Height"]+w/2:t[e.name+"Height"],width:e.sticky?t.$totalWidth:e.wrapper.width-w}),role:"presentation"},[b.el(".dhx_grid-"+e.name,{style:{height:"footer"===e.name?t[e.name+"Height"]+w/2:t[e.name+"Height"],left:r,paddingLeft:e.shifts.x,width:t.$totalWidth},role:"presentation"},[b.el(".dhx_"+e.name+"-rows",y({},{role:"rowgroup","aria-rowcount":s(i).length}),s(i)),b.el(".dhx_"+e.name+"-spans",{style:{marginLeft:-e.shifts.x},class:"dhx_"+e.name+"-rows",role:"presentation"},n),o&&b.el(".dhx_"+e.name+"-fixed-cols",{style:{position:"absolute",top:0,left:t.scroll.left+"px",height:"100%"}},o)]),b.el("div",{style:{width:t.$totalWidth},role:"presentation"})])}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=e(74),r=e(162),a=e(44),s=e(163),l=e(81),e=e(164);for(i in n.shapes={card:o.Card,"img-card":r.ImgCard,text:s.TextShape,topic:e.TopicShape},a.flowShapes)n.shapes[i]=a.FlowShape;n.shapesFactory=function(t,e){var i=n.shapes[t.type];return new(!i&&(i=n.shapes.card,e.shapes[t.type])?l.CustomShape:i)(t,e)}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r,c=i(0),a=i(18),u=i(10),s=i(8),l=i(7),o=(r=a.BaseShape,o(h,r),h.prototype.getMetaInfo=function(){return s.getMeta([{type:"grid",label:l.default.gridStep},{type:"color",label:l.default.color},{type:"position",label:l.default.position},{type:"size",label:l.default.size},{type:"text",label:l.default.text}])},h.prototype.render=function(){var i=this,t=this.config,e=t.id,n=t.angle,o=t.width,r=t.height,a=t.headerColor,s=t.$group,t=t.$selected,s=s||t?t?2:1:0,t=this.config.$selected?a:"#E4E4E4",a=this.getCoords(this.config),l=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(t,e){l.push(u.getCircleTpl(i.config,e))}):l.push(u.getCircleTpl(this.config)),c.el("div",{_key:e,dhx_id:e,class:"dhx_diagram_item dhx_diagram_shape "+this.getCss(),style:{transform:"rotate("+(n||0)+"deg)",position:"absolute",top:a.y,left:a.x,zIndex:s}},d([c.el("div",{class:"dhx_item_shape",id:e,style:{height:r,width:o,border:"1px solid "+t,borderRadius:"1px"}}),u.getHeaderTpl(this.config),u.getTextTemplate(this.config,this.getContent())],l))},h.prototype.setDefaults=function(t,e){var i=t.width,n=t.height,o=t.text,r=t.headerColor,a=t.fixed,s=e.width?parseFloat(e.width):140,l=e.height?parseFloat(e.height):90;return t.width=i||s,t.height=n||l,t.text="string"==typeof o?o:e.text||"",t.headerColor=r||e.headerColor||"",t.fixed=a||!1,t.editable="boolean"!=typeof t.editable||t.editable,t},h.prototype.getContent=function(){var t=this.config,e=t.$editable,t=t.text;return c.el("span.dhx_diagram_item__text",e?[this.getEditorNode()]:t)},h);function h(t,e){return r.call(this,t,e)||this}e.Card=o},function(t,e,i){"use strict";var n,o;Object.defineProperty(e,"__esModule",{value:!0}),(o=e.LineMode||(e.LineMode={}))[o.Direct=1]="Direct",o[o.Edges=2]="Edges",(o=n=e.Direction||(e.Direction={}))[o.Top=1]="Top",o[o.Bottom=2]="Bottom",o[o.Right=3]="Right",o[o.Left=4]="Left",e.DirVectors=((e={})[n.Bottom]={x:0,y:1},e[n.Top]={x:0,y:-1},e[n.Right]={x:1,y:0},e[n.Left]={x:-1,y:0},e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=["#FF9800","#607D8B","#00C7B5","#03A9F4","#9575CD","#F06292"];e.setHeaderColor=function(n){n.forEach(function(t){var e=t.$connection;e&&(i=n.getItem(e[0][1]).headerColor,t.$expandColor=i||o[(t.$level+1)%o.length]);var i=o[t.$level%o.length];t.partner&&(i=o[(t.$level-1)%o.length]),t.assistant&&(i=o[(t.$level+2)%o.length]),t.stroke=t.stroke||i,t.headerColor=t.headerColor||i})}},,,function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),c=i(31),u=750,h=200;function d(t,e,i,n){var o,r,a;switch(e){case c.Position.center:return(r=t.left+window.pageXOffset+(t.width-i)/2)+8<window.pageXOffset&&(r=t.left+window.pageXOffset),{left:r,top:a=t.top+window.pageYOffset+(t.height-n)/2,pos:o=c.RealPosition.center};case c.Position.right:return o=c.RealPosition.right,(r=t.right+window.pageXOffset)+i+8>window.innerWidth+window.pageXOffset&&(r=window.pageXOffset+t.left-i,o=c.RealPosition.left),{left:r,top:a=window.pageYOffset+t.top+(t.height-n)/2,pos:o};case c.Position.bottom:default:return(r=window.pageXOffset+t.left+(t.width-i)/2)+i>window.innerWidth+window.pageXOffset?r=window.innerWidth+window.pageXOffset-i:r<0&&(r=0),o=c.RealPosition.bottom,(a=window.pageYOffset+t.bottom)+n+8>window.innerHeight+window.pageYOffset&&(a=window.pageYOffset+t.top-n,o=c.RealPosition.top),{left:r,top:a,pos:o}}}e.findPosition=d;var f=document.createElement("div"),p=document.createElement("span");p.className="dhx_tooltip__text",f.appendChild(p),f.setAttribute("role","tooltip"),f.style.position="absolute";var g,_=null,v=!1,m=null,y=null;function b(t){return t&&t.classList.contains("dhx_popup--window")&&t.classList.contains("dhx_popup--window_active")?2147483647:null!=t&&t.classList.contains("dhx_popup--window")||null!=t&&t.classList.contains("dhx_popup--window_modal")?2147483646:t&&t.offsetParent?b(t.offsetParent):null}function x(t,e,i,n,o,r){void 0===o&&(o=!1);var a=t.getBoundingClientRect();r?p.innerHTML=e:p.textContent=e,document.body.appendChild(f),f.className="dhx_widget dhx_tooltip"+(o?" dhx_tooltip--forced":"");var e=f.getBoundingClientRect(),e=d(a,i,e.width,e.height),s=e.left,l=e.top,e=e.pos,t=b(t);switch(t&&(f.style.zIndex=t.toString()),e){case c.RealPosition.bottom:case c.RealPosition.top:case c.RealPosition.left:case c.RealPosition.right:case c.RealPosition.center:f.style.left=s+"px",f.style.top=l+"px"}f.className+=" dhx_tooltip--"+e+" "+(n||""),v=!0,o||setTimeout(function(){f.className+=" dhx_tooltip--animate"})}function r(e,t,i){var n=i.force,o=i.showDelay,r=i.hideDelay,a=i.position,s=i.css,l=i.htmlEnable;n||(y=setTimeout(function(){x(e,t,a||c.Position.bottom,s,!1,l)},o||u));var d=function(){var t;v&&(t=r,_&&(m=setTimeout(function(){document.body.removeChild(f),v=!1,m=null},t||h))),clearTimeout(y),e.removeEventListener("mouseleave",d),e.removeEventListener("blur",d),document.removeEventListener("mousedown",d),g=_=null};n&&x(e,t,a,s,n,l),e.addEventListener("mouseleave",d),e.addEventListener("blur",d),document.addEventListener("mousedown",d),g=d}function a(t,e){var i=o.toNode(e.node);i!==_&&(g&&(g(),g=null),_=i,m?(clearTimeout(m),m=null,r(i,t,n(n({},e),{force:!0}))):r(i,t,e))}function s(t){t=o.locateNode(t,"dhx_tooltip_text");t&&a(t.getAttribute("dhx_tooltip_text"),{position:t.getAttribute("dhx_tooltip_position")||c.Position.bottom,node:t})}e.getZIndex=b,e.tooltip=a,e.enableTooltip=function(){document.addEventListener("mousemove",s)},e.disableTooltip=function(){document.removeEventListener("mousemove",s)}},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(105)),n(e(159))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r,d=i(0),a=i(1),s=i(18),c=i(10),f=i(8),p=i(7),o=(r=s.BaseShape,o(u,r),u.prototype.getMetaInfo=function(){return this._getMetaInfoStructure(this.config)},u.prototype.render=function(){var i=this,t=this.config,e=t.id,n=t.angle,o=t.width,r=t.height,a=t.$group,t=t.$selected,a=a||t?t?2:1:0,t=this.getCoords(this.config),s=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(t,e){s.push(c.getCircleTpl(i.config,e))}):s.push(c.getCircleTpl(this.config)),d.el("div",{_key:e,class:"dhx_diagram_item dhx_diagram_shape dhx_diagram_flow_item "+this.getCss(),dhx_id:e,style:{transform:"rotate("+(n||0)+"deg)",zIndex:a,position:"absolute",height:r,width:o,top:t.y,left:t.x}},l([this._getCustomContent()],s))},u.prototype.setDefaults=function(e,i){Object.keys(i).forEach(function(t){e[t]=e[t]||i[t]});var t=i.width?parseFloat(i.width):140,n=i.height?parseFloat(i.height):90;return e.width=e.width||t,e.height=e.height||n,e.x=e.x||0,e.y=e.y||0,e.fixed=e.fixed||!1,e},u.prototype._getMetaInfoStructure=function(t){return a.isEmptyObj(this._properties)?this._getBaseMetaInfoStructure(t):f.getMeta(this._properties)},u.prototype._getBaseMetaInfoStructure=function(t){var e=t.text,i=t.title,n=t.img,o=t.fill,r=t.stroke,a=t.strokeWidth,s=t.textAlign,l=t.lineHeight,d=t.fontStyle,c=t.textVerticalAlign,u=t.fontSize,h=[],h=t.$expandColor?f.getMeta([{type:"grid",label:p.default.gridStep},{type:"position",label:p.default.position},{type:"size",label:p.default.size}]):f.getMeta([{type:"grid",label:p.default.gridStep},{type:"arrange",label:p.default.arrange}]);return o&&h.push(f.getMeta([{type:"fill",label:p.default.fill}])[0]),i&&h.push(f.getMeta([{type:"title",label:p.default.title}])[0]),e&&h.push(f.getMeta([{type:"text",label:p.default.text}])[0]),r&&a&&h.push(f.getMeta([{type:"strokeProps",label:p.default.stroke}])[0]),s&&l&&d&&c&&u&&h.push(f.getMeta([{type:"textProps",label:p.default.textProps}])[0]),n&&h.push(f.getMeta([{type:"img",label:p.default.image}])[0]),h},u.prototype._getCustomContent=function(){var t=this.config,e=t.type,i=t.width,t=t.height,e=this.shapes[e];if("function"==typeof e)return d.el("div",{style:{width:i,height:t}},this._getShapeFromFunction(e))},u.prototype._normalizeConfigText=function(t){var e=this;return Array.isArray(t)?t.forEach(function(t){return e._normalizeConfigText(t)}):"string"==typeof t&&(t.includes("&")&&(t=t.replace(/&/g,"&amp;")),t.includes("<")&&(t=t.replace(/</g,"&lt;")),t.includes(">")&&(t=t.replace(/>/g,"&gt;")),t.includes("'")&&(t=t.replace(/'/g,"&apos;")),t.includes('"')&&(t=t.replace(/"/g,"&quot;"))),t},u.prototype._getShapeFromFunction=function(t){var i=this,n={};Object.entries(this.config).forEach(function(t){var e=t[0],t=t[1];("id"!==e&&"type"!==e&&"preview"!==e&&!e.startsWith("$")&&"string"==typeof t||Array.isArray(t))&&(n[e]=i._normalizeConfigText(t))});t=(new DOMParser).parseFromString(t(Object.assign({},this.config,n)),"text/xml");return[d.jsonToVDOM(d.xmlToJson(t))]},u);function u(t,e){t=r.call(this,t,e)||this;return t.shapes=e.shapes,t._properties=e.properties,t}e.CustomShape=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,c=i(1),l=i(5),d=i(25),o=(s=l.DataCollection,o(u,s),u.prototype.getChildren=function(t,e){void 0===e&&(e=!0);var i=this._groupChildren[t]||this._children[t],n=[];if(i&&(n=a(n,i),e))for(var o=0;o<i.length;o++)n=a(n,this.getChildren(i[o].id));return n},u.prototype.eachChild=function(t,e,i){void 0===i&&(i=!0);var n=this._groupChildren[t]||this._children[t];if(n)for(var o=0;o<n.length;o++){var r=n[o];e.call(this,r),(this._groupChildren[r.id]||this._children[r.id])&&i&&this.eachChild(r.id,e)}},u.prototype.eachParent=function(t,e,i){void 0===i&&(i=!1);var n=this.getItem(t);n&&!this._roots.includes(t)&&(i&&e.call(this,n),i=this.getItem(n.parent||n.$group),e.call(this,i),this.eachParent(n.parent||n.$group,e))},u.prototype.getNearId=function(t){t=this._pull[t];if(!t)return this._order.length?this._order[0].id:"";for(var e=t,i=this.config.diagramConfig.type;("org"===i||"mindmap"===i)&&e.$parent;)if(!1===(e=this._pull[this._pull[e.$parent].from]).open)return e.id;return t.id},u.prototype.mapVisible=function(n){var o=this,r=[],t=this.config.diagramConfig.type;if("mindmap"===t||"org"===t)for(var e=this.getRoots(),i=0;i<e.length;i++)this._eachBranch(this.getItem(e[i]),n,r);else this.forEach(function(t){if(!t.hidden){if("line"===t.$item.getBaseType()){var e=o.getItem(t.from)||{},i=o.getItem(t.to)||{};if(e.hidden||i.hidden)return;o._setLineLevel(t,e,i)}r.push(n(t))}});return r},u.prototype.getRoots=function(){return this._roots},u.prototype.getRoot=function(t){if(t&&this.exists(t)){var e=this.getItem(t);return e.$group||e.parent?this.getRoot(e.$group||e.parent):t}},u.prototype.serialize=function(){return this._serialize(a(s.prototype.serialize.call(this)))||[]},u.prototype._serialize=function(t){var n=this;if(t.length)return t.map(function(t){if("object"!==c.isType(t))return t;var i=r({},t);return Object.entries(i).forEach(function(t){var e=t[0],t=t[1];e.startsWith("$")?delete i[e]:Array.isArray(t)?i[e]=n._serialize(t):"object"===c.isType(t)&&(i[e]=n._serialize([t])[0])}),i})},u.prototype._removeNested=function(t){var e=this.config.diagramConfig.type,i=t.$connection,t=t.$group;if(t&&this._setGroupChildren(this.getItem(t)),i)for(var n=0;n<i.length;n++)"mindmap"!==e&&"org"!==e||(this._removeNested(this.getItem(i[n][1])),this._removeCore(i[n][1])),this._removeCore(i[n][0])},u.prototype._eachBranch=function(t,e,i){if(!t.hidden&&(i.push(e(t)),!1!==t.open)){var n=t.$connection;if(n)for(var o=0;o<n.length;o++){var r=this.getItem(n[o][1]);r.hidden||(i.push(e(this.getItem(n[o][0]))),this._eachBranch(r,e,i))}}},u.prototype._parse_data=function(t){for(var i=this,e=[],n=!1,o=0;o<t.length;o++){var r=t[o];r.parent&&!n&&e.push({from:r.parent,to:r.id}),r.from&&(n=!0)}e.length&&!n&&(t=t.concat(e)),s.prototype._parse_data.call(this,t),this._mark_chains(),this.mapVisible(function(t){var e=null==t?void 0:t.$item.getBaseType();"group"!==e&&"swimlane"!==e||("swimlane"===e&&i._checkSwimlaneCells(t),i._setGroupChildren(t))})},u.prototype._mark_chains=function(){var o=this;this._roots=[],this._children={};var t,r={},a={},s={},l={},d={},i=this.config.diagramConfig.type;this.forEach(function(t){var e;"line"===t.$item.getBaseType()&&(a[(e=t).to]=e.id,r[e.from]||(r[e.from]=[]),r[e.from].push([t.id,e.to]),"default"===i&&(r[e.to]||(r[e.to]=[]),r[e.to].push([t.id,e.from])),s[e.to]=e.from),"org"===i&&(t.assistant&&(l[t.parent]||(l[t.parent]=[]),l[t.parent].push(t.id)),t.partner&&(d[t.parent]||(d[t.parent]=[]),d[t.parent].push(t.id)))}),this.forEach(function(t){var e=t.$item.getBaseType(),i=o.config.diagramConfig,n=i.type,i=i.lineGap;t.$typeConfig={type:n,lineGap:i},"shape"===e&&(t.$connection=r[t.id],"mindmap"!==n&&"org"!==n||(t.$parent=a[t.id],t.parent||(t.parent=s[t.id]),l[t.id]?t.$assistants=l[t.id]:delete t.$assistants,d[t.id]?t.$partners={common:d[t.id]}:delete t.$partners)),"shape"!==e&&"group"!==e&&"swimlane"!==e||("org"!==n&&"mindmap"!==n||t.parent)&&("default"!==n||t.$group)||o._roots.push(t.id),"mindmap"!==n&&"org"!==n||"shape"===e&&t.parent&&(Array.isArray(o._children[t.parent])?o._children[t.parent].push(t):o._children[t.parent]=[t])}),"mindmap"!==i&&"org"!==i||("mindmap"===i&&(t=this.getItem(this._roots[0]),!c.isEmptyObj(null==t?void 0:t.openDir)&&Object.values(null==t?void 0:t.openDir).every(function(t){return!t})&&(t.open=!1)),this._setBranchLevel(this.getItem(this._roots[0])))},u.prototype._setBranchLevel=function(t,e){if(void 0===e&&(e=0),t){var i=null==t?void 0:t.$connection;if(i)for(var n,o=0;o<i.length;o++)(n=this.getItem(i[o][1])).hidden||(t.$level=e,this._setBranchLevel(n,e+1));t.$level=e++}},u.prototype._setLineLevel=function(t,e,i){var n,o,r;e||i?(n=0,null!=e&&e.$group&&null!=e&&e.id&&(o=[],this.eachParent(e.id,function(t){return(null==t?void 0:t.id)&&o.push(t.id)}),o.length>n&&(n=o.length)),null!=i&&i.$group&&null!=i&&i.id&&(r=[],this.eachParent(i.id,function(t){return(null==t?void 0:t.id)&&r.push(t.id)}),r.length>n&&(n=r.length)),t.$level=n):t.$level=0},u.prototype._setGroupChildren=function(t){var e;if(t){this._groupChildren[t.id]=[],t.groupChildren||(t.groupChildren=[]),null!==(e=null==t?void 0:t.layout)&&void 0!==e&&e.length&&(e=new Set(t.layout.flat(1/0)),t.groupChildren=Array.from(e));var i=t.groupChildren;if(Array.isArray(i)&&i.length)for(var n=0;n<i.length;n++){var o=this._pull[i[n]];o&&(o.$group=t.id,this._groupChildren[t.id].push(o),"group"!==o.$item.getBaseType()||this._groupChildren[o.id]||this._setGroupChildren(o))}this._setGroupVisable(t)}},u.prototype._removeGroupChildren=function(t){var e=t.id;if(this._groupChildren[e].length)for(var i=0;i<this._groupChildren[e].length;i++)this.remove(this._groupChildren[e][i].id);delete this._groupChildren[e]},u.prototype._setGroupVisable=function(t){var i=this,e=t.id,n=t.open,t=t.header;null==t||!t.enable||null==t||!t.closable||n?this.eachChild(e,function(t){var e;null===(e=i._pull[t.$group])||void 0===e||!e.open||null!==(e=i._pull[t.$group])&&void 0!==e&&e.hidden||i.update(t.id,{hidden:!n},!0)}):this.eachChild(e,function(t){return i.update(t.id,{hidden:!n},!0)})},u.prototype._checkSwimlaneCells=function(t){for(var e=t.layout,i={},n=0;n<e.length;n++)for(var o=e[n],r=0;r<o.length;r++){var a=o[r];i[a]||this.exists(a)||(i[a]={type:"$sgroup",id:a})}this.add(Object.values(i))},u);function u(t,e){var o=s.call(this,t,e)||this;return o._groupChildren={},o._children={},o._roots=[],o.events.on(d.DataEvents.change,function(t,e,i){var n=null===(n=null==i?void 0:i.$item)||void 0===n?void 0:n.getBaseType();"remove"===e&&(o._removeNested(i),o._removeCore(i.$parent),"group"!==n&&"swimlane"!==n||o._removeGroupChildren(i)),"add"===e&&(i.parent&&o._addCore({from:i.parent,to:i.id},-1),"group"!==n&&"swimlane"!==n||("swimlane"===n&&o._checkSwimlaneCells(i),o._setGroupChildren(i))),"update"!==e||"group"!==n&&"swimlane"!==n||o._setGroupChildren(i),o._mark_chains()}),o}e.ShapesCollection=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),O=this&&this.__assign||function(){return(O=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r,P=i(0),V=i(1),H=i(7),a=i(40),w=i(10),s=i(8),o=(r=a.BaseGroup,o(l,r),l.prototype.getBaseType=function(){return"swimlane"},l.prototype.getMetaInfo=function(){var t,e=[{type:"grid",label:H.default.gridStep},{type:"arrangeGroup",label:H.default.arrange},{type:"fillGroup",label:H.default.fill},{type:"strokeGroup",label:H.default.stroke}];return this.config.header&&(t=[{type:"headerText",label:H.default.headerText},{type:"headerStyle",label:H.default.headerStyle},{type:"headerFill",label:H.default.headerFill},{type:"headerPosition",label:H.default.headerPosition}],this.config.header.enable&&(e=I(e,t)),e.push({type:"headerEnable",label:H.default.headerEnable})),this.config.subHeaderRows&&e.push({type:"subHeaderRowsEnable",label:H.default.subHeaderRowsEnable}),this.config.subHeaderCols&&e.push({type:"subHeaderColsEnable",label:H.default.subHeaderColsEnable}),s.getMeta(e)},l.prototype.isEditable=function(e){if(e){var t=this.getSubHeaderType(e),i=this.config["col"===t?"subHeaderCols":"subHeaderRows"],t=(null==i?void 0:i.headers).find(function(t){t=t.id;return e===t});return"boolean"==typeof(null==t?void 0:t.editable)?t.editable:null==i?void 0:i.editable}return null===(i=null===(i=this.config)||void 0===i?void 0:i.header)||void 0===i?void 0:i.editable},l.prototype.getChildHtmlNodes=function(t,e){return this.removeExtraDefaults(e),this.setExtraDefaults(t,e),r.prototype.getChildHtmlNodes.call(this,t,e)},l.prototype.render=function(t){var e=this.config,i=e.id,n=e.header,o=e.open,r=e.$width,a=e.$height,s=e.subHeaderCols,l=e.subHeaderRows,t=t||this.data.getChildren(this.id,!1),e=this.getChildHtmlNodes(this.config,t),t=null==n||!n.enable||null==n||!n.closable||o;if(e.length||!t){this.setServiceProp(this.config);o=null==n?void 0:n.enable,s=t&&(null==s?void 0:s.enable),t=t&&(null==l?void 0:l.enable),l="dhx_diagram_item dhx_diagram_group ";return null!=n&&n.enable&&(l+="dhx_diagram_group--position_"+n.position),P.el("div.dhx_diagram_swimlane",{_key:i},[P.el("div",{dhx_id:i,class:l+" "+this.getCss(),style:w.getSwimlaneContainerStyle(this.config,this.getCoords(this.config))},[P.el("div.dhx_diagram_group__children",I([P.sv("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:r,height:a},this.getChildSvgNodes(this.config,this.data))],e)),o&&this.getGroupHeader(this.config,this.getEditorNode()),s&&this.getSubHeaderNode(this.config,"cols"),t&&this.getSubHeaderNode(this.config,"rows")]),P.el("div.dhx_diagram_group--background",{style:w.getSwimlaneBackGround(this.config,this.getCoords(this.config))})])}},l.prototype.setDefaults=function(t){this.setServiceProp(t),r.prototype.setDefaults.call(this,t);var e={fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"500",fontColor:"#4C4C4C",iconColor:"#808080",editable:!0,fill:"#F7F7F7"};return t.subHeaderRows&&(t.subHeaderRows=O(O({height:40,enable:!0,position:"left"},e),t.subHeaderRows),Array.isArray(t.subHeaderRows.headers)||(t.subHeaderRows.headers=[])),t.subHeaderCols&&(t.subHeaderCols=O(O({height:40,enable:!0,position:"top"},e),t.subHeaderCols),Array.isArray(t.subHeaderCols.headers)||(t.subHeaderCols.headers=[])),t},l.prototype.setExtraDefaults=function(t,e){var i,n=t.layout,o=t.height,r=t.width,a=t.header,s=t.x,l=t.y,d=t.subHeaderCols,c=t.subHeaderRows,u=t.style,h=u.stroke,f=u.strokeWidth,p={},g=0,_=0,v=this.getHeaderStates(t),m=v.isHeaderBottom,y=v.isHeaderLeft,b=v.isHeaderRight,x=v.isHeaderTop,w=v.isSubHeaderBottom,C=v.isSubHeaderLeft,u=v.isSubHeaderRight,E=v.isSubHeaderTop,k=parseFloat(null==a?void 0:a.height)||0,S=parseFloat(null==c?void 0:c.height)||0,M=parseFloat(null==d?void 0:d.height)||0;if(o&&(D=0,(x||m)&&(D+=k),(E||w)&&(D+=M),g=(o-D)/n.length),r){var D=0;(b||y)&&(D+=k),(u||C)&&(D+=S);for(var O=0,I=0;I<n.length;I++){var P=n[I].length;O<P&&(O=P)}_=(r-D)/O}this.subHeaderNearCells={rows:[],cols:[]},this.children={};for(var H=0;H<e.length;H++)this.children[e[H].id]=e[H];for(H=0;H<n.length;H++)for(var T=n[H],A=0;A<T.length;A++){var $,L,R=T[A],j=p[R],N=0!==A&&p[T[A-1]],F=0!==H&&p[n[H-1][A]];!j&&this.children[R]?(p[R]=this.children[R],p[R].height=g,p[R].width=_,p[R].$rowCount=1,p[R].$colCount=1,0===A?(D=0,y&&(D+=k),C&&(D+=S),p[R].x=s+D,this.subHeaderNearCells.rows.push(p[R])):p[R].x=N.x+N.width,0===H?(D=0,x&&(D+=k),E&&(D+=M),p[R].y=l+D,this.subHeaderNearCells.cols.push(p[R])):p[R].y=F.y+F.height,$=this.subHeaderNearCells.rows.length-1,null!==(i=null==t?void 0:t.subHeaderRows)&&void 0!==i&&i.enable&&(null!==(L=t.subHeaderRows)&&void 0!==L&&L.headers[$]||(t.subHeaderRows.headers[$]={text:"Untitled",id:V.uid()}),null!==(L=null===(L=t.subHeaderRows)||void 0===L?void 0:L.headers[$])&&void 0!==L&&L.id||(t.subHeaderRows.headers[$].id=V.uid())),L=this.subHeaderNearCells.cols.length-1,null!==($=null==t?void 0:t.subHeaderCols)&&void 0!==$&&$.enable&&(null!==($=t.subHeaderCols)&&void 0!==$&&$.headers[L]||(t.subHeaderCols.headers[L]={text:"Untitled",id:V.uid()}),null!==($=null===($=t.subHeaderCols)||void 0===$?void 0:$.headers[L])&&void 0!==$&&$.id||(t.subHeaderCols.headers[L].id=V.uid())),p[R].style.stroke=h,p[R].style.strokeWidth=f):j&&(N===j&&F!==j&&(p[R].width+=_,p[R].$colCount++),F===j&&N!==j&&(p[R].height+=g,p[R].$rowCount++)),N&&N!==j&&(p[R].$borderPosition.left=!0),F&&F!==j&&(p[R].$borderPosition.top=!0)}p=null},l.prototype.removeExtraDefaults=function(t){for(var e=0;e<t.length;e++)t[e].$borderPosition={left:!1,top:!1}},l.prototype.getSubHeaderNode=function(t,e){var i=t.header,n=t.subHeaderCols,o=t.subHeaderRows,r=t.height,a=t.width,s=t.id,l=this.getHeaderStates(t),d=l.isHeaderBottom,c=l.isHeaderLeft,u=l.isHeaderRight,h=l.isHeaderTop,f=l.isSubHeaderBottom,p=l.isSubHeaderLeft,g=l.isSubHeaderRight,_=l.isSubHeaderTop,v=parseFloat(null==i?void 0:i.height)||0,m=parseFloat(null==o?void 0:o.height)||0,y=parseFloat(null==n?void 0:n.height)||0,b=0,t=0,l=0,i=0;"cols"===e&&(t=y,b=a,_&&h&&(i=v),f&&(i=d?r-v-y:r-y),c&&(b=a-(l=v)),u&&(b=a-v)),"rows"===e&&(t=r,b=m,p&&c&&(l=v),g&&(l=u?a-m-v:a-m),h&&(t=r-(i=v)),d&&(t=r-v),_&&(i+=y,t-=y),f&&(t-=y));for(var l={height:t,width:b,top:i,left:l},x=this.subHeaderNearCells[e].length,w=("cols"===e?n:o).headers,C=[],E=0;E<x;E++){var k,S=w[E],M="rows"===e?null===(D=this.subHeaderNearCells.rows[E])||void 0===D?void 0:D.height:"100%",D="100%";S.$subMenu={enable:!0,data:[]},S.$subMenu.enable&&(k=s+"/"+S.id+"/","cols"===e&&(S.$subMenu.data=[{id:k+"add_column_left",value:H.default.menuAddColumnLeft,icon:"dxi dxi-table-column-plus-before",add:"left"},{id:k+"add_column_right",value:H.default.menuAddColumnRight,icon:"dxi dxi-table-column-plus-after",add:"right"},{id:k+"move_column_left",value:H.default.menuMoveColumnLeft,icon:"dxi dxi-arrow-left",disabled:0===E,move:"left"},{id:k+"move_column_right",value:H.default.menuMoveColumnRight,icon:"dxi dxi-arrow-right",disabled:E===x-1,move:"right"},{type:"separator"},{id:k+"remove",value:H.default.menuDeleteCol,icon:"dxi dxi-delete-forever",disabled:1===x,remove:"col"}]),"rows"===e&&(S.$subMenu.data=[{id:k+"add_row_up",value:H.default.menuAddRowUp,icon:"dxi dxi-table-row-plus-before",add:"up"},{id:k+"add_row_down",value:H.default.menuAddRowDown,icon:"dxi dxi-table-row-plus-after",add:"down"},{id:k+"move_row_up",value:H.default.menuMoveRowUp,icon:"dxi dxi-arrow-up",disabled:0===E,move:"up"},{id:k+"move_row_down",value:H.default.menuMoveRowDown,icon:"dxi dxi-arrow-down",disabled:E===x-1,move:"down"},{type:"separator"},{id:k+"remove",value:H.default.menuDeleteRow,icon:"dxi dxi-delete-forever",disabled:1===x,remove:"row"}])),"cols"===e&&(D=null===(k=this.subHeaderNearCells.cols[E])||void 0===k?void 0:k.width,(p&&0===E||g&&E===x-1)&&(D+=m)),C.push(this.getSubHeaderCellNode(O(O({},S),{type:e,index:E,width:D,height:M}),this.config,this.getEditorNode()))}return P.el("div.dhx_diagram_swimlane__subheader.dhx_diagram_swimlane__subheader--position_"+e,{style:l},I(C))},l.prototype.getSubHeaderCellNode=function(t,e,i){var n=this.getHeaderStates(e),o=n.isSubHeaderLeft,r=n.isSubHeaderTop,a=e.style,s=a.strokeWidth,l=a.stroke,d=t.width,c=t.height,u=t.id,h=t.text,f=t.type,p=t.index,g="cols"===f?e.subHeaderCols:e.subHeaderRows,_=g.lineHeight,v=g.textAlign,m=g.textVerticalAlign,y=g.fontSize,b=g.fontColor,x=g.fontStyle,n=g.fontWeight,a=g.fill,g=g.iconColor,b={lineHeight:t.lineHeight||_,textAlign:t.textAlign||v,textVerticalAlign:t.textVerticalAlign||m,fontSize:t.fontSize||y,fontColor:t.fontColor||b,fontStyle:t.fontStyle||x,fontWeight:t.fontWeight||n},x={width:d,height:c};return"cols"===f&&(n=0!==p?", "+s+"px 0px 0px "+l+" inset":"",x.boxShadow="0px "+(r?"-":"")+s+"px 0px "+l+" inset "+n),"rows"===f&&(p=0!==p?", 0px "+s+"px 0px "+l+" inset":"",x.boxShadow=(o?"-":"")+s+"px 0px 0px "+l+" inset "+p),P.el("div.dhx_diagram_swimlane__subheader_container",{_key:u,subheader_id:u,style:x},[P.el("div.dhx_diagram_swimlane__subheader_text",{style:O({},w.getTextStyle(O(O({},b),{container:{width:d,height:c}})))},e.$editable&&this.editableProperty.editableId===u?[i]:h),t.$subMenu.enable&&w.getMenuIcon({dir:f,color:t.iconColor||g}),P.el("div",{style:{position:"absolute",width:d,height:c,background:t.fill||a,zIndex:-1}})])},l.prototype.getHeaderStates=function(t){var e=t.header,i=t.subHeaderRows,t=t.subHeaderCols;return{isHeaderTop:(null==e?void 0:e.enable)&&"top"===(null==e?void 0:e.position),isHeaderBottom:(null==e?void 0:e.enable)&&"bottom"===(null==e?void 0:e.position),isHeaderRight:(null==e?void 0:e.enable)&&"right"===(null==e?void 0:e.position),isHeaderLeft:(null==e?void 0:e.enable)&&"left"===(null==e?void 0:e.position),isSubHeaderTop:(null==t?void 0:t.enable)&&"top"===(null==t?void 0:t.position),isSubHeaderBottom:(null==t?void 0:t.enable)&&"bottom"===(null==t?void 0:t.position),isSubHeaderRight:(null==i?void 0:i.enable)&&"right"===(null==i?void 0:i.position),isSubHeaderLeft:(null==i?void 0:i.enable)&&"left"===(null==i?void 0:i.position)}},l.prototype.getSubHeaderType=function(e){var t,i=this.config,n=i.subHeaderCols,o=i.subHeaderRows,i=(null==o?void 0:o.enable)&&(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r.length),r=(null==n?void 0:n.enable)&&(null==n?void 0:n.headers.length);return i&&-1!==o.headers.findIndex(function(t){t=t.id;return e===t})&&(t="row"),r&&-1!==n.headers.findIndex(function(t){t=t.id;return e===t})&&(t="col"),t},l);function l(t,e){e=r.call(this,t,e)||this;return e.subHeaderNearCells={rows:[],cols:[]},e.children={},e}e.Swimlane=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r,l=i(0),a=i(7),d=i(8),c=i(10),i=i(40),o=(r=i.BaseGroup,o(u,r),u.prototype.setDefaults=function(t){return t.width=t.width||300,t.height=t.height||200,this.setServiceProp(t),r.prototype.setDefaults.call(this,t),t},u.prototype.getMetaInfo=function(){var t,e=[{type:"grid",label:a.default.gridStep},{type:"arrangeGroup",label:a.default.arrange},{type:"fillGroup",label:a.default.fill},{type:"strokeGroup",label:a.default.stroke}];return this.config.header&&(t=[{type:"headerText",label:a.default.headerText},{type:"headerStyle",label:a.default.headerStyle},{type:"headerFill",label:a.default.headerFill},{type:"headerPosition",label:a.default.headerPosition}],this.config.header.enable&&(e=s(e,t)),e.push({type:"headerEnable",label:a.default.headerEnable})),d.getMeta(e)},u.prototype.render=function(){this.setServiceProp(this.config);var t=this.config,e=t.id,i=t.header,n=t.$width,o=t.$height,r="dhx_diagram_item dhx_diagram_group ";null!=i&&i.enable&&(r+="dhx_diagram_group--position_"+i.position);var a=this.getChildHtmlNodes(this.config,this.data),t=this.getChildSvgNodes(this.config,this.data);return l.el("div",{_key:e,dhx_id:e,class:r+" "+this.getCss(),style:c.getGroupContainerStyle(this.config,this.getCoords(this.config))},[l.el("div.dhx_diagram_group__children",s([l.sv("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:n,height:o},t)],a)),(null==i?void 0:i.enable)&&this.getGroupHeader(this.config,this.getEditorNode())])},u);function u(t,e){return r.call(this,t,e)||this}e.Group=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,l=i(0),i=i(40),o=(s=i.BaseGroup,o(d,s),d.prototype.setServiceProp=function(t){var e=t.height,i=t.width,n=t.$borderPosition;t.$captureArea=t.$captureArea||"out",t.$borderPosition=r({left:!1,top:!1},n),t.entryArea.catchArea=25,t.$width=i,t.$height=e},d.prototype.setDefaults=function(t){return s.prototype.setDefaults.call(this,t),delete t.header,t},d.prototype.render=function(){this.setServiceProp(this.config);var t=this.config,e=t.id,i=t.header,n=t.$width,o=t.$height,r="dhx_diagram_item dhx_diagram_group ";null!=i&&i.enable&&(r+="dhx_diagram_group--position_"+i.position+" ");t=this.getChildHtmlNodes(this.config,this.data),i=this.getChildSvgNodes(this.config,this.data);return l.el("div.dhx_diagram_group_swimlane",{_key:e},[l.el("div",{dhx_id:e,class:r+" "+this.getCss(),style:function(t,e){var i,n=t.$width,o=t.$height,r=t.$captureArea,a=t.$borderPosition,s=(c=t.style).overFill,l=c.partiallyFill,d=c.fill,t=c.strokeWidth,c=c.stroke;switch(r){case"over":i=s;break;case"partially":i=l;break;default:i=d}return c=(null!=a&&a.left?t:0)+"px "+(null!=a&&a.top?t:0)+"px 0px "+c+" inset",{position:"absolute",background:i,width:n,height:o,top:e.y,left:e.x,boxShadow:c}}(this.config,this.getCoords(this.config))},[l.el("div.dhx_diagram_group__children",a([l.sv("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:n,height:o},i)],t))])])},d);function d(t,e){e=s.call(this,t,e)||this;return e.setServiceProp(t),e}e.GroupSwimlane=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r,l=i(0),a=i(2),d=i(1),c=i(18),u=i(10),h=i(8),f=i(7),g=i(41),o=(r=c.BaseShape,o(p,r),p.prototype.getMetaInfo=function(){var t=h.getMeta([{type:"fill",label:f.default.fill},{type:"text",label:f.default.text}]);return t.push({id:"textProps",type:"textProps",label:f.default.textProps,verticalAlignments:!1}),t},p.prototype.render=function(){var t=this.parent.$level+(this.parent.$group||this.parent.$selected?this.parent.$selected?3:2:1),e=this.getSize(this.config.text),i=e.width,n=e.height;this.config.width=20<i?i+4:20,this.config.height=16<n?n+2:16;var o=this.parent.title,r=o.textAlign,a=o.fontSize,e=o.lineHeight,i=o.fontStyle,n=o.fontColor,o=o.fontWeight,i=s({textAlign:r||"center",fontSize:a||"14px",lineHeight:e||"14px",fontStyle:i||"normal",fontColor:n||"rgba(0,0,0,0.70)",fontWeight:o||"normal"},this.config),n=this.getTitlePosition(this.parent,this.config),o=n.x,n=n.y;return this.config.$x=o,this.config.$y=n,l.el("div",{_key:this.config.id,class:"dhx_diagram_line_title "+this.getCss(),dhx_id:this.config.id,parent_id:this.parent.id,style:s({zIndex:t,position:"absolute",top:n,left:o,transform:"rotate("+this.config.$angle+"deg)"},u.getShapeCss(i))},[this.getContent()])},p.prototype.setDefaults=function(t){var e=null===(i=null===(o=this.parent)||void 0===o?void 0:o.title)||void 0===i?void 0:i.editable,i=null===(o=null===(n=this.parent)||void 0===n?void 0:n.title)||void 0===o?void 0:o.hidden,n=null===(o=null===(n=this.parent)||void 0===n?void 0:n.title)||void 0===o?void 0:o.draggable,o=null===(o=null===(o=this.parent)||void 0===o?void 0:o.title)||void 0===o?void 0:o.autoPosition;return s(s({},t),{width:(t.width,40),height:(t.height,18),editable:"boolean"==typeof t.editable?t.editable:e,hidden:"boolean"==typeof t.hidden?t.hidden:i,draggable:"boolean"==typeof t.draggable?t.draggable:n,autoPosition:"boolean"==typeof t.autoPosition?t.autoPosition:o,distance:t.distance||50,$angle:t.$angle||0})},p.prototype.getContent=function(){var t=this.config,e=t.$editable,t=t.text;return l.el("span.dhx_diagram_line_title__text",{style:{backgroundColor:this.config.fill||this.parent.title.fill}},e?[this.getEditorNode()]:t)},p.prototype.getSize=function(t){var e=this.parent.title,i=e.fontSize,n=e.lineHeight,o=e.fontWeight,r=e.fontStyle,e=e.fontColor,e={fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",fontSize:(this.config.fontSize||i)+"px",lineHeight:(this.config.lineHeight||n)+"px",fontWeight:this.config.fontWeight||o,fontStyle:this.config.fontStyle||r,fontColor:this.config.fontColor||e};return a.getStrSize(t,e)},p.prototype.getCenterCoords=function(t,e){var i=t.width,t=t.height;return{x:e.x-i/2,y:e.y-t/2}},p.prototype.getStraightCoords=function(t,e,i){void 0===i&&(i=.5);var n=t.x,t=t.y;return{x:n*(1-i)+e.x*i,y:t*(1-i)+e.y*i}},p.prototype.getTitlePosition=function(t,e){var i=g.getDistanceFactor(e.distance);if("straight"===t.connectType||2===t.points.length){var n=t.points[0],o=t.points[t.points.length-1];return this.config.$angle=e.autoPosition?g.getLineAngle(n,o):0,this.getCenterCoords(e,this.getStraightCoords(n,o,i))}for(var r=t.points,a=[],s=0,l=0;l<r.length-1;l++){var d=r[l],c=r[l+1],c=g.getLineLength(d,c);s+=c,a.push(c)}for(var u=s/100*parseFloat(e.distance),h={x:0,y:0},f={x:0,y:0},p=0,l=0;l<r.length-1;l++)if(u<=(p+=a[l])){h=r[l],f=r[l+1],i=1-g.getDistanceFactor((p-u)/a[l]*100);break}return this.config.$angle=e.autoPosition?g.getLineAngle(h,f):0,this.getCenterCoords(e,this.getStraightCoords(h,f,i))},p.prototype.getBox=function(){var t=this.config,e=t.$x,i=void 0===e?0:e,e=t.$y,e=void 0===e?0:e;return{left:i,right:i+t.width,top:e,bottom:e+t.height}},p);function p(t,e){var i=r.call(this,t,e)||this;return i.id=i.config.id=t.id||d.uid(),i.parent=e.parent,i.config=i.setDefaults(t),i}e.LineText=o},,function(t,e){Object.values=Object.values||function(e){var t=Object.prototype.toString.call(e);if(null==e)throw new TypeError("Cannot convert undefined or null to object");if(~["[object String]","[object Object]","[object Array]","[object Function]"].indexOf(t)){if(Object.keys)return Object.keys(e).map(function(t){return e[t]});var i,n=[];for(i in e)e.hasOwnProperty(i)&&n.push(e[i]);return n}return[]},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){"use strict";for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),o=0;o<e.length;o++){var r=e[o];if(null!=r)for(var a=Object.keys(Object(r)),s=0,l=a.length;s<l;s++){var d=a[s],c=Object.getOwnPropertyDescriptor(r,d);void 0!==c&&c.enumerable&&(n[d]=r[d])}}return n}})},function(t,e){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0==n)return!1;var o,r,e=0|e,a=Math.max(0<=e?e:n-Math.abs(e),0);for(;a<n;){if((o=i[a])===(r=t)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;a++}return!1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<i;){var r=e[o];if(t.call(n,r,o,e))return r;o++}},configurable:!0,writable:!0}),Array.prototype.findIndex||(Array.prototype.findIndex=function(t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,o=arguments[1],r=0;r<n;r++)if(e=i[r],t.call(o,e,r,i))return r;return-1})},function(t,e){String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){return e=e||0,this.indexOf(t,e)===e}}),String.prototype.padStart||(String.prototype.padStart=function(t,e){return t>>=0,e=String(e||" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),e.slice(0,t)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(e||" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))})},function(t,e){var i,n,o,r;Element&&!Element.prototype.matches&&((i=Element.prototype).matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector),"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var i=this;return{contains:function(t){return-1!==i.className.baseVal.split(" ").indexOf(t)},add:function(t){return i.setAttribute("class",i.getAttribute("class")+" "+t)},remove:function(t){var e=i.getAttribute("class").replace(new RegExp("(\\s|^)".concat(t,"(\\s|$)"),"g"),"$2");i.classList.contains(t)&&i.setAttribute("class",e)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)}}},configurable:!0}),Object.entries||(n=Function.bind.call(Function.call,Array.prototype.reduce),o=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),r=Function.bind.call(Function.call,Array.prototype.concat),Object.entries=function(i){return n(Object.keys(i),function(t,e){return r(t,"string"==typeof e&&o(i,e)?[[e,i[e]]]:[])},[])}),Event.prototype.composedPath||(Event.prototype.composedPath=function(){if(this.path)return this.path;var t=this.target;for(this.path=[];null!==t.parentNode;)this.path.push(t),t=t.parentNode;return this.path.push(document,window),this.path})},function(t,e){Math.sign=Math.sign||function(t){return 0===(t=+t)||isNaN(t)?t:0<t?1:-1}},function(t,e,i){"use strict";i.r(e);var n,o=i(15),e=i(48),r=["dhx_638523928_message","undefined","Please contact us at <a style='color: white;' href='mailto:contact@dhtmlx.com?subject=DHTMLX Licensing - Trial End' target='_blank'>contact@dhtmlx.com</a> or visit "," target='_blank'>dhtmlx.com</a> in order to obtain a proper license.","Your evaluation period for DHTMLX has expired.","now","BUILD_TIMESTAMP","join","<a style='color: white;' href='https://dhtmlx.com/docs/products/licenses.shtml?expand=1&utm_source=trial&utm_medium=popup&utm_campaign=second_month#suite'"];n=r,function(t){for(;--t;)n.push(n.shift())}(150);function a(t,e){return r[t-=374]}setTimeout(function(){var t,e,i=a,n=[i(382),i(380),i(377)+i(381)][i(376)]("<br>");typeof i(375)!==i(379)&&setInterval(function(){var t,e=i;t=i,2592e6<Date[t(374)]()-t(375)&&Object(o.message)({text:n,icon:"dxi-close",css:e(378)})},(t=6e4,e=12e4,Math.floor(Math.random()*(e-t+1))+t))},1)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=i(2),s=i(31),l=new WeakMap,d=new Map;function c(t,e){var i=document.createElement("div");return i.setAttribute("data-position",e),i.className="dhx_message-container dhx_message-container--"+e+(t===document.body?" dhx_message-container--in-body":""),i}function u(t,e){e&&clearTimeout(l.get(t));var i=t.parentNode,n=i.getAttribute("data-position"),o=i.parentNode,e=d.get(o);e&&(!(e=e[n])||-1!==(e=(n=e.stack).indexOf(t))&&(i.removeChild(t),n.splice(e,1),0===n.length&&o.removeChild(i)))}e.message=function(t){"string"==typeof t&&(t={text:t}),t.position=t.position||s.MessageContainerPosition.topRight;var e=document.createElement("div");e.className="dhx_widget dhx_message "+(t.css||""),e.setAttribute("role","alert"),(o=t.text&&r.uid())&&e.setAttribute("aria-describedby",o),t.html?e.innerHTML=t.html:e.innerHTML='<span class="dhx_message__text" id='+o+">"+t.text+"</span>\n\t\t"+(t.icon?'<span class="dhx_message__icon dxi '+t.icon+'"></span>':"");var i=t.node?a.toNode(t.node):document.body;"static"===getComputedStyle(i).position&&(i.style.position="relative"),(o=d.get(i))?o[t.position]||(o[t.position]={stack:[],container:c(i,t.position)}):d.set(i,((n={})[t.position]={stack:[],container:c(i,t.position)},n));var n=(o=d.get(i)[t.position]).stack,o=o.container;0===n.length&&i.appendChild(o),n.push(e),o.appendChild(e),t.expire&&(t=setTimeout(function(){return u(e)},t.expire),l.set(e,t)),e.onclick=function(){return u(e,!0)}}},function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0});var e=o(46),i=o(47),d=o(1);n.alert=function(a){var s=a.buttons&&a.buttons[0]?a.buttons[0]:e.default.apply,l=i.blockScreen(a.blockerCss);return new t(function(e){var t="dhx_alert__"+d.uid()+"_content",i="dhx_alert__"+d.uid()+"_header",n=document.createElement("div");n.setAttribute("role","alert"),n.setAttribute("aria-modal","true"),a.text&&n.setAttribute("aria-describedby",t),a.header&&n.setAttribute("aria-labelledby",i),n.className="dhx_widget dhx_alert "+(a.css||"");var o=function(t){"Escape"!==t.key&&"Esc"!==t.key||(r(t),e(!1))};function r(t){t.preventDefault(),l(),document.body.removeChild(n),document.removeEventListener("keydown",o)}n.innerHTML="\n\t\t\t"+(a.header?"<div id="+i+' class="dhx_alert__header"> '+a.header+" </div>":"")+"\n\t\t\t"+(a.text?"<div id="+t+' class="dhx_alert__content">'+a.text+"</div>":"")+'\n\t\t\t<div class="dhx_alert__footer '+(a.buttonsAlignment?"dhx_alert__footer--"+a.buttonsAlignment:"")+'">\n\t\t\t\t<button type="button" aria-label="confirm" class="dhx_alert__apply-button dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">'+s+"</button>\n\t\t\t</div>",document.body.appendChild(n),n.querySelector(".dhx_alert__apply-button").focus(),n.querySelector("button").addEventListener("click",function(t){r(t),e(!0)}),document.addEventListener("keydown",o)})}}).call(this,o(14))},function(t,o,r){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}o.setTimeout=function(){return new n(i.call(setTimeout,e,arguments),clearTimeout)},o.setInterval=function(){return new n(i.call(setInterval,e,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(e,this._id)},o.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},o.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},o._unrefActive=o.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(97),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(32))},function(t,e,i){(function(t,p){!function(i,n){"use strict";var o,r,a,s,l,d,e,c,t;function u(t){delete r[t]}function h(t){if(a)setTimeout(h,0,t);else{var e=r[t];if(e){a=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{u(t),a=!1}}}}function f(t){t.source===i&&"string"==typeof t.data&&0===t.data.indexOf(c)&&h(+t.data.slice(c.length))}i.setImmediate||(o=1,a=!(r={}),s=i.document,t=(t=Object.getPrototypeOf&&Object.getPrototypeOf(i))&&t.setTimeout?t:i,l="[object process]"==={}.toString.call(i.process)?function(t){p.nextTick(function(){h(t)})}:function(){if(i.postMessage&&!i.importScripts){var t=!0,e=i.onmessage;return i.onmessage=function(){t=!1},i.postMessage("","*"),i.onmessage=e,t}}()?(c="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",f,!1):i.attachEvent("onmessage",f),function(t){i.postMessage(c+t,"*")}):i.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){h(t.data)},function(t){e.port2.postMessage(t)}):s&&"onreadystatechange"in s.createElement("script")?(d=s.documentElement,function(t){var e=s.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,d.removeChild(e),e=null},d.appendChild(e)}):function(t){setTimeout(h,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];return t={callback:t,args:e},r[o]=t,l(o),o++},t.clearImmediate=u)}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(32),i(98))},function(t,e){var i,n,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(t){n=r}}();var s,l=[],d=!1,c=-1;function u(){d&&s&&(d=!1,s.length?l=s.concat(l):c=-1,l.length&&h())}function h(){if(!d){var t=a(u);d=!0;for(var e=l.length;e;){for(s=l,l=[];++c<e;)s&&s[c].run();c=-1,e=l.length}s=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new f(t,e)),1!==l.length||d||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0});var e=o(46),i=o(47),h=o(1);n.confirm=function(l){l.buttonsAlignment=l.buttonsAlignment||"right";var d=l.buttons&&l.buttons[1]?l.buttons[1]:e.default.apply,c=l.buttons&&l.buttons[0]?l.buttons[0]:e.default.reject,u=i.blockScreen(l.blockerCss);return new t(function(e){var i=document.createElement("div");i.setAttribute("role","alertdialog"),i.setAttribute("aria-modal","true");var n,t=l.header&&h.uid(),o=l.header&&h.uid();o&&i.setAttribute("aria-describedby",o),t&&i.setAttribute("aria-labelledby",t);function r(t){u(),i.removeEventListener("click",a),document.removeEventListener("keydown",s),document.body.removeChild(i),e(t)}var a=function(t){"BUTTON"===t.target.tagName&&r(t.target.classList.contains("dhx_alert__confirm-aply"))},s=function(t){"Escape"===t.key||"Esc"===t.key?(i.querySelector(".dhx_alert__confirm-aply").focus(),r(t.target.classList.contains("dhx_alert__confirm-reject"))):"Tab"===t.key&&("aply"===n?(n="reject",i.querySelector(".dhx_alert__confirm-reject").focus()):(n="aply",i.querySelector(".dhx_alert__confirm-aply").focus()),t.preventDefault())};i.className="dhx_widget dhx_alert dhx_alert--confirm"+(l.css?" "+l.css:""),i.innerHTML="\n\t\t"+(l.header?'<div class="dhx_alert__header" id='+t+"> "+l.header+" </div>":"")+"\n\t\t"+(l.text?'<div class="dhx_alert__content" id='+o+">"+l.text+"</div>":"")+'\n\t\t\t<div class="dhx_alert__footer '+(l.buttonsAlignment?"dhx_alert__footer--"+l.buttonsAlignment:"")+'">\n\t\t\t\t<button type="button" aria-label="reject" class="dhx_alert__confirm-reject dhx_button dhx_button--view_link dhx_button--color_primary dhx_button--size_medium">'+c+'</button>\n\t\t\t\t<button type="button"  aria-label="aply"class="dhx_alert__confirm-aply dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">'+d+"</button>\n\t\t\t</div>",document.body.appendChild(i),n="aply",i.querySelector(".dhx_alert__confirm-aply").focus(),i.addEventListener("click",a),document.addEventListener("keydown",s)})}}).call(this,o(14))},function(t,e,i){"use strict";i.r(e);var n,a=i(15),e=i(48),o=["contact@dhtmlx.com</a> or visit <a style='color: #0288d1;text-decoration: unset;' href='https://dhtmlx.com/docs/products/licenses.shtml?expand=1&utm_source=trial&utm_medium=","BUILD_TIMESTAMP","https://dhtmlx.com/docs/products/licenses.shtml?expand=1&utm_source=trial&utm_medium=popup&utm_campaign=second_month#suite","random","popup&utm_campaign=second_month#suite' target='_blank'>dhtmlx.com</a> in order to obtain a proper license.","<svg class='dhx_alert__header--icon' xmlns='http://www.w3.org/2000/sv' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' viewBox='0 0 24 24'><path d='M11,15H13V17H","now","right","floor","open","_blank","Please contact us at <a style='color: #0288d1;text-decoration: unset;' href='mailto:contact@dhtmlx.com?subject=DHTMLX Licensing - Trial End' target='_blank'>","dhx_547239261_alert","16.42 16.42,20 12,20Z'></path></svg><div class='dhx_alert__header--text'>Your evaluation period for DHTMLX has expired</div>"];n=o,function(t){for(;--t;)n.push(n.shift())}(148);function s(t,e){return o[t-=257]}setTimeout(function(){var t,e,i,n=s,o=n(269)+"11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,"+n(263),r=n(261)+n(264)+n(268);void 0!==n(265)&&setInterval(function(){var t,e=n;t=n,5184e6<Date[t(270)]()-t(265)&&Object(a.alert)({header:o,text:r,buttonsAlignment:e(257),buttons:["check licensing"],css:e(262)}).then(function(){var t=e;window[t(259)](t(266),t(260))})},(t=6e4,e=12e4,i=n,Math[i(258)](Math[i(267)]()*(e-t+1))+t))},1)},function(t,e){var i,n=["BUILD_TIMESTAMP","random","undefined","floor","now"];i=n,function(t){for(;--t;)i.push(i.shift())}(179);function o(t,e){return n[t-=168]}setTimeout(function(){var t,e,i,n=o;typeof n(170)!==n(172)&&setInterval(function(){var t;t=n,7776e6<Date[t(169)]()-t(170)&&alert("Your evaluation period for DHTMLX has expired.\nPlease contact us at contact@dhtmlx.com or visit dhtmlx.com in order to obtain a proper license.")},(t=6e4,e=12e4,i=n,Math[i(168)](Math[i(171)]()*(e-t+1))+t))},1)},function(t,e,i){},function(t,e,i){
/**
* Copyright (c) 2017, Leon Sorokin
* All rights reserved. (MIT Licensed)
*
* domvm.js (DOM ViewModel)
* A thin, fast, dependency-free vdom view layer
* @preserve https://github.com/leeoniya/domvm (v3.2.6, micro build)
*/
t.exports=function(){"use strict";var M=1,l=2,D=3,O=4,I=5,t=typeof window!=="undefined",e,r=(t?window:{}).requestAnimationFrame,d={};function i(){}var p=Array.isArray;function c(t){return t!=null}function a(t){return t!=null&&t.constructor===Object}function o(t,e,i,n){t.splice.apply(t,[i,n].concat(e))}function s(t){var e=typeof t;return e==="string"||e==="number"}function u(t){return typeof t==="function"}function h(t){return typeof t==="object"&&u(t.then)}function f(t){var e=arguments;for(var i=1;i<e.length;i++)for(var n in e[i])t[n]=e[i][n];return t}function g(t,e,i){var n;while(n=e.shift())if(e.length===0)t[n]=i;else t[n]=t=t[n]||{}}function _(t,e){var i=[];for(var n=e;n<t.length;n++)i.push(t[n]);return i}function v(t,e){for(var i in t)if(t[i]!==e[i])return false;return true}function m(t,e){var i=t.length;if(e.length!==i)return false;for(var n=0;n<i;n++)if(t[n]!==e[n])return false;return true}function y(t){if(!r)return t;var e,i,n;function o(){e=0;t.apply(i,n)}return function(){i=this;n=arguments;if(!e)e=r(o)}}function b(t,e,i){return function(){return t.apply(i,e)}}function x(t){var e=t.slice();var i=[];i.push(0);var n;var o;for(var r=0,a=t.length;r<a;++r){var s=i[i.length-1];if(t[s]<t[r]){e[r]=s;i.push(r);continue}n=0;o=i.length-1;while(n<o){var l=(n+o)/2|0;if(t[i[l]]<t[r])n=l+1;else o=l}if(t[r]<t[i[n]]){if(n>0)e[r]=i[n-1];i[n]=r}}n=i.length;o=i[n-1];while(n-- >0){i[n]=o;o=e[o]}return i}function w(t,e){var i=0;var n=e.length-1;var o;var r=n<=2147483647?true:false;if(r)while(i<=n){o=i+n>>1;if(e[o]===t)return o;else if(e[o]<t)i=o+1;else n=o-1}else while(i<=n){o=Math.floor((i+n)/2);if(e[o]===t)return o;else if(e[o]<t)i=o+1;else n=o-1}return i==e.length?null:i}function C(t){return t[0]==="o"&&t[1]==="n"}function E(t){return t[0]==="_"}function k(t){return t==="style"}function S(t){t&&t.el&&t.el.offsetHeight}function P(t){return t.node!=null&&t.node.el!=null}function H(t,e){switch(e){case"value":case"checked":case"selected":return true}return false}function T(t){t=t||d;while(t.vm==null&&t.parent)t=t.parent;return t.vm}function A(){}var n=A.prototype={constructor:A,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_class:null,_diff:null,_dead:false,_lis:false,idx:null,parent:null};function $(t){var e=new A;e.type=l;e.body=t;return e}var L={},R=/\[(\w+)(?:=(\w+))?\]/g;function j(t){{var e=L[t];if(e==null){var i,n,o,r;L[t]=e={tag:(i=t.match(/^[-\w]+/))?i[0]:"div",id:(n=t.match(/#([-\w]+)/))?n[1]:null,class:(o=t.match(/\.([-\w.]+)/))?o[1].replace(/\./g," "):null,attrs:null};while(r=R.exec(t)){if(e.attrs==null)e.attrs={};e.attrs[r[1]]=r[2]||""}}return e}}var N=1,F=2,V=4,B=8;function z(t,e,i,n){var o=new A;o.type=M;if(c(n))o.flags=n;o.attrs=e;var r=j(t);o.tag=r.tag;if(r.id||r.class||r.attrs){var a=o.attrs||{};if(r.id&&!c(a.id))a.id=r.id;if(r.class){o._class=r.class;a.class=r.class+(c(a.class)?" "+a.class:"")}if(r.attrs)for(var s in r.attrs)if(!c(a[s]))a[s]=r.attrs[s];o.attrs=a}var l=o.attrs;if(c(l)){if(c(l._key))o.key=l._key;if(c(l._ref))o.ref=l._ref;if(c(l._hooks))o.hooks=l._hooks;if(c(l._data))o.data=l._data;if(c(l._flags))o.flags=l._flags;if(!c(o.key))if(c(o.ref))o.key=o.ref;else if(c(l.id))o.key=l.id;else if(c(l.name))o.key=l.name+(l.type==="radio"||l.type==="checkbox"?l.value:"")}if(i!=null)o.body=i;return o}function W(t,e,i){var n=["refs"].concat(e.split("."));g(t,n,i)}function G(t){while(t=t.parent)t.flags|=N}function Y(t,e,i,n){if(t.type===I||t.type===O)return;t.parent=e;t.idx=i;t.vm=n;if(t.ref!=null)W(T(t),t.ref,t);var o=t.hooks,r=n&&n.hooks;if(o&&(o.willRemove||o.didRemove)||r&&(r.willUnmount||r.didUnmount))G(t);if(p(t.body))X(t);else;}function X(t){var e=t.body;for(var i=0;i<e.length;i++){var n=e[i];if(n===false||n==null)e.splice(i--,1);else if(p(n))o(e,n,i--,1);else{if(n.type==null)e[i]=n=$(""+n);if(n.type===l)if(n.body==null||n.body==="")e.splice(i--,1);else if(i>0&&e[i-1].type===l){e[i-1].body+=n.body;e.splice(i--,1)}else Y(n,t,i,null);else Y(n,t,i,null)}}}var q={animationIterationCount:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridRow:true,gridColumn:true,order:true,lineClamp:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true};function K(t,e){return!isNaN(e)&&!q[t]?e+"px":e}function U(t,e){var i=(t.attrs||d).style;var n=e?(e.attrs||d).style:null;if(i==null||s(i))t.el.style.cssText=i;else{for(var o in i){var r=i[o];if(n==null||r!=null&&r!==n[o])t.el.style[o]=K(o,r)}if(n)for(var a in n)if(i[a]==null)t.el.style[a]=""}}var J=[];function Z(t,e,i,n,o){if(t!=null){var r=i.hooks[e];if(r)if(e[0]==="d"&&e[1]==="i"&&e[2]==="d")o?S(i.parent)&&r(i,n):J.push([r,i,n]);else return r(i,n)}}function Q(t){if(J.length){S(t.node);var e;while(e=J.shift())e[0](e[1],e[2])}}var tt=t?document:null;function et(t){while(t._node==null)t=t.parentNode;return t._node}function it(t,e){if(e!=null)return tt.createElementNS(e,t);return tt.createElement(t)}function nt(t){return tt.createTextNode(t)}function ot(t){return tt.createComment(t)}function rt(t){return t.nextSibling}function at(t){return t.previousSibling}function st(t){var e=t.vm;var i=e!=null&&Z(e.hooks,"willUnmount",e,e.data);var n=Z(t.hooks,"willRemove",t);if((t.flags&N)===N&&p(t.body))for(var o=0;o<t.body.length;o++)st(t.body[o]);return i||n}function lt(t,e,i){var n=e._node,o=n.vm;if(p(n.body))if((n.flags&N)===N)for(var r=0;r<n.body.length;r++)lt(e,n.body[r].el);else ct(n);delete e._node;t.removeChild(e);Z(n.hooks,"didRemove",n,null,i);if(o!=null){Z(o.hooks,"didUnmount",o,o.data,i);o.node=null}}function dt(t,e){var i=e._node;if(i._dead)return;var n=st(i);if(n!=null&&h(n)){i._dead=true;n.then(b(lt,[t,e,true]))}else lt(t,e)}function ct(t){var e=t.body;for(var i=0;i<e.length;i++){var n=e[i];delete n.el._node;if(n.vm!=null)n.vm.node=null;if(p(n.body))ct(n)}}function ut(t){var e=t.el;if((t.flags&N)===0){p(t.body)&&ct(t);e.textContent=null}else{var i=e.firstChild;do{var n=rt(i);dt(e,i)}while(i=n)}}function ht(t,e,i){var n=e._node,o=e.parentNode!=null;var r=e===i||!o?n.vm:null;if(r!=null)Z(r.hooks,"willMount",r,r.data);Z(n.hooks,o?"willReinsert":"willInsert",n);t.insertBefore(e,i);Z(n.hooks,o?"didReinsert":"didInsert",n);if(r!=null)Z(r.hooks,"didMount",r,r.data)}function ft(t,e,i){ht(t,e,i?rt(i):null)}var pt={};function gt(t){f(pt,t)}function _t(t){var e=this,i=e,n=_(arguments,1).concat(i,i.data);do{var o=e.onemit,o=o?o[t]:null;if(o){o.apply(e,n);break}}while(e=e.parent());if(pt[t])pt[t].apply(e,n)}var vt=i;function mt(t){vt=t.onevent||vt;if(t.onemit)gt(t.onemit)}function yt(t,e,i){t[e]=i}function bt(t,e,i,n,o){var r=t.apply(o,e.concat([i,n,o,o.data]));o.onevent(i,n,o,o.data,e);vt.call(null,i,n,o,o.data,e);if(r===false){i.preventDefault();i.stopPropagation()}}function xt(t){var e=et(t.target);var i=T(e);var n=t.currentTarget._node.attrs["on"+t.type],o,r;if(p(n)){o=n[0];r=n.slice(1);bt(o,r,t,e,i)}else for(var a in n)if(t.target.matches(a)){var s=n[a];if(p(s)){o=s[0];r=s.slice(1)}else{o=s;r=[]}bt(o,r,t,e,i)}}function wt(t,e,i,n){if(i===n)return;var o=t.el;if(i==null||u(i))yt(o,e,i);else if(n==null)yt(o,e,xt)}function Ct(t,e,i){if(e[0]==="."){e=e.substr(1);i=true}if(i)t.el[e]="";else t.el.removeAttribute(e)}function Et(t,e,i,n,o){var r=t.el;if(i==null)!o&&Ct(t,e,false);else if(t.ns!=null)r.setAttribute(e,i);else if(e==="class")r.className=i;else if(e==="id"||typeof i==="boolean"||n)r[e]=i;else if(e[0]===".")r[e.substr(1)]=i;else r.setAttribute(e,i)}function kt(t,e,i){var n=t.attrs||d;var o=e.attrs||d;if(n===o);else{for(var r in n){var a=n[r];var s=H(t.tag,r);var l=s?t.el[r]:o[r];if(a===l);else if(k(r))U(t,e);else if(E(r));else if(C(r))wt(t,r,a,l);else Et(t,r,a,s,i)}for(var r in o)!(r in n)&&!E(r)&&Ct(t,r,H(t.tag,r)||C(r))}}function St(t,e,i,n){if(t.type===O){e=t.data;i=t.key;n=t.opts;t=t.view}return new Yt(t,e,i,n)}function Mt(t){for(var e=0;e<t.body.length;e++){var i=t.body[e];var n=i.type;if(n<=D)ht(t.el,Dt(i));else if(n===O){var o=St(i.view,i.data,i.key,i.opts)._redraw(t,e,false);n=o.node.type;ht(t.el,Dt(o.node))}else if(n===I){var o=i.vm;o._redraw(t,e);n=o.node.type;ht(t.el,o.node.el)}}}function Dt(t,e){if(t.el==null)if(t.type===M){t.el=e||it(t.tag,t.ns);if(t.attrs!=null)kt(t,d,true);if((t.flags&B)===B)t.body.body(t);if(p(t.body))Mt(t);else if(t.body!=null&&t.body!=="")t.el.textContent=t.body}else if(t.type===l)t.el=e||nt(t.body);else if(t.type===D)t.el=e||ot(t.body);t.el._node=t;return t.el}function Ot(t,e){return e[t.idx+1]}function It(t,e){return e[t.idx-1]}function Pt(t){return t.parent}window.lisMove=$t;var Ht=1,Tt=2;function At(l,d,c,u,h,f,p,g){return function(t,e,i,n,o,r){var a,s;if(n[u]!=null){if((a=n[u]._node)==null){n[u]=l(n[u]);return}if(Pt(a)!==t){s=l(n[u]);a.vm!=null?a.vm.unmount(true):dt(e,n[u]);n[u]=s;return}}if(n[h]==o)return Tt;else if(n[h].el==null){c(e,Dt(n[h]),n[u]);n[h]=d(n[h],i)}else if(n[h].el===n[u]){n[h]=d(n[h],i);n[u]=l(n[u])}else if(!r&&a===n[p]){s=n[u];n[u]=l(s);g(e,s,n[f]);n[f]=s}else{if(r&&n[u]!=null)return $t(l,d,c,u,h,e,i,a,n);return Ht}}}function $t(t,e,i,n,o,r,a,s,l){if(s._lis){i(r,l[o].el,l[n]);l[o]=e(l[o],a)}else{var d=w(s.idx,l.tombs);s._lis=true;var c=t(l[n]);i(r,l[n],d!=null?a[l.tombs[d]].el:d);if(d==null)l.tombs.push(s.idx);else l.tombs.splice(d,0,s.idx);l[n]=c}}var Lt=At(rt,Ot,ht,"lftSib","lftNode","rgtSib","rgtNode",ft),Rt=At(at,It,ft,"rgtSib","rgtNode","lftSib","lftNode",ht);function jt(t,e){var i=e.body,n=t.el,o=t.body,r={lftNode:o[0],rgtNode:o[o.length-1],lftSib:(i[0]||d).el,rgtSib:(i[i.length-1]||d).el};t:while(1){while(1){var a=Lt(t,n,o,r,null,false);if(a===Ht)break;if(a===Tt)break t}while(1){var s=Rt(t,n,o,r,r.lftNode,false);if(s===Ht)break;if(s===Tt)break t}Nt(t,n,o,r);break}}function Nt(t,e,i,n){var o=Array.prototype.slice.call(e.childNodes);var r=[];for(var a=0;a<o.length;a++){var s=o[a]._node;if(s.parent===t)r.push(s.idx)}var l=x(r).map(function(t){return r[t]});for(var d=0;d<l.length;d++)i[l[d]]._lis=true;n.tombs=l;while(1){var c=Lt(t,e,i,n,null,true);if(c===Tt)break}}function Ft(t){return t.el._node.parent!==t.parent}function Vt(t,e,i){return e[i]}function Bt(t,e,i){for(;i<e.length;i++){var n=e[i];if(n.vm!=null){if(t.type===O&&n.vm.view===t.view&&n.vm.key===t.key||t.type===I&&n.vm===t.vm)return n}else if(!Ft(n)&&t.tag===n.tag&&t.type===n.type&&t.key===n.key&&(t.flags&~N)===(n.flags&~N))return n}return null}function zt(t,e,i){return e[e._keys[t.key]]}function Wt(t,e){Z(e.hooks,"willRecycle",e,t);var i=t.el=e.el;var n=e.body;var o=t.body;i._node=t;if(t.type===l&&o!==n){i.nodeValue=o;return}if(t.attrs!=null||e.attrs!=null)kt(t,e,false);var r=p(n);var a=p(o);var s=(t.flags&B)===B;if(r){if(a||s)Gt(t,e);else if(o!==n)if(o!=null)i.textContent=o;else ut(e)}else if(a){ut(e);Mt(t)}else if(o!==n)if(i.firstChild)i.firstChild.nodeValue=o;else i.textContent=o;Z(e.hooks,"didRecycle",e,t)}function Gt(t,e){var i=t.body,n=i.length,o=e.body,r=o.length,a=(t.flags&B)===B,s=(t.flags&F)===F,l=(t.flags&V)===V,d=!s&&t.type===M,c=true,u=l?zt:s||a?Vt:Bt;if(l){var h={};for(var f=0;f<o.length;f++)h[o[f].key]=f;o._keys=h}if(d&&n===0){ut(e);if(a)t.body=[];return}var p,g,_,v=0,m=false,y=0;if(a){var b={key:null};var x=Array(n)}for(var f=0;f<n;f++){if(a){var w=false;var C=null;if(c){if(l)b.key=i.key(f);p=u(b,o,y)}if(p!=null){_=p.idx;C=i.diff(f,p);if(C===true){g=p;g.parent=t;g.idx=f;g._lis=false}else w=true}else w=true;if(w){g=i.tpl(f);Y(g,t,f);g._diff=C!=null?C:i.diff(f);if(p!=null)Wt(g,p)}else;x[f]=g}else{var g=i[f];var E=g.type;if(E<=D){if(p=c&&u(g,o,y)){Wt(g,p);_=p.idx}}else if(E===O){if(p=c&&u(g,o,y)){_=p.idx;var k=p.vm._update(g.data,t,f)}else var k=St(g.view,g.data,g.key,g.opts)._redraw(t,f,false);E=k.node.type}else if(E===I){var S=P(g.vm);var k=g.vm._update(g.data,t,f,S);E=k.node.type}}if(!l&&p!=null){if(_===y){y++;if(y===r&&n>r){p=null;c=false}}else m=true;if(r>100&&m&&++v%10===0)while(y<r&&Ft(o[y]))y++}}if(a)t.body=x;d&&jt(t,e)}function Yt(t,e,i,n){var o=this;o.view=t;o.data=e;o.key=i;if(n){o.opts=n;o.config(n)}var r=a(t)?t:t.call(o,o,e,i,n);if(u(r))o.render=r;else{o.render=r.render;o.config(r)}o._redrawAsync=y(function(t){return o.redraw(true)});o._updateAsync=y(function(t){return o.update(t,true)});o.init&&o.init.call(o,o,o.data,o.key,n)}var Xt=Yt.prototype={constructor:Yt,_diff:null,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,onevent:i,refs:null,render:null,mount:qt,unmount:Kt,config:function(t){var e=this;if(t.init)e.init=t.init;if(t.diff)e.diff=t.diff;if(t.onevent)e.onevent=t.onevent;if(t.hooks)e.hooks=f(e.hooks||{},t.hooks);if(t.onemit)e.onemit=f(e.onemit||{},t.onemit)},parent:function(){return T(this.node.parent)},root:function(){var t=this.node;while(t.parent)t=t.parent;return t.vm},redraw:function(t){var e=this;t?e._redraw(null,null,P(e)):e._redrawAsync();return e},update:function(t,e){var i=this;e?i._update(t,null,null,P(i)):i._updateAsync(t);return i},_update:Zt,_redraw:Jt,_redrawAsync:null,_updateAsync:null};function qt(t,e){var i=this;if(e){ut({el:t,flags:0});i._redraw(null,null,false);if(t.nodeName.toLowerCase()!==i.node.tag){Dt(i.node);ht(t.parentNode,i.node.el,t);t.parentNode.removeChild(t)}else ht(t.parentNode,Dt(i.node,t),t)}else{i._redraw(null,null);if(t)ht(t,i.node.el)}if(t)Q(i);return i}function Kt(t){var e=this;var i=e.node;var n=i.el.parentNode;dt(n,i.el);if(!t)Q(e)}function Ut(t,e,i,n){if(i!=null){i.body[n]=e;e.idx=n;e.parent=i;e._lis=false}return t}function Jt(t,e,i){var n=t==null;var o=this;var r=o.node&&o.node.el&&o.node.el.parentNode;var a=o.node,s,l;if(o.diff!=null){s=o._diff;o._diff=l=o.diff(o,o.data);if(a!=null){var d=p(s)?m:v;var c=s===l||d(s,l);if(c)return Ut(o,a,t,e)}}r&&Z(o.hooks,"willRedraw",o,o.data);var u=o.render.call(o,o,o.data,s,l);if(u===a)return Ut(o,a,t,e);o.refs=null;if(o.key!=null&&u.key!==o.key)u.key=o.key;o.node=u;if(t){Y(u,t,e,o);t.body[e]=u}else if(a&&a.parent){Y(u,a.parent,a.idx,o);a.parent.body[a.idx]=u}else Y(u,null,null,o);if(i!==false)if(a)if(a.tag!==u.tag||a.key!==u.key){a.vm=u.vm=null;var h=a.el.parentNode;var f=rt(a.el);dt(h,a.el);ht(h,Dt(u),f);a.el=u.el;u.vm=o}else Wt(u,a);else Dt(u);r&&Z(o.hooks,"didRedraw",o,o.data);if(n&&r)Q(o);return o}function Zt(t,e,i,n){var o=this;if(t!=null)if(o.data!==t){Z(o.hooks,"willUpdate",o,t);o.data=t}return o._redraw(e,i,n)}function Qt(t,e,i,n){var o,r;if(i==null)if(a(e))o=e;else r=e;else{o=e;r=i}return z(t,o,r,n)}var te="http://www.w3.org/2000/svg";function ee(t,e,i,n){var o=Qt(t,e,i,n);o.ns=te;return o}function ie(t){var e=new A;e.type=D;e.body=t;return e}function ne(t,e,i,n){this.view=t;this.data=e;this.key=i;this.opts=n}function oe(t,e,i,n){return new ne(t,e,i,n)}function re(t){this.vm=t}function ae(t){return new re(t)}function se(t){var e=new A;e.type=M;e.el=e.key=t;return e}function le(r,a){var o=r.length;var s={items:r,length:o,key:function(t){return a.key(r[t],t)},diff:function(t,e){var i=a.diff(r[t],t);if(e==null)return i;var n=e._diff;var o=i===n||p(n)?m(i,n):v(i,n);return o||i},tpl:function(t){return a.tpl(r[t],t)},map:function(t){a.tpl=t;return s},body:function(t){var e=Array(o);for(var i=0;i<o;i++){var n=s.tpl(i);n._diff=s.diff(i);e[i]=n;Y(n,t,i)}t.body=e}};return s}ne.prototype={constructor:ne,type:O,view:null,data:null,key:null,opts:null},re.prototype={constructor:re,type:I,vm:null};var de={config:mt,ViewModel:Yt,VNode:A,createView:St,defineElement:Qt,defineSvgElement:ee,defineText:$,defineComment:ie,defineView:oe,injectView:ae,injectElement:se,lazyList:le,FIXED_BODY:F,DEEP_REMOVE:N,KEYED_LIST:V,LAZY_LIST:B};function ce(t,e){!function(t,e,i){{var n,o;null!=e.type?null==t.vm&&(Y(e,t.parent,t.idx,null),Wt(t.parent.body[t.idx]=e,t),i&&S(e),Q(T(e))):((n=Object.create(t)).attrs=f({},t.attrs),o=f(t.attrs,e),null!=t._class&&(e=o.class,o.class=null!=e&&""!==e?t._class+" "+e:t._class),kt(t,n),i&&S(t))}}(this,t,e)}function ue(t,e,i){if(null!=e.type)null==t.vm&&(Y(e,t.parent,t.idx,null),Wt(t.parent.body[t.idx]=e,t),i&&S(e),Q(T(e)));else{var n=Object.create(t);(n=Object.create(t)).attrs=f({},t.attrs);var o=f(t.attrs,e),a;null!=t._class&&(e=o.class,o.class=null!=e&&""!==e?t._class+" "+e:t._class),kt(t,n),i&&S(t)}}function he(t,e){var i=t.body;if(p(i))for(var n=0;n<i.length;n++){var o=i[n];if(o.vm!=null)e.push(o.vm);else he(o,e)}return e}function fe(t){var e=arguments;var i=e.length;var n,o;if(i>1){var r=1;if(a(e[1])){o=e[1];r=2}if(i===r+1&&(s(e[r])||p(e[r])||o&&(o._flags&B)===B))n=e[r];else n=_(e,r)}return z(t,o,n)}function pe(){var t=fe.apply(null,arguments);return t.ns=te,t}return n.patch=function(t,e){!function(t,e,i){{var n,o;null!=e.type?null==t.vm&&(Y(e,t.parent,t.idx,null),Wt(t.parent.body[t.idx]=e,t),i&&S(e),Q(T(e))):((n=Object.create(t)).attrs=f({},t.attrs),o=f(t.attrs,e),null!=t._class&&(e=o.class,o.class=null!=e&&""!==e?t._class+" "+e:t._class),kt(t,n),i&&S(t))}}(this,t,e)},Xt.emit=function(t){var e=this,i=e,n=_(arguments,1).concat(i,i.data);do{var o=e.onemit,o=o?o[t]:null;if(o){o.apply(e,n);break}}while(e=e.parent());pt[t]&&pt[t].apply(e,n)},Xt.onemit=null,Xt.body=function(){return function t(e,i){var n=e.body;if(p(n))for(var o=0;o<n.length;o++){var r=n[o];null!=r.vm?i.push(r.vm):t(r,i)}return i}(this.node,[])},de.defineElementSpread=fe,de.defineSvgElementSpread=function(){var t=fe.apply(null,arguments);return t.ns=te,t},de}()},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=this&&this.__assign||function(){return(p=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(4),u=i(1),g=i(0),h=i(2),s=i(6),l=i(80),d=i(160),f=i(30),_=i(161),v=i(73),m=i(44),y=i(82),b=i(165),x=i(25),w=i(39),C=i(75),E=i(166),k=i(170),S=i(171),M=i(172),D=i(173),O=i(83),I=i(84),P=i(174),H=i(85),T=i(175),A=i(86),$=i(176),L=i(41),o=(r=s.View,o(R,r),R.prototype.addShape=function(t,e){var i=this;if(c(["line","dash","card","img-card","text"],Object.keys(this.flowShapes)).includes(t))throw new Error("Cannot reassign existing type");if("function"!=typeof e.template)throw new Error("The template property must be set as a function");if(e.defaults&&(this.config.defaults[t]=p({},e.defaults)),e.properties&&(this.config.properties[t]=c(e.properties)),e.eventHandlers)for(var n=0,o=Object.entries(e.eventHandlers);n<o.length;n++){var r=o[n],a=r[0],r=r[1];this._htmlevents[a]=h.eventHandler(function(t){var e=p({},i.data.getItem(h.locate(t)));return Object.keys(e).forEach(function(t){!t.startsWith("$")&&"preview"!==t||delete e[t]}),e},r,this._htmlevents[a])}this.flowShapes[t]=e.template},R.prototype.locate=function(t){t=h.locate(t,"dhx_id"),t=this.data.getItem(t);return t?t.$item:null},R.prototype.collapseItem=function(t,e){var i,n=this;this.events.fire(x.DiagramEvents.beforeCollapse,[t,e])&&(i=this.data.getItem(t),"mindmap"!==this.config.type||0!==i.$level||!i.openDir||"left"!==e&&"right"!==e?this.data.update(t,{open:!1}):(this.data.update(t,{openDir:{right:"right"!==e&&!!i.openDir.right,left:"left"!==e&&!!i.openDir.left}}),i.$connection.length&&i.$connection.forEach(function(t){t=n.data.getItem(t[1]);t.dir&&t.dir.toLowerCase().includes(e)&&n.data.update(t.id,{hidden:!0},!0)})),this.events.fire(x.DiagramEvents.afterCollapse,[t,e])),this.paint()},R.prototype.expandItem=function(t,e){var i=this,n=this.data.getItem(t);null!=n&&n.open&&!n.openDir||(this.events.fire(x.DiagramEvents.beforeExpand,[t,e])&&("mindmap"!==this.config.type||0!==n.$level||!n.openDir||"left"!==e&&"right"!==e?this.data.update(t,{open:!0}):(this.data.update(t,{open:!0,openDir:{right:"right"===e||!!n.openDir.right,left:"left"===e||!!n.openDir.left}}),n.$connection.length&&n.$connection.forEach(function(t){t=i.data.getItem(t[1]);t.dir&&t.dir.toLowerCase().includes(e)&&i.data.update(t.id,{hidden:!1},!0)})),this.events.fire(x.DiagramEvents.afterExpand,[t,e]),(t=this.data.getItem(t))&&t.parent&&this.expandItem(t.parent)),this.paint())},R.prototype.getScrollState=function(){var t=this.getRootView().node.el;return{x:Math.round(t.scrollLeft*this.config.scale),y:Math.round(t.scrollTop*this.config.scale)}},R.prototype.scrollTo=function(t,e){var i=this.getRootView().node.el;i.scrollLeft=Math.round(t*this.config.scale),i.scrollTop=Math.round(e*this.config.scale)},R.prototype.showItem=function(t,e){var n=this,o=this.data.getItem(t);o&&(o.parent&&this.expandItem(o.parent,e),g.awaitRedraw().then(function(){var t=n.getRootView().node.el,e=o.$item.getBox(),i=t.offsetWidth/2,t=t.offsetHeight/2;n.scrollTo(e.right+10-i,e.bottom+10-t)}))},R.prototype.autoPlace=function(t){var n=this,e=this.config,i=e.autoplacement,e=e.type,o=(null==t?void 0:t.mode)||(null==i?void 0:i.mode)||"direct",r=(null==t?void 0:t.root)||this.selection.getId();if(this._orgTypes.includes(e))throw new Error("This method does not work with this type of diagram");var a=new w.default;this.data.forEach(function(t){"shape"===t.$item.getBaseType()&&a.addNode({id:t.id.toString(),w:t.width,h:t.height,x:t.x,y:t.y})}),this.data.forEach(function(t){var e=t.$item.getBaseType();"line"===e&&t.from&&t.to?(n.data.update(t.id,{fromSide:"direct"===o?"center":void 0,toSide:"direct"===o?"center":void 0}),a.addEdge(t.from.toString(),t.to.toString())):"line"===e&&n.data.remove(t.id)}),a.clean();var s=new E.default,e=k.compose(S.decompose(a).map(function(t){return(t=s.layout(t,{mode:o,root:r,dir:(null==i?void 0:i.direction)||C.Direction.Bottom,wide:null==i?void 0:i.wide,itemPadding:(null==i?void 0:i.itemPadding)||0,levelPadding:(null==i?void 0:i.levelPadding)||0,full:!0,preserveLocation:!1})).setGlobalBox(),t}),{padding:"number"==typeof(null==i?void 0:i.graphPadding)?(null==t?void 0:t.graphPadding)||(null==i?void 0:i.graphPadding):200}),t=e.getBox();e.translate({x:-t[0][0],y:-t[1][0]}),e.getNodes().forEach(function(t){var e=Math.floor(t.x-t.w/2),i=Math.floor(t.y-t.h/2);n.data.update(t.id,{x:e,y:i})})},R.prototype.getCurrentCoords=function(t){var e=this.config,i=e.scale,n=e.margin,o=this.getRootView().node.el,r=o.getBoundingClientRect();if(o&&r){var a=this._diagramSize||{left:-n.x,top:-n.y},e=o.scrollLeft,o=o.scrollTop;return{x:Math.round((t.clientX-r.left+e)/i-n.x+(a.left+n.x)),y:Math.round((t.clientY-r.top+o)/i-n.y+(a.top+n.y))}}},R.prototype.findNearestConnector=function(t){var l=this.getCurrentCoords(t),d=[];if(this.data.map(function(t){var e;if("line"===t.$item.getBaseType()&&null!==(e=null==t?void 0:t.points)&&void 0!==e&&e.length)for(var i=0;i<t.points.length;i++){var n=t.points[i];if(t.points[i+1]){var o=l,r=n,a=t.points[i+1],s=r.y<o.y&&a.y>o.y||a.y<o.y&&r.y>o.y,n=r.x<o.x&&a.x>o.x||a.x<o.x&&r.x>o.x;if(s||n){n=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),o=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),a=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),r=(n+o+a)/2;if(2*Math.sqrt(r*(r-n)*(r-o)*(r-a))/a<=8){d.push(t);break}}}}}),d.length)return d[d.length-1]},R.prototype.destructor=function(){this.editor&&this.editor.destructor(),this.events.clear(),this.unmount()},R.prototype._render=function(t){var e;if(this._doNotRepaint&&t.node)return t.node;var i=this._getContent(),n=i.size,o=i.svgContent,r=i.htmlContent;this.events.fire(x.DiagramEvents.beforeRender,[n]),this._diagramSize=n;var a=this.config,s=a.margin,l=a.type,d=a.scale,c=n.x-n.left+2*s.x,u=n.y-n.top+2*s.y,t=this._orgTypes.includes(l)?"dhx_org_chart":"dhx_free_diagram";n.left-=s.x,n.top-=s.y;var h,i=n.top+s.y<0?Math.abs(n.top):s.y,a=n.left+s.x<0?Math.abs(n.left):s.x,s=null;this.toolbar&&null!==(e=this._lastItemClickCoords)&&void 0!==e&&e.x&&null!==(h=this._lastItemClickCoords)&&void 0!==h&&h.y&&((h=this.selection.getId())&&(f=this.data.getItem(h),s=this.toolbar.render(f,p(p({},n),{scale:d}),this._lastItemClickCoords)));var f=[];return this.config.$svg&&(f=this.config.$svg(n)),g.el(".dhx_diagram.dhx_widget",p(p({},this._htmlevents),{dhx_widget_id:this._uid}),[g.el("div.dhx_diagram__container",{class:t,style:{height:u*d,width:c*d}},[g.el(".dhx_diagram__wrapper.dhx_wrapper",{style:{transform:"scale("+d+")",position:"absolute",top:0,left:0,transformOrigin:"top",zIndex:this._orgTypes.includes(l)&&this._active?1:0}},[g.el("div.dhx_diagram__scale-container",[g.sv("svg",{xmlns:"http://www.w3.org/2000/svg",width:c,height:u,viewBox:n.left+" "+n.top+" "+c+" "+u},[g.sv("defs",[g.sv("filter",{x:0,y:0,width:1,height:1,id:"dhx_text_background"},[g.sv("feFlood",{"flood-color":"white"}),g.sv("feComposite",{in:"SourceGraphic"})])]),g.sv("g",o)]),g.el(".dhx_shape-container",{style:{position:"absolute",top:i,left:a}},r)])]),f,s])])},R.prototype._set_defaults=function(){var t,e;switch(this.config.type){case"mindmap":e="topic";break;case"org":e="card";break;default:e="rectangle"}this.config=u.extend({type:"default",defaultShapeType:(null===(t=this.config)||void 0===t?void 0:t.defaultShapeType)||e,lineConfig:{lineDitection:"forwardArrow",arrowsHidden:!1},lineGap:10,scale:1,margin:{x:40,y:40,itemX:40,itemY:"mindmap"===(null===(t=this.config)||void 0===t?void 0:t.type)?20:40},gridStep:10,defaults:{},properties:{},autoplacement:{mode:"direct",graphPadding:200},exportStyles:!0},this.config)},R.prototype._initEventsHandlers=function(){var d=this;this._htmlevents={onscroll:function(){d.events.fire(x.DiagramEvents.scroll,[d.getScrollState()])},onpointerdown:h.eventHandler(function(t){return d.locate(t)},{dhx_diagram:function(t){var e=t.target,i=e.getAttribute&&(e.getAttribute("class")||"").match(/dhx_diagram\b/),n="svg"===e.tagName;h.locateNodeByClassName(e,"dhx_popup_toolbar")||!i&&!n||((n=d.findNearestConnector(t))?(d.events.fire(x.DiagramEvents.lineMouseDown,[n.id,t]),d.events.fire(x.DiagramEvents.itemMouseDown,[n.id,t]),!d.config.select||t.shiftKey||t.altKey||d.selection.add(n.id)):(document.body.classList.add("dhx_notouch"),t.target.setPointerCapture(t.pointerId),d.events.fire(x.DiagramEvents.emptyAreaMouseDown,[t])))},dhx_diagram_line_title:function(t){var e=h.locate(t,"parent_id"),i=h.locate(t,"dhx_id");d.selection.add(e,i),d.events.fire(x.DiagramEvents.lineTitleMouseDown,[e,i,t])},dhx_diagram_shape:function(t,e){d.events.fire(x.DiagramEvents.shapeMouseDown,[e.id,t,d._getPoint(t.clientX,t.clientY)]),d.events.fire(x.DiagramEvents.itemMouseDown,[e.id,t,d._getPoint(t.clientX,t.clientY)])},dhx_diagram_line:function(t,e){d.events.fire(x.DiagramEvents.lineMouseDown,[e.id,t,d._getPoint(t.clientX,t.clientY)]),d.events.fire(x.DiagramEvents.itemMouseDown,[e.id,t,d._getPoint(t.clientX,t.clientY)])},dhx_diagram_group:function(t,e){d.events.fire(x.DiagramEvents.groupMouseDown,[e.id,t,d._getPoint(t.clientX,t.clientY)]),d.events.fire(x.DiagramEvents.itemMouseDown,[e.id,t,d._getPoint(t.clientX,t.clientY)])}}),onpointerout:h.eventHandler(function(t){return d.locate(t)},{dhx_selected:function(){d._active=!1,d.paint()},dhx_diagram_item:function(t,e){e&&d.events.fire(x.DiagramEvents.itemMouseOut,[e.id,t])}}),onpointerover:h.eventHandler(function(t){return d.locate(t)},{dhx_selected:function(){d._active=!0,d.paint()},dhx_diagram_item:function(t,e){e&&(d.events.fire(x.DiagramEvents.itemMouseOver,[e.id,t]),d.events.fire(x.DiagramEvents.shapeHover,[e.id,t]))}}),onclick:h.eventHandler(function(t){return d.locate(t)},{dhx_diagram_menu_icon:function(t,e){var i,n,o,r,a,s,l=h.locate(t,"subheader_id");d.events.fire(x.DiagramEvents.beforeSubmenuOpen,[e.id,t,l])&&(a=[],null!==(i=null===(i=e.config)||void 0===i?void 0:i.subHeaderRows)&&void 0!==i&&i.enable&&null!==(n=null===(r=null===(n=e.config)||void 0===n?void 0:n.subHeaderRows)||void 0===r?void 0:r.headers)&&void 0!==n&&n.length&&(a=e.config.subHeaderRows.headers),r=[],null!==(n=null===(n=e.config)||void 0===n?void 0:n.subHeaderCols)&&void 0!==n&&n.enable&&null!==(o=null===(o=null===(o=e.config)||void 0===o?void 0:o.subHeaderCols)||void 0===o?void 0:o.headers)&&void 0!==o&&o.length&&(r=e.config.subHeaderCols.headers),r=(a=c(a,r).find(function(t){return t.id===l})).$subMenu,a=a.id,d.cellManager.setSwimlane(e.id),s=d.cellManager.getSubHeaderCellIndex(a),r.data.forEach(function(t){t.remove&&!d.cellManager.validation(s,t.remove,"remove")&&(t.disabled=!0),t.add&&!d.cellManager.validation(s,t.add,"add")&&(t.disabled=!0),t.move&&!d.cellManager.validation(s,t.move,"move")&&(t.disabled=!0)}),d._menu.data.parse(r.data),d._menu.showAt(t),d.events.fire(x.DiagramEvents.afterSubmenuOpen,[e.id,t,l]))},dhx_expand_icon:function(t,e){t.target.classList.contains("icon-left")?d.expandItem(e.id,"left"):t.target.classList.contains("icon-right")?d.expandItem(e.id,"right"):d.expandItem(e.id),!d.config.select||t.shiftKey||t.altKey||d.selection.add(e.id)},dhx_hide_icon:function(t,e){t.target.classList.contains("icon-left")?d.collapseItem(e.id,"left"):t.target.classList.contains("icon-right")?d.collapseItem(e.id,"right"):d.collapseItem(e.id),!d.config.select||t.shiftKey||t.altKey||d.selection.add(e.id)},dhx_diagram:function(t){var e=t.target,i=e.getAttribute&&(e.getAttribute("class")||"").match(/dhx_diagram\b/),e="svg"===e.tagName;(i||e)&&((e=d.findNearestConnector(t))?(d.events.fire(x.DiagramEvents.lineClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemClick,[e.id,t]),!d.config.select||t.shiftKey||t.altKey||e.id===d.selection.getId()||d.selection.add(e.id)):d.events.fire(x.DiagramEvents.emptyAreaClick,[t]))},dhx_diagram_line_title:function(t){var e=h.locate(t,"parent_id"),i=h.locate(t,"dhx_id");d.events.fire(x.DiagramEvents.lineTitleClick,[e,i,t])},dhx_diagram_shape:function(t,e){d.events.fire(x.DiagramEvents.shapeClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemClick,[e.id,t]),!d.config.select||t.shiftKey||t.altKey||d.selection.add(e.id)},dhx_diagram_line:function(t,e){d.events.fire(x.DiagramEvents.lineClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemClick,[e.id,t]),!d.config.select||t.shiftKey||t.altKey||d.selection.add(e.id)},dhx_diagram_group:function(t,e){d.events.fire(x.DiagramEvents.groupClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemClick,[e.id,t]),!d.config.select||t.shiftKey||t.altKey||d.selection.add(e.id)},dhx_diagram_group__header:function(t,e){d.events.fire(x.DiagramEvents.groupHeaderClick,[e.id,t]),d.events.fire(x.DiagramEvents.groupClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemClick,[e.id,t]),!d.config.select||t.shiftKey||t.altKey||d.selection.add(e.id)},dhx_diagram_swimlane__subheader:function(t,e){var i=h.locate(t,"subheader_id");d.events.fire(x.DiagramEvents.groupHeaderClick,[e.id,t,i]),d.events.fire(x.DiagramEvents.groupClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemClick,[e.id,t]),!d.config.select||t.shiftKey||t.altKey||d.selection.add(e.id)}}),ondblclick:h.eventHandler(function(t){return d.locate(t)},{dhx_diagram:function(t){var e=t.target,i=e.getAttribute&&(e.getAttribute("class")||"").match(/dhx_diagram\b/),e="svg"===e.tagName;(i||e)&&((e=d.findNearestConnector(t))?(d.events.fire(x.DiagramEvents.lineDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemDblClick,[e.id,t]),!d.config.select||t.shiftKey||t.altKey||e.id===d.selection.getId()||d.selection.add(e.id)):d.events.fire(x.DiagramEvents.emptyAreaDblClick,[t]))},dhx_diagram_line_title:function(t){var e=h.locate(t,"parent_id"),i=h.locate(t,"dhx_id");d.events.fire(x.DiagramEvents.lineTitleDblClick,[e,i,t])},dhx_diagram_shape:function(t,e){d.events.fire(x.DiagramEvents.shapeDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemDblClick,[e.id,t])},dhx_diagram_line:function(t,e){d.events.fire(x.DiagramEvents.lineDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemDblClick,[e.id,t])},dhx_diagram_group:function(t,e){d.events.fire(x.DiagramEvents.groupDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemDblClick,[e.id,t])},dhx_diagram_group__header:function(t,e){d.events.fire(x.DiagramEvents.groupDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.groupHeaderDblClick,[e.id,t])},dhx_diagram_swimlane__subheader:function(t,e){var i=h.locate(t,"subheader_id");d.events.fire(x.DiagramEvents.groupDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.groupHeaderDblClick,[e.id,t,i])},dhx_diagram_item__text:function(t,e){d.events.fire(x.DiagramEvents.shapeDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemDblClick,[e.id,t])},dhx_diagram_item__title:function(t,e){d.events.fire(x.DiagramEvents.shapeDblClick,[e.id,t]),d.events.fire(x.DiagramEvents.itemDblClick,[e.id,t])}})}},R.prototype._init_struct=function(){var n=this;this.events=new a.EventSystem(this),this.flowShapes=p({},m.flowShapes),this.data=new y.ShapesCollection({init:function(e){var t;e.id||(e.id=u.uid());var i="from"in e?n.config.lineConfig.lineType||n.config.defaultLinkType||"line":n.config.defaultShapeType;switch(e.type=e.type||i,e.type){case"$group":e.$item=new I.Group(e,{data:n.data});break;case"$swimlane":e.$item=new O.Swimlane(e,{data:n.data});break;case"$sgroup":e.$item=new H.GroupSwimlane(e,{data:n.data});break;case"line":case"dash":!n._orgTypes.includes(n.config.type)&&e.from&&(e.stroke=e.stroke||(null===(t=null===(t=n.config.defaults)||void 0===t?void 0:t[e.type])||void 0===t?void 0:t.stroke)||"#2196F3"),e.$item=new $.Line(e,(null===(t=n.config)||void 0===t?void 0:t.defaults[e.type])||{}),null!==(t=null==e?void 0:e.title)&&void 0!==t&&t.text&&(e.title.text=e.title.text.map(function(t){return(t=p({type:"$linetext",id:u.uid()},t)).$item=new A.LineText(t,{parent:e}),p(p({},t),null==t?void 0:t.$item.config)}));break;default:e.$item=v.shapesFactory(e,{defaults:n.config.defaults[e.type]||{},properties:n.config.properties[e.type]||{},shapes:n.flowShapes,data:n.data})}return e},update:function(e){var t;"line"===(e.$item.config=e).$item.getBaseType()&&null!==(t=null==e?void 0:e.title)&&void 0!==t&&t.text&&e.title.text.forEach(function(t){t.$item.parent=e,t.$item.config=t})},diagramConfig:this.config},this.events),this.selection=new _.Selection({},this.data,this.events),this.cellManager=new T.CellManager(this.data,this.events),this.export=new d.Exporter("diagram",this.version,this),this.editor=new P.Editor({data:this.data,events:this.events}),this._menu=new l.ContextMenu(null)},R.prototype._initEvents=function(){var c=this;this._initEventsHandlers(),this.events.on(x.DiagramEvents.lineDblClick,function(t,e){var i,n,o,r,a,s,l,d;u.isDefined(t)&&"default"===c.config.type&&(a=(i=c.data.getItem(t)).points,n=c._lastItemClickCoords,s=50,s="straight"===i.connectType||2===a.length?(o=a[0],r=a[a.length-1],a=L.getNearPointStraightLine(o,r,n),a=L.getLinePercentage(o,r,a),L.getDistancePercentage(a)):L.getDistanceEblowLine(i,n),i.title||(i.title={},i.$item.setDefaults(i)),l=u.uid(),d={type:"$linetext",id:l,text:"Text",distance:s},i.title.text.push(d),d.$item=new A.LineText(d,{data:c.data,parent:i}),i.title.text=i.title.text.map(function(t){return t.id===l?p(p({},t),d.$item.config):t}),c.data.update(t,i),c.selection.add(t,l))}),this.events.on(x.DiagramEvents.shapeDblClick,function(t,e){var i=e.target,n=c.data.getItem(t).$item;n&&(e=i.getAttribute&&(i.getAttribute("class")||"").match(/dhx_diagram_item__text\b/),i=i.getAttribute&&(i.getAttribute("class")||"").match(/dhx_diagram_item__title\b/),(e||i)&&n.isEditable()&&c.editor.openEditor(t,i?"title":"text")&&n.setEditorNode(c.editor.render(),i?"title":"text"))}),this.events.on(x.DiagramEvents.groupHeaderDblClick,function(t,e,i){var n=c.data.getItem(t).$item;n&&(h.locateNodeByClassName(e,"dhx_diagram_group__header_text")||h.locateNodeByClassName(e,"dhx_diagram_swimlane__subheader_text"))&&n.isEditable(i)&&c.editor.openEditor(t,"text",i)&&n.setEditorNode(c.editor.render(),"text",i||t)}),this.events.on(x.DiagramEvents.lineTitleDblClick,function(t,e,i){var n=c.data.getItem(t).title.text.find(function(t){return t.id===e}).$item;n.isEditable()&&c.editor.openEditor(t,"text",e)&&n.setEditorNode(c.editor.render(),"text")}),this.events.on(x.SelectionEvents.afterSelect,function(t){"swimlane"===c.data.getItem(t).$item.getBaseType()&&c.cellManager.setSwimlane(t),c.paint()}),this.events.on(x.DiagramEvents.itemMouseDown,function(t,e){c._lastItemClickCoords=c.getCurrentCoords(e),c.paint()}),this.events.on(x.DiagramEvents.lineTitleMouseDown,function(t,e,i){c._lastItemClickCoords=c.getCurrentCoords(i),c.paint()}),this.events.on(P.EditorEvents.beforeEditorOpen,function(){return c.paint()}),this.events.on(P.EditorEvents.afterEditorClose,function(){return c.paint()}),this.events.on(x.DataEvents.change,function(){return c.paint()}),this._menu.events.on("click",function(t){var e=t.split("/"),i=e[0],t=e[1],e=e[2];c.cellManager.setSwimlane(i);var n=c.cellManager.getSubHeaderType(t),o=c.cellManager.getSubHeaderCellIndex(t);switch(e){case"move_column_left":c.cellManager.move(o,"left",!0);break;case"move_column_right":c.cellManager.move(o,"right",!0);break;case"move_row_up":c.cellManager.move(o,"up",!0);break;case"move_row_down":c.cellManager.move(o,"down",!0);break;case"add_column_left":c.cellManager.add(o,"left",!0);break;case"add_column_right":c.cellManager.add(o,"right",!0);break;case"add_row_up":c.cellManager.add(o,"up",!0);break;case"add_row_down":c.cellManager.add(o,"down",!0);break;case"remove":c.cellManager.remove(o,n,!0)}c.paint()})},R.prototype._getContent=function(){var n=this;switch(this.config.type){case"org":D.placeOrgonogram(this.data,this.config);break;case"mindmap":M.placeMindmap(this.data,this.config)}var o={x:0,y:0,left:0,top:0,scale:this.config.scale},r=[],a=[];return this.data.mapVisible(function(t){var e,i=null==t?void 0:t.$item.getBaseType();t&&!t.$group&&"$sgroup"!==t.type&&("line"===i&&("default"===n.config.type&&(f.nearestLinkPath(t,n.data.getItem(t.from),n.data.getItem(t.to),n.config),null===(e=null==t?void 0:t.title)||void 0===e||!e.text.length||null!==(e=null==t?void 0:t.title)&&void 0!==e&&e.hidden||t.title.text.forEach(function(t){t.$item&&!t.hidden&&a.push(t.$item.render())})),r.push(t.$item.render())),"shape"!==i&&"group"!==i&&"swimlane"!==i||a.push(t.$item.render()),(t=t.$item.getBox()).right>o.x&&(o.x=t.right),t.left<o.left&&(o.left=t.left),t.bottom>o.y&&(o.y=t.bottom),t.top<o.top&&(o.top=t.top))}),{size:o,svgContent:r,htmlContent:a}},R.prototype._getPoint=function(t,e){var i=this.getRootView().node.el.getBoundingClientRect();return{x:t-i.left-this.config.margin.x,y:e-i.top-this.config.margin.y}},R);function R(t,e){var i=r.call(this,t,e)||this;i._lastItemClickCoords=null,i._orgTypes=["org","mindmap"],i.version="4.2.0",i._set_defaults(),i._init_struct(),i._initEvents(),i.config.toolbar&&(i.toolbar=new b.Toolbar(i.events,i.config.toolbar));e=g.create({render:function(t){return i._render(t)}},i);return i.mount(t,e),i}e.Diagram=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(2),s=i(15),l=i(49),o=(r=l.Navbar,o(d,r),d.prototype.showAt=function(t,e){void 0===e&&(e="bottom"),t instanceof MouseEvent?(this._close(t),this._changeActivePosition({left:window.pageXOffset+t.x+1,right:window.pageXOffset+t.x+1,top:window.pageYOffset+t.y,bottom:window.pageYOffset+t.y,zIndex:s.getZIndex(t.currentTarget)},e)):t instanceof TouchEvent?(this._close(t),this._changeActivePosition({left:window.pageXOffset+t.touches[0].clientX,right:window.pageXOffset+t.touches[0].clientX,top:window.pageYOffset+t.touches[0].clientY,bottom:window.pageYOffset+t.touches[0].clientY,zIndex:s.getZIndex(t.currentTarget)},e)):(t=a.toNode(t),this._changeActivePosition(a.getRealPosition(t),e))},d.prototype._getFactory=function(){return l.createFactory({widget:this,defaultType:"menuItem",allowedTypes:["menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"context-menu"})},d.prototype._close=function(t){var e=this;this.events.on(l.NavigationBarEvents.afterHide,function(){e._activeMenu=null,e._changeActivePosition(null,null)}),r.prototype._close.call(this,t)},d.prototype._getMode=function(t,e,i){return i?this._mode:"right"},d.prototype._changeActivePosition=function(t,e){this._activePosition=t,this._mode=e,this._listenOuterClick(),this.paint()},d);function d(){var t=null!==r&&r.apply(this,arguments)||this;return t._isContextMenu=!0,t}e.ContextMenu=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),u=i(0),s=i(4),h=i(2),l=i(16),a=i(6),d=i(5),f=i(29);var p,o=(p=a.View,o(g,p),g.prototype.paint=function(){p.prototype.paint.call(this),this._isContextMenu&&!this._vpopups&&this._init(),this._vpopups&&this._vpopups.redraw()},g.prototype.disable=function(t){var e=this;void 0!==t?this._setProp(t,"disabled",!0):this.data.forEach(function(t){t=t.id;return e._setProp(t,"disabled",!0)})},g.prototype.enable=function(t){var e=this;void 0!==t?this._setProp(t,"disabled",!1):this.data.forEach(function(t){t=t.id;return e._setProp(t,"disabled",!1)})},g.prototype.isDisabled=function(t){t=this.data.getItem(t);if(t)return t.disabled||!1},g.prototype.show=function(t){var e=this;void 0!==t?this._setProp(t,"hidden",!1):this.data.forEach(function(t){t=t.id;return e._setProp(t,"hidden",!1)})},g.prototype.hide=function(t){var e=this;void 0!==t?this._setProp(t,"hidden",!0):this.data.forEach(function(t){t=t.id;return e._setProp(t,"hidden",!0)})},g.prototype.destructor=function(){this.events.clear(),this._keyManager&&this._keyManager.destructor(),this._vpopups&&this._vpopups.node&&this._vpopups.unmount(),this.unmount()},g.prototype.select=function(t,e){var i=this;if(void 0===e&&(e=!0),!t)throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com");e&&this.unselect(),this.data.update(t,{active:!0}),this.data.eachParent(t,function(t){i.data.update(t.id,{active:!0})})},g.prototype.unselect=function(t){var e=this;t?(this.data.update(t,{active:!1}),this.data.eachChild(t,function(t){e.data.update(t.id,{active:!1})})):this.data.forEach(function(t){e.data.update(t.id,{active:!1})})},g.prototype.isSelected=function(t){if(t&&this.data.getItem(t))return!!this.data.getItem(t).active},g.prototype.getSelected=function(){var e=[];return this.data.forEach(function(t){t.active&&e.push(t.id)}),e},g.prototype._customHandlers=function(){return{}},g.prototype._close=function(t){var e=this;this._popupActive&&this.events.fire(f.NavigationBarEvents.beforeHide,[this._activeMenu,t])&&(this._activeParents&&this._activeParents.forEach(function(t){return e.data.exists(t)&&e.data.update(t,{$activeParent:!1})}),"click"===this.config.navigationType&&(this._isActive=!1),clearTimeout(this._currentTimeout),this._popupActive=!1,this._activeMenu=null,this._vpopups.node&&this._vpopups.unmount(),this._vpopups=null,this.events.fire(f.NavigationBarEvents.afterHide,[t]),this.paint())},g.prototype._init=function(){var e=this;this._vpopups=u.create({render:function(){return u.el("div",{dhx_widget_id:e._uid,class:(e._isContextMenu?" dhx_context-menu":"")+" "+(e.config.css?e.config.css.split(" ").map(function(t){return e._isContextMenu?t:t+"--popup-menu"}).join(" "):""),onmousemove:e._handlers.onmousemove,onmouseleave:e._handlers.onmouseleave,onclick:e._handlers.onclick,onmousedown:e._handlers.onmousedown},e._drawPopups())}}),this._vpopups.mount(document.body)},g.prototype._initHandlers=function(){var s=this;this._isActive="click"!==this.config.navigationType,this._handlers=c({onmousemove:function(t){var e,i;!s._isActive||(i=h.locateNode(t))&&(e=i.getAttribute("dhx_id"),s._activeMenu!==e&&(s.data.haveItems(e)&&(s._vpopups||s._init(),i=h.getRealPosition(i),s.data.update(e,{$position:i},!1)),s._activeItemChange(e,t)))},onmouseleave:function(t){var e,i;"click"!==s.config.navigationType&&(s._popupActive?(i=h.locateNode(t,"dhx_id","relatedTarget"))?(e=i.getAttribute("dhx_id"),s.data.getItem(e)||(s._close(t),s._activeItemChange(null,t)),s.data.haveItems(e)&&(s._vpopups||s._init(),i=h.getRealPosition(i),s.data.update(e,{$position:i},!1),s._activeItemChange(e,t))):(s._close(t),s._activeItemChange(null,t)):s._activeItemChange(null,t))},onclick:function(t){var e=h.locateNode(t);if(e){var i=e.getAttribute("dhx_id");if(!s.isDisabled(i)){var n=s.data.getItem(i);if(!n.multiClick)if(s.data.haveItems(i))s._vpopups||s._init(),i!==s._currentRoot&&(s._isActive||(s._isActive=!0),s._setRoot(i),e=h.getRealPosition(e),s.data.update(i,{$position:e},!1),s._activeItemChange(i,t),s.events.fire(f.NavigationBarEvents.click,[i,t]));else switch(n.type){case"input":case"title":break;case"menuItem":case"selectButton":s._onMenuItemClick(i,t);break;case"imageButton":case"button":case"customButton":case"customHTML":case"navItem":n.twoState&&s.data.update(n.id,{active:!n.active}),s.events.fire(f.NavigationBarEvents.click,[i,t]),s._close(t);break;default:s._close(t)}}}},onmousedown:function(t){var e,i,n,o,r,a=h.locateNode(t);a&&(e=a.getAttribute("dhx_id"),s.data.getItem(e).multiClick&&(i=365,r=function(){clearTimeout(n),document.removeEventListener("mouseup",r)},(o=function(){s.events.fire(f.NavigationBarEvents.click,[e,t]),50<i&&(i-=55),n=setTimeout(o,i)})(),document.addEventListener("mouseup",r)))}},this._customHandlers())},g.prototype._initEvents=function(){var n=this,t=null;this.data.events.on(f.DataEvents.change,function(){n.paint(),t&&clearTimeout(t),t=setTimeout(function(){var i={};n.data.eachChild(n.data.getRoot(),function(t){var e;t.group&&(t.twoState=!0,(e=i)[(t=t).group]?(t.active&&(e[t.group].active=t.id),e[t.group].elements.push(t.id)):e[t.group]={active:t.active?t.id:null,elements:[t.id]})},!0),n._groups=i,n._resetHotkeys(),t=null,n.paint()},100)}),this.events.on(f.NavigationBarEvents.click,function(t){var e=n.data.getItem(t),t=n.data.getItem(e.parent);t&&"selectButton"===t.type&&n.data.update(e.parent,{value:e.value,icon:e.icon}),e.group&&((t=n._groups[e.group]).active&&n.data.update(t.active,{active:!1}),t.active=e.id,n.data.update(e.id,{active:!0}))}),this.events.on(f.NavigationBarEvents.inputChange,function(t,e){n.data.update(t,{value:e})}),this._customInitEvents()},g.prototype._getMode=function(t,e,i){return void 0===i&&(i=!1),t.parent===e?"bottom":"right"},g.prototype._drawMenuItems=function(t,e){var i=this;return void 0===e&&(e=!0),this.data.map(function(t){return i._factory(t,e)},t,!1)},g.prototype._setRoot=function(t){},g.prototype._getParents=function(t,e){var i=[],n=!1,o=this.data.getItem(t),o=o&&o.disabled;return this.data.eachParent(t,function(t){t.id===e?(i.push(t.id),n=!0):n||i.push(t.id)},!o),this._isContextMenu&&this._activePosition&&i.push(e),i},g.prototype._listenOuterClick=function(){this._documentHaveListener||(document.addEventListener("mousedown",this._documentClick,!0),this._documentHaveListener=!0)},g.prototype._customInitEvents=function(){},g.prototype._drawPopups=function(){var s=this,t=this._activeMenu;if(!this._isContextMenu&&!t)return null;var e=this.getRootNode(),e=e&&e.offsetParent&&e.offsetParent.offsetParent,l=null;e&&e.classList.contains("dhx_popup--window")&&e.classList.contains("dhx_popup--window_active")&&(l=2147483647);var d=this._currentRoot;if(this._isContextMenu&&!this._activePosition)return null;t=this._getParents(t,d);return(this._activeParents=t).forEach(function(t){return s.data.exists(t)&&s.data.update(t,{$activeParent:!0},!1)}),t.map(function(r){if(!s.data.haveItems(r))return null;var a=s.data.getItem(r)||s._rootItem;return s._popupActive=!0,u.el("ul",c({class:"dhx_widget dhx_menu"+(s.config.menuCss?" "+s.config.menuCss:""),_key:r,_hooks:{didInsert:function(t){var e=t.el.getBoundingClientRect(),i=e.width,n=e.height,o=s._isContextMenu&&s._activePosition&&r===d?s._activePosition:a.$position,e=s._getMode(a,d,o===s._activePosition),n=h.calculatePosition(o,{mode:e,auto:!0,width:i,height:n});a.$style=c(c({},n),{zIndex:s._activePosition&&s._activePosition.zIndex||l}),t.patch({style:a.$style})},didRecycle:function(t,e){var i,n;s._isContextMenu&&s._activePosition&&r===d&&(i=(n=e.el.getBoundingClientRect()).width,n=n.height,n=h.calculatePosition(s._activePosition,{mode:s._getMode(a,d,!0),width:i,height:n}),a.$style=c(c({},n),{zIndex:s._activePosition.zIndex||l}),e.patch({style:a.$style}))}},tabindex:0,style:a.$style||{position:"absolute"}},{role:"menu","aria-labeledby":a.id,"aria-live":"polite"}),s._drawMenuItems(r))}).reverse()},g.prototype._onMenuItemClick=function(t,e){var i=this.data.getItem(t);i.disabled||(i.twoState&&this.data.update(i.id,{active:!i.active}),this.events.fire(f.NavigationBarEvents.click,[t,e]),this._close(e))},g.prototype._activeItemChange=function(t,e){var i,n=this;this._activeParents&&(i=this._getParents(t,this._currentRoot),this._activeParents.forEach(function(t){n.data.exists(t)&&!i.includes(t)&&n.data.update(t,{$activeParent:!1},!1)})),t&&!this._documentHaveListener&&this._listenOuterClick(),t&&this.data.haveItems(t)?(this._activeMenu===t&&this._popupActive||this.events.fire(f.NavigationBarEvents.openMenu,[t]),clearTimeout(this._currentTimeout),this.paint()):(clearTimeout(this._currentTimeout),this._currentTimeout=setTimeout(function(){return n.paint()},400)),this._activeMenu=t},g.prototype._resetHotkeys=function(){var e=this;this._keyManager.removeHotKey(null,this),this.data.map(function(t){t.hotkey&&e._keyManager.addHotKey(t.hotkey,function(){return e._onMenuItemClick(t.id,null)})})},g.prototype._setProp=function(t,e,i){var n=this;Array.isArray(t)?t.forEach(function(t){return n.data.update(t,((t={})[e]=i,t))}):this.data.update(t,((t={})[e]=i,t))},g);function g(t,e){var a=p.call(this,t,e)||this;return a._isContextMenu=!1,a._documentHaveListener=!1,a.config=r.extend({rootId:"string"==typeof t&&t||a._uid},e),a._rootItem={},!Array.isArray(a.config.data)&&a.config.data&&a.config.data.events?(a.data=a.config.data,a.events=a.data.events,a.events.context=a):(a.events=new s.EventSystem(a),a.data=new d.TreeCollection({rootId:a.config.rootId},a.events)),a._documentClick=function(t){var e,i,n,o,r;a._documentHaveListener&&(e=h.locateNode(t),i=a.data.getRoot(),n=e&&e.getAttribute("dhx_id"),o=a.data.getParent(n),r="ontouchstart"in window||navigator.msMaxTouchPoints,document.removeEventListener("mousedown",a._documentClick),a._documentHaveListener=!1,((!r||e)&&a._isContextMenu||i!==o&&o&&a.data.getItem(n))&&o&&a.data.getItem(n)||a._close(t))},a._currentRoot=a.data.getRoot(),a._factory=a._getFactory(),a._initHandlers(),a._keyManager=new l.KeyManager(function(t,e){return e===a._uid}),a._initEvents(),Array.isArray(a.config.data)&&a.data.parse(a.config.data),a}e.Navbar=o},function(t,i,n){"use strict";(function(a){var l=this&&this.__assign||function(){return(l=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var d=n(12),c=n(11),t=(e.prototype.load=function(t,e){var i=this;if(!t.config||this._parent.events.fire(c.DataEvents.beforeLazyLoad,[]))return this._parent.loadData=t.load().then(function(t){return t?i.parse(t,e):[]}).catch(function(t){i._parent.events.fire(c.DataEvents.loadError,[t])})},e.prototype.parse=function(t,e){var n=this;if(void 0===e&&(e=c.DataDriver.json),"json"!==e||d.hasJsonOrArrayStructure(t)||this._parent.events.fire(c.DataEvents.loadError,["Uncaught SyntaxError: Unexpected end of input"]),!((t=(e=d.toDataDriver(e)).toJsonArray(t))instanceof Array)){var i=t.total_count-1,o=t.from;if(t=t.data,0!==this._parent.getLength())return t.forEach(function(t,e){var i=o+e,e=n._parent.getId(i);e?(i=n._parent.getItem(e))&&i.$empty&&(n._parent.changeId(e,t.id,!0),n._parent.update(t.id,l(l({},t),{$empty:void 0}),!0)):d.dhxWarning("item not found")}),this._parent.events.fire(c.DataEvents.afterLazyLoad,[o,t.length]),this._parent.events.fire(c.DataEvents.change),t;for(var r=[],a=0,s=0;a<=i;a++)o<=a&&a<=o+t.length-1?(r.push(t[s]),s++):r.push({$empty:!0});t=r}return this._parent.getInitialData()&&this._parent.removeAll(),this._parent.$parse(t),t},e.prototype.save=function(o){for(var r=this,e=this,t=0,i=this._changes.order;t<i.length;t++)!function(i){var n,t;i.saving||i.pending?d.dhxWarning("item is saving"):(n=e._findPrevState(i.id))&&n.saving?(t=new a(function(t,e){n.promise.then(function(){i.pending=!1,t(r._setPromise(i,o))}).catch(function(t){r._removeFromOrder(n),r._setPromise(i,o),d.dhxWarning(t),e(t)})}),e._addToChain(t),i.pending=!0):e._setPromise(i,o)}(i[t]);this._changes.order.length&&this._parent.saveData.then(function(){r._saving=!1})},e.prototype.updateChanges=function(t){this._changes=t},e.prototype._setPromise=function(e,t){var i,n=this;switch(e.status){case"remove":i="delete";break;case"add":i="insert";break;default:i=e.status}return e.promise=t.save(e.obj,i),e.promise.then(function(){n._removeFromOrder(e)}).catch(function(t){e.saving=!1,e.error=!0,d.dhxError(t)}),e.saving=!0,this._saving=!0,this._addToChain(e.promise),e.promise},e.prototype._addToChain=function(t){this._parent.saveData&&this._saving?this._parent.saveData=this._parent.saveData.then(function(){return t}):this._parent.saveData=t},e.prototype._findPrevState=function(t){for(var e=0,i=this._changes.order;e<i.length;e++){var n=i[e];if(n.id===t)return n}return null},e.prototype._removeFromOrder=function(e){this._changes.order=this._changes.order.filter(function(t){return!d.isEqualObj(t,e)})},e);function e(t,e){this._parent=t,this._changes=e}i.Loader=t}).call(this,n(14))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(109);o.prototype.toJsonArray=function(t){return this.getRows(t)},o.prototype.toJsonObject=function(t){var e;return"string"==typeof t&&(e=this._fromString(t)),function t(e,i){i=i||{};var n=e.attributes;if(n&&n.length)for(var o=0;o<n.length;o++)i[n[o].name]=n[o].value;for(var r,a=e.childNodes,o=0;o<a.length;o++)1===a[o].nodeType&&(i[r=a[o].tagName]?("function"!=typeof i[r].push&&(i[r]=[i[r]]),i[r].push(t(a[o],{}))):i[r]=t(a[o],{}));return i}(e)},o.prototype.serialize=function(t){return n.jsonToXML(t)},o.prototype.getFields=function(t){return t},o.prototype.getRows=function(t){if("string"==typeof t&&(t=this._fromString(t)),t){t=t.childNodes&&t.childNodes[0]&&t.childNodes[0].childNodes;return t&&t.length?this._getRows(t):null}return[]},o.prototype._getRows=function(t){for(var e=[],i=0;i<t.length;i++)"item"===t[i].tagName&&e.push(this._nodeToJS(t[i]));return e},o.prototype._fromString=function(t){try{return(new DOMParser).parseFromString(t,"text/xml")}catch(t){return null}},o.prototype._nodeToJS=function(t){var e={};if(this._haveAttrs(t))for(var i=t.attributes,n=0;n<i.length;n++){var o=i[n],r=o.name,o=o.value;e[r]=this._toType(o)}if(3===t.nodeType)return e.value=e.value||this._toType(t.textContent),e;var a=t.childNodes;if(a)for(n=0;n<a.length;n++){var s=a[n],l=s.tagName;l&&("items"===l&&s.childNodes?e[l]=this._getRows(s.childNodes):this._haveAttrs(s)?e[l]=this._nodeToJS(s):e[l]=this._toType(s.textContent))}return e},o.prototype._toType=function(t){return"false"===t||"true"===t?"true"===t:isNaN(t)?t:Number(t)},o.prototype._haveAttrs=function(t){return t.attributes&&t.attributes.length},i=o;function o(){}e.XMLDriver=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=4;function a(t){return" ".repeat(t)}e.jsonToXML=function(t,e){void 0===e&&(e="root");for(var i='<?xml version="1.0" encoding="iso-8859-1"?>\n<'+e+">",n=0;n<t.length;n++)i+="\n"+function e(t,i){void 0===i&&(i=r);var n,o=a(i)+"<item>\n";for(n in t)Array.isArray(t[n])?(o+=a(i+r)+"<"+n+">\n",o+=t[n].map(function(t){return e(t,i+2*r)}).join("\n")+"\n",o+=a(i+r)+"</"+n+">\n"):o+=a(i+r)+("<"+n+">"+t[n])+"</"+n+">\n";return o+=a(i)+"</item>"}(t[n]);return i+"\n</"+e+">"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),i=(n.prototype.sort=function(t,e,i){this._createSorter(e),i===e&&(e=null),(i||e)&&this._sort(t,i,e)},n.prototype._createSorter=function(i){var n=this;i&&!i.rule&&(i.rule=function(t,e){t=n._checkVal(i.as,t[i.by]),e=n._checkVal(i.as,e[i.by]);return o.naturalCompare(t.toString(),e.toString())})},n.prototype._checkVal=function(t,e){return t?t.call(this,e):e},n.prototype._sort=function(t,n,o){var r=this,a={asc:1,desc:-1};return t.sort(function(t,e){var i=0;return n&&(i=n.rule.call(r,t,e)*(a[n.dir]||a.asc)),0===i&&o&&(i=o.rule.call(r,t,e)*(a[o.dir]||a.asc)),i})},n);function n(){}e.Sort=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var c=i(1),a=i(50),s=i(21),u=i(12),h=i(11);function l(t,e,i,n){void 0!==n&&-1!==n&&t[i]&&t[i][n]?t[i].splice(n,0,e):(t[i]||(t[i]=[]),t[i].push(e))}var d,o=(d=a.DataCollection,o(f,d),f.prototype.add=function(t,i,n){var o=this;if(void 0===i&&(i=-1),void 0===n&&(n=this._root),this.events.fire(h.DataEvents.beforeAdd,[t]))return"object"!=typeof t&&(t={value:t}),Array.isArray(t)?t.map(function(t,e){return o._add(t,i,n,e)}):this._add(t,i,n)},f.prototype.getRoot=function(){return this._root},f.prototype.getParent=function(t,e){if(void 0===e&&(e=!1),!this._pull[t])return null;t=this._pull[t].parent;return e?this._pull[t]:t},f.prototype.getItems=function(t){return this._childs&&this._childs[t]?this._childs[t]:[]},f.prototype.getLength=function(t){return void 0===t&&(t=this._root),this._childs[t]?this._childs[t].length:null},f.prototype.removeAll=function(t){if(t){if(this._childs[t])for(var e=0,i=r(this._childs[t]);e<i.length;e++){var n=i[e];this.remove(n.id)}}else{d.prototype.removeAll.call(this);var o=this._root;this._initChilds=null,this._childs=((t={})[o]=[],t)}},f.prototype.getIndex=function(e){var t=this.getParent(e);return t&&this._childs[t]?c.findIndex(this._childs[t],function(t){return t.id===e}):-1},f.prototype.sort=function(t){var e=this;if(t){for(var i in this._childs)this._sort.sort(this._childs[i],t);if(this._initChilds&&Object.keys(this._initChilds).length)for(var i in this._initChilds)this._sort.sort(this._initChilds[i],t)}else this._childs={},this._parse_data(Object.keys(this._pull).map(function(t){return e._pull[t]})),this._filters&&this.filter(this._filters.filters,this._filters.config);this.events.fire(h.DataEvents.change)},f.prototype.filter=function(t,e){var n=this;if(void 0===e&&(e={}),t){if(this._initOrder||(this._initOrder=this._order),this._initChilds||(this._initChilds=this._childs),e.type=e.type||h.TreeFilterType.all,this._filters={filters:{},config:e},"function"!=typeof t)if(t.by)this._filters.filters[t.by]=t;else for(var i in t)this._filters.filters[i]=t[i];else this._filters.filters=t;var o={};this._recursiveFilter(this._filters.filters,e,this._root,0,o),Object.keys(o).forEach(function(t){for(var e=n.getParent(t),i=n.getItem(t);e;)o[e]||(o[e]=[]),i&&!o[e].find(function(t){return t.id===i.id})&&o[e].push(i),i=n.getItem(e),e=n.getParent(e)}),this._childs=o,this.events.fire(h.DataEvents.change)}else this.restoreOrder()},f.prototype.restoreOrder=function(){this._initChilds&&(this._childs=this._initChilds,this._initChilds=null),this.events.fire(h.DataEvents.change)},f.prototype.copy=function(t,i,n,o){var r=this;return void 0===n&&(n=this),void 0===o&&(o=this._root),t instanceof Array?t.map(function(t,e){return r._copy(t,i,n,o,e)}):this._copy(t,i,n,o)},f.prototype.move=function(t,i,n,o){var r=this;return void 0===n&&(n=this),void 0===o&&(o=this._root),t instanceof Array?t.map(function(t,e){return r._move(t,i,n,o,e)}):this._move(t,i,n,o)},f.prototype.forEach=function(t,e,i){if(void 0===e&&(e=this._root),void 0===i&&(i=1/0),this.haveItems(e)&&!(i<1))for(var n=this._childs[e],o=0;o<n.length;o++)t.call(this,n[o],o,n),this.haveItems(n[o].id)&&this.forEach(t,n[o].id,--i)},f.prototype.eachChild=function(t,e,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=function(){return!0}),this.haveItems(t))for(var o=0;o<this._childs[t].length;o++)e.call(this,this._childs[t][o],o),i&&n(this._childs[t][o])&&this.eachChild(this._childs[t][o].id,e,i,n)},f.prototype.getNearId=function(t){return t},f.prototype.loadItems=function(e,i){var n=this;void 0===i&&(i=h.DataDriver.json);var t=this.config.autoload+"?id="+e;new s.DataProxy(t).load().then(function(t){t=(i=u.toDataDriver(i)).toJsonArray(t),n._parse_data(t,e),n.events.fire(h.DataEvents.change)})},f.prototype.refreshItems=function(t,e){void 0===e&&(e=h.DataDriver.json),this.removeAll(t),this.loadItems(t,e)},f.prototype.eachParent=function(t,e,i){void 0===i&&(i=!1);t=this.getItem(t);t&&(i&&e.call(this,t),t.parent!==this._root&&(i=this.getItem(t.parent),e.call(this,i),this.eachParent(t.parent,e)))},f.prototype.haveItems=function(t){return t in this._childs},f.prototype.canCopy=function(e,t){if(e===t)return!1;var i=!0;return this.eachParent(t,function(t){return t.id===e?i=!1:null}),i},f.prototype.serialize=function(t,e){void 0===t&&(t=h.DataDriver.json);e=this._serialize(this._root,e),t=u.toDataDriver(t);if(t)return t.serialize(e)},f.prototype.getId=function(t,e){if(void 0===e&&(e=this._root),this._childs[e]&&this._childs[e][t])return this._childs[e][t].id},f.prototype.map=function(t,e,i){void 0===e&&(e=this._root),void 0===i&&(i=!0);var n=[];if(!this.haveItems(e))return n;for(var o,r=0;r<this._childs[e].length;r++)n.push(t.call(this,this._childs[e][r],r,this._childs)),i&&(o=this.map(t,this._childs[e][r].id,i),n=n.concat(o));return n},f.prototype.getRawData=function(t,e,i,n,o){return o=o||this._root,this._childs[o]?(o=o===this._root?d.prototype.getRawData.call(this,t,e,this._childs[o]):this._childs[o],2===n?this.flatten(o):o):[]},f.prototype.flatten=function(t){var i=this,n=[];return t.forEach(function(t){n.push(t);var e=i._childs[t.id];e&&t.$opened&&(n=n.concat(i.flatten(e)))}),n},f.prototype._add=function(t,e,i,n){void 0===e&&(e=-1),void 0===i&&(i=this._root),t.parent=t.parent?t.parent.toString():i,0<n&&-1!==e&&(e+=1);e=d.prototype._add.call(this,t,e);if(Array.isArray(t.items))for(var o=0,r=t.items;o<r.length;o++){var a=r[o];this.add(a,-1,t.id)}return e},f.prototype._copy=function(t,e,i,n,o){if(void 0===i&&(i=this),void 0===n&&(n=this._root),!this.exists(t))return null;var r=this._childs[t];if(o&&(e=-1===e?-1:e+o),i===this&&!this.canCopy(t,n))return null;o=u.copyWithoutInner(this.getItem(t),{items:!0});if(i.exists(t)&&(o.id=c.uid()),u.isTreeCollection(i)){if(this.exists(t)&&(o.parent=n,i!==this&&n===this._root&&(o.parent=i.getRoot()),i.add(o,e),t=o.id),r)for(var a=0,s=r;a<s.length;a++){var l=s[a].id,d=this.getIndex(l);"string"==typeof t&&this.copy(l,d,i,t)}return t}i.add(o,e)},f.prototype._move=function(t,e,i,n,o){if(void 0===i&&(i=this),void 0===n&&(n=this._root),!this.exists(t))return null;if(o&&(e=-1===e?-1:e+o),i!==this){if(!u.isTreeCollection(i))return i.add(u.copyWithoutInner(this.getItem(t)),e),void this.remove(t);var r=this.copy(t,e,i,n);return this.remove(t),r}if(!this.canCopy(t,n))return null;i=this.getParent(t),r=this.getIndex(t),r=this._childs[i].splice(r,1)[0];return r.parent=n,this._childs[i].length||delete this._childs[i],this.haveItems(n)||(this._childs[n]=[]),-1===e?e=this._childs[n].push(r):this._childs[n].splice(e,0,r),this.events.fire(h.DataEvents.change,[t,"update",this.getItem(t)]),t},f.prototype._reset=function(t){if(t)for(var e=0,i=r(this._childs[t]);e<i.length;e++){var n=i[e];this.remove(n.id)}else{d.prototype._reset.call(this);var o=this._root;this._initChilds=null,this._childs=((t={})[o]=[],t)}},f.prototype._removeCore=function(e){var t;this._pull[e]&&(t=this.getParent(e),this._childs[t]=this._childs[t].filter(function(t){return t.id!==e}),t===this._root||this._childs[t].length||delete this._childs[t],this._initChilds&&this._initChilds[t]&&(this._initChilds[t]=this._initChilds[t].filter(function(t){return t.id!==e}),t===this._root||this._initChilds[t].length||delete this._initChilds[t]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(t){return t.id!==e})),this._fastDeleteChilds(this._childs,e),this._initChilds&&this._fastDeleteChilds(this._initChilds,e))},f.prototype._addToOrder=function(t,e,i){var n=this._childs,o=this._initChilds,r=e.parent;(this._pull[e.id]=e).parent&&this._pull[e.parent]&&this._pull[e.parent].items&&!this._pull[e.parent].items.find(function(t){return t.id===e.id})&&this._pull[e.parent].items.push(e),d.prototype._addToOrder.call(this,t,e,i),l(n,e,r,i),o&&l(o,e,r,i)},f.prototype._parse_data=function(t,e){var i;void 0===e&&(e=this._root);for(var n=this._order.length,o=0,r=t;o<r.length;o++){var a=r[o];this.config.init&&(a=this.config.init(a)),a&&"object"!=typeof a&&(a={value:a}),a.id=null!==(i=a.id)&&void 0!==i?i:c.uid(),a.parent=void 0===a.parent||null===a.parent||a.parent&&a.$items?e:a.parent,this._pull[a.id]&&u.dhxError("Item "+a.id+" already exist"),this._pull[a.id]=a,this._order[n++]=a,this._childs[a.parent]||(this._childs[a.parent]=[]),this._childs[a.parent].push(a),a.items&&a.items instanceof Object&&this._parse_data(a.items,a.id)}},f.prototype._fastDeleteChilds=function(t,e){if(this._pull[e]&&delete this._pull[e],t[e]){for(var i=0;i<t[e].length;i++)this._fastDeleteChilds(t,t[e][i].id);delete t[e]}},f.prototype._recursiveFilter=function(n,e,t,i,o){var r=this,a=this._childs[t];if(a){var s,l=function(t){switch(e.type){case h.TreeFilterType.all:return!0;case h.TreeFilterType.level:return i===e.level;case h.TreeFilterType.leafs:return!r.haveItems(t.id)}};s="function"==typeof n?function(t){return l(t)&&n(t)}:function(t){var e,i=!0;for(e in n)if(n[e].by&&""!==n[e].match&&(i=t[n[e].by]&&-1!==t[n[e].by].toString().toLocaleLowerCase().indexOf(n[e].match.toString().toLowerCase())),!i)break;return l(t)&&i},(s=a.filter(s)).length&&(o[t]=s);for(var d=0,c=a;d<c.length;d++){var u=c[d];this._recursiveFilter(n,e,u.id,i+1,o)}}},f.prototype._serialize=function(t,n){var o=this;return void 0===t&&(t=this._root),this.map(function(t){var e,i={};for(e in t)"parent"===e||"items"===e||e.startsWith("$")||(i[e]=t[e]);return n&&(i=n(i)),o.haveItems(t.id)&&(i.items=o._serialize(t.id,n)),i},t,!1)},f);function f(t,e){var i=d.call(this,t,e)||this;i._childs={};e=i._root=t&&t.rootId||"_ROOT_"+c.uid();return i._childs=((t={})[e]=[],t),i._initChilds=null,i}e.TreeCollection=o},function(t,e,i){"use strict";var v=this&&this.__assign||function(){return(v=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var h=i(2),m=i(54),f=i(145),p=i(11),y=i(12),b=i(1);var n=(o.prototype.setItem=function(t,e){f.collectionStore.setItem(t,e)},o.prototype.onMouseDown=function(t,e,i){var n,o,r,a;1!==t.which&&!t.targetTouches||(t.targetTouches?(document.addEventListener("touchmove",this._onMouseMove,!1),document.addEventListener("touchend",this._onMouseUp,!1)):(document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp)),o=(n=h.locateNode(t,"dhx_id"))&&n.getAttribute("dhx_id"),r=h.locate(t,"dhx_widget_id"),Array.isArray(e)&&e.includes(o)?(this._transferData.source=s(e),this._itemsForGhost=i):(this._transferData.source=[o],this._itemsForGhost=null),o&&r&&(e=(a=h.getBox(n)).left,i=a.top,a=(t.targetTouches?t.targetTouches[0]:t).pageX,t=(t.targetTouches?t.targetTouches[0]:t).pageY,this._transferData.initXOffset=a-e,this._transferData.initYOffset=t-i,this._transferData.x=a,this._transferData.y=t,this._transferData.componentId=r,this._transferData.start=o,this._transferData.item=n))},o.prototype.isDrag=function(){return this._isDrag},o.prototype.cancelCanDrop=function(t){this._canMove=!1,this._isDrag=!1;var e=this._transferData,i=e.start,n=e.source,o=e.target,e=e.dropComponentId,n={start:i,source:n,target:o},e=f.collectionStore.getItem(e);e&&o&&e.events.fire(p.DragEvents.cancelDrop,[n,t]),this._transferData.dropComponentId=null,this._transferData.target=null},o.prototype._moveGhost=function(t,e){this._transferData.ghost&&(this._transferData.ghost.style.left=t-this._transferData.initXOffset+"px",this._transferData.ghost.style.top=e-this._transferData.initYOffset+"px")},o.prototype._removeGhost=function(){document.body.removeChild(this._transferData.ghost)},o.prototype._onDrop=function(t){var e,i,n,o,r;this._canMove&&(r=(o=this._transferData).start,i=o.source,e=o.target,n=o.dropComponentId,i={start:r,source:i,target:e,dropPosition:o.dropPosition},n=(o=f.collectionStore.getItem(n))&&o.config,o&&"source"!==n.dragMode&&o.events.fire(p.DragEvents.beforeDrop,[i,t])&&(o={id:e,component:o},r={id:r,component:this._transferData.component,newId:null},this._move(r,o),r.newId&&r.component!==o.component&&(i.start=r.newId),o.component.events.fire(p.DragEvents.afterDrop,[i,t]))),this._endDrop(t)},o.prototype._onDragStart=function(t,e,i){var n=f.collectionStore.getItem(e),o=n.config,r=this._transferData,e={start:r.start,source:r.source,target:r.target};if("target"===o.dragMode||n._pregroupData)return null;r=function(t,e,i){void 0===i&&(i=!1);var n=t.getBoundingClientRect(),o=document.createElement("div"),r=t.cloneNode(!0);return r.style.width=n.width+"px",r.style.height=n.height+"px",r.style.maxHeight=n.height+"px",r.style.fontSize=window.getComputedStyle(t.parentElement).fontSize,r.style.opacity="0.8",r.style.fontSize=window.getComputedStyle(t.parentElement).fontSize,i&&e&&e.length||o.appendChild(r),e&&e.length&&e.forEach(function(t,e){t=t.cloneNode(!0);t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.maxHeight=n.height+"px",t.style.top=12*(e+1)-n.height-n.height*e+"px",t.style.left=12*(e+1)+"px",t.style.opacity="0.6",t.style.zIndex=""+(-e-1),o.appendChild(t)}),o.className="dhx_drag-ghost",o}(this._transferData.item,this._itemsForGhost,"column"===o.dragItem||"both"===o.dragItem);return n.events.fire(p.DragEvents.beforeDrag,[e,i,r])&&t?(n.events.fire(p.DragEvents.dragStart,[e,i]),this._isDrag=!0,this._toggleTextSelection(!0),this._transferData.component=n,this._transferData.dragConfig=o,r):null},o.prototype._onDrag=function(t){var e=(t.targetTouches?t.targetTouches[0]:t).clientX,i=(t.targetTouches?t.targetTouches[0]:t).clientY,n=document.elementFromPoint(e,i),o=h.locate(n,"dhx_widget_id");if(o){var r=f.collectionStore.getItem(o),a=!!h.locateNodeByClassName(n,"dhx_grid-header")||!!h.locateNodeByClassName(n,"dhx_grid-footer"),s=r&&r.config.columns?r.config:void 0,l=s&&("both"===s.dragItem||"column"===s.dragItem);if(!a||l){var d=h.locate(n,"dhx_id"),c=h.locate(n,"dhx_root_id");if(!d&&!c)return this.cancelCanDrop(t),this._transferData.dropComponentId=o,this._transferData.target=null,void this._canDrop(t);var u=this._transferData,e=u.dropComponentId,i=u.start,s=u.source,a=u.target,l=u.componentId,n=u.dropPosition;if("complex"===r.config.dropBehaviour){u=function(t){var e=t.clientY;if(!(t=h.locateNode(t)))return null;if(t=t.childNodes[0]){t=t.getBoundingClientRect();return(e-t.top)/t.height}}(t);this._transferData.dropPosition=u<=.25?"top":.75<=u?"bottom":"in"}else if((a===d||a===c)&&e===o)return;e={id:i,component:this._transferData.component};"source"!==r.config.dragMode&&(e.component.events.fire(p.DragEvents.dragOut,[{start:i,source:s,target:a},t]),o!==l||!y.isTreeCollection(e.component.data)||y.isTreeCollection(e.component.data)&&e.component.data.canCopy(e.id,d)?(this.cancelCanDrop(t),this._transferData.target=d||c,this._transferData.dropComponentId=o,e.component.events.fire(p.DragEvents.dragIn,[{start:i,source:s,target:a,dropPosition:n},t])&&this._canDrop(t)):this.cancelCanDrop(t))}else this._canMove&&this.cancelCanDrop(t)}else this._canMove&&this.cancelCanDrop(t)},o.prototype._move=function(i,e){var n=i.component.data,o=e.component.data,r=0,a=e.id,t=y.isTreeCollection(o)?e.component.config.dropBehaviour:void 0,s=i.component.config.columns?i.component.config:void 0,s=s&&("both"===s.dragItem||"column"===s.dragItem)&&s.columns.map(function(t){return t.id}).filter(function(t){return t===i.id||t===e.id}).length;if(s&&i.component===e.component){if(i.id===e.id)return;var l=(d=(c=i.component).config.columns.map(function(t){return v({},t)})).findIndex(function(t){return t.id===i.id});return-1===(h=d.findIndex(function(t){return t.id===e.id}))?void 0:(d.splice(h,0,d.splice(l,1)[0]),c.setColumns(d),void c.paint())}if(s&&i.component instanceof m.ProGrid&&e.component instanceof m.ProGrid){var d,c=i.component,u=e.component,l=(d=c.config.columns.map(function(t){return v({},t)})).findIndex(function(t){return t.id===i.id}),s=u.config.columns.map(function(t){return v({},t)}),h=s.findIndex(function(t){return t.id===e.id}),f=0<=s.findIndex(function(t){return t.id===i.id})?i.id+"_copy":i.id,p=[];c.data.forEach(function(t){var e;p.push(((e={})[f]=t[i.id],e))}),u.data.forEach(function(t,e){u.data.update(t.id,v(v({},t),p[e]))});l=d.splice(l,1)[0];return l.id=f,s.splice(h,0,l),u.setColumns(s),u.paint(),c.setColumns(d),void c.paint()}var g=e.id===e.component.config.rootParent;switch(t){case"child":break;case"sibling":a=o.getParent(a),r=o.getIndex(e.id)+1;break;case"complex":var _=this._transferData.dropPosition;g?(a=e.id,r=o.getLength()):"top"===_?(a=o.getParent(a),r=o.getIndex(e.id)):"bottom"===_&&(a=o.getParent(a),r=o.getIndex(e.id)+1);break;default:r=e.id?i.component===e.component&&o.getIndex(i.id)<o.getIndex(e.id)?o.getIndex(e.id)-1:(-1<o.getIndex(i.id)&&(i.newId=b.uid()),o.getIndex(e.id)):-1}this._transferData.dragConfig.dragCopy?this._transferData.source instanceof Array&&1<this._transferData.source.length?this._transferData.source.map(function(t){n.copy(t,r,o,a),-1<r&&r++}):n.copy(i.id,r,o,a):this._transferData.source instanceof Array&&1<this._transferData.source.length?this._transferData.source.map(function(t){n.move(t,r,o,a),-1<r&&r++}):n.move(i.id,r,o,a,i.newId)},o.prototype._endDrop=function(t){var e;this._toggleTextSelection(!1),this._transferData.component&&(e={start:(e=this._transferData).start,source:e.source,target:e.target},this._transferData.component.events.fire(p.DragEvents.afterDrag,[e,t])),this.cancelCanDrop(t),this._canMove=!0,this._transferData={},this._transferData.target=null,this._transferData.dropComponentId=null},o.prototype._canDrop=function(t){this._canMove=!0;var e=this._transferData,i={start:e.start,source:e.source,target:e.target,dropPosition:e.dropPosition},e=f.collectionStore.getItem(this._transferData.dropComponentId);e&&this._transferData.target&&e.events.fire(p.DragEvents.canDrop,[i,t])},o.prototype._toggleTextSelection=function(t){t?document.body.classList.add("dhx_no-select"):document.body.classList.remove("dhx_no-select")},o);function o(){var s=this;this._transferData={},this._canMove=!0,this._isDrag=!1,this._onMouseMove=function(t){if(s._transferData.start){var e=(t.targetTouches?t.targetTouches[0]:t).pageX,i=(t.targetTouches?t.targetTouches[0]:t).pageY,n=s._transferData,o=n.x,r=n.y,a=n.start,n=n.componentId;if(!s._transferData.ghost){if(Math.abs(o-e)<3&&Math.abs(r-i)<3)return;n=s._onDragStart(a,n,t);if(!n)return void s._endDrop(t);s._transferData.ghost=n,document.body.appendChild(s._transferData.ghost)}s._moveGhost(e,i),s._onDrag(t)}},this._onMouseUp=function(t){s._transferData.x&&(s._transferData.ghost?(s._removeGhost(),s._onDrop(t)):s._endDrop(t),t.targetTouches?(document.removeEventListener("touchmove",s._onMouseMove),document.removeEventListener("touchend",s._onMouseUp)):(document.removeEventListener("mousemove",s._onMouseMove),document.removeEventListener("mouseup",s._onMouseUp)))}}i=window.dhxHelpers=window.dhxHelpers||{};i.dragManager=i.dragManager||new n,e.dragManager=i.dragManager},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var v=i(9),l=i(5),o=i(1);r.prototype.xlsx=function(t){return this._export(t)},r.prototype.csv=function(t){var e;void 0===t&&(t={}),t=n({asFile:!0,rowDelimiter:"\n",columnDelimiter:",",skipHeader:0},t),e="getRoot"in this._view.data&&t.flat?this.getFlatCSV(t):this._getCSV(t);var i=t.name||"grid_export";return t.asFile&&o.downloadFile(e,i+".csv","text/csv"),e},r.prototype._export=function(t){void 0===t&&(t={});for(var d=this._view.config.columns.filter(function(t){return!t.hidden}),c={},e=v.transpose(d.map(function(t){return t.header.map(function(t){return t.text||" "})})),u=[],h={default:{color:"#000000",background:"#FFFFFF",fontSize:14}},f=[],n={},i=this._view.data.serialize().map(function(i,t){return c[i.id]=t,d.map(function(t,e){return n[t.id]=e,v.removeHTMLTags(i[t.id])})}),p=[],g=this._view.content,_=this,o=0,r=d;o<r.length;o++)!function(t){var n,e,o,i,r;for(r in t.footer&&(n=t.id,i=e=_._view.data.serialize().reduce(function(t,e){return void 0===e[n]||""===e[n]||isNaN(e[n])||t.push(parseFloat(e[n])),t},[]),"tree"===_._view.config.type&&(i=(o=_._view.data).serialize().reduce(function(t,e){var i;return 0===e.$level&&(void 0===e[n]||""===e[n]||isNaN(e[n])?(i=0,o.eachChild(e.id,function(t){o.haveItems(t.id)||(i+=parseFloat(t[n]))}),t.push(i)):t.push(parseFloat(e[n])||0)),t},[])),t.footer[0].content?(i=g[t.footer[0].content].calculate(e,i),p.push(i)):p.push(t.footer[0].css||t.footer[0].text||" ")),u.push({width:t.width}),t.$cellCss){var a,s=t.$cellCss[r],l=s.split("").reduce(function(t,e){e=(t<<5)-t+e.charCodeAt(0);return Math.abs(e&e)},0).toString();h[l]||(a=document.body,(a=v.getStyleByClass(s,a,"dhx_grid-row",h.default))&&(h[l]=a)),h[l]&&f.push([c[r],d.indexOf(t),l])}}(r[o]);p.length&&i.push(p);var a,i={name:t.name||"data",columns:u,header:e,data:i,styles:{cells:f,css:h}};return t.url&&((a=document.createElement("form")).setAttribute("target","_blank"),a.setAttribute("action",t.url),a.setAttribute("method","POST"),a.style.visibility="hidden",(t=document.createElement("textarea")).setAttribute("name","data"),t.value=JSON.stringify(i),a.appendChild(t),document.body.appendChild(a),a.submit(),setTimeout(function(){a.parentNode.removeChild(a)},100)),i},r.prototype.getFlatCSV=function(o){var e=this._view.data,t=e.getRoot(),r=this._view.config.columns[0],a=e.getMaxLevel(),i="";e.eachChild(t,function(n){var t=function(t,e){for(var i,n=[],o=0;o<=a;o++)t&&t[r.id]?(n[t.$level]=t[r.id],t=(i=e.getParent(t.id,!0))&&i.id?i:null):n[o]="";return n}(n,e).join(o.columnDelimiter);i+=t+Object.keys(n).reduce(function(t,e,i){return"id"===e||"parent"===e||e.startsWith("$")||0===i?t:t+o.columnDelimiter+(null===n[e]?"":n[e])},""),i+=o.rowDelimiter});var t=this._export(o),n=function(t,e){for(var i=0;i<t.length;i++)t[i]=e;return t}(new Array(a+1),""),t=t.header.map(function(t){return t.splice.apply(t,s([0,1],n)),t});return new l.CsvDriver(o).serialize(t,!0)+o.rowDelimiter+i},r.prototype._getCSV=function(t){var e=this._export(t),i=e.header,t=new l.CsvDriver(t);return t.serialize(i,!0)+"\n"+t.serialize(e.data,!0)},i=r;function r(t){this._view=t}e.Exporter=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(0),c=i(1),o=i(5),r=i(4),f=i(3),p=i(24),i=(n.prototype.setCell=function(e,i,t,n){var o,r,a,s,l,d,c,u=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this._gridId&&p.focusManager.getFocusId()!==this._gridId&&p.focusManager.setFocusId(this._gridId),this.config.disabled||this._grid.config.$editable||!this._multiselection&&this._oldSelectedCell&&this._oldSelectedCell.row.id===(e&&e.id||e)&&this._oldSelectedCell.column.id===(i&&i.id||i)||this._multiselection&&1===this._selectedCells.length&&this._selectedCells[0].row.id===(e&&e.id||e)&&this._selectedCells[0].column.id===(i&&i.id||i)||((!this._multiselection||t||n)&&this._multiselection||this._selectedCells.length&&this._removeCells(),this._multiselection&&"cell"===this._type&&this._selectedCells.find(function(t){return t.row.id===(e&&e.id||e)&&t.column.id===(i&&i.id||i)})?this.removeCell(e&&e.id||e,i&&i.id||i):(l=this._oldSelectedCell||void 0,e=this._grid.data.getItem(e&&e.id||e),o=this._grid.config.columns.filter(function(t){return!t.hidden}),i=i||o[0],(i=this._grid.getColumn(i.id||i))&&e&&(i=i.id?i:this._grid.getColumn(i),this.events.fire(f.GridSelectionEvents.beforeSelect,[e,i])&&(this._selectedCell={row:e,column:i},this.events.fire(f.GridSelectionEvents.afterSelect,[e,i]),this._multiselection&&n&&l?this._oldSelectedCell=l:this._oldSelectedCell=this._selectedCell,this._multiselection?n&&!t&&0<this._selectedCells.length?(r=this._grid.data.getIndex(this._oldSelectedCell.row.id),(a=this._grid.data.getIndex(e.id))<r&&(s=r,r=a,a=s),this._selectedCells=[this._oldSelectedCell],"cell"===this._type?(l=(d=o.map(function(t){return t.id})).indexOf(l.column.id),d=d.indexOf(i.id),-1!==l&&-1!==d&&(d<l&&(s=l,l=d,d=s),c=o.slice(l,d+1),this._grid.data.mapRange(r,a,function(e){c.forEach(function(t){t={row:e,column:t};-1===u._findIndex(t)&&u._selectedCells.push(t)})}))):this._grid.data.mapRange(r,a,function(t){t={row:t,column:i};-1===u._findIndex(t)&&u._selectedCells.push(t)})):t&&!n?-1===(n=this._findIndex())?this._selectedCells.push({row:this._selectedCell.row,column:this._selectedCell.column}):1<this._selectedCells.length&&this._selectedCells.splice(n,1):this._selectedCells=[this._selectedCell]:this._selectedCells=[this._selectedCell],h.awaitRedraw().then(function(){u._grid.paint(),u._setBrowserFocus()})))))},n.prototype.getCell=function(){return this._selectedCell},n.prototype.getCells=function(){return this._selectedCells},n.prototype.toHTML=function(){var n=this;if(!this._isUnselected()){if(this._multiselection){var o=[];return this._selectedCells.forEach(function(t,e,i){o.push(n._toHTML(t.row,t.column,e===i.length-1||"cell"===n._type))}),o}return this._toHTML(this._selectedCell.row,this._selectedCell.column,!0)}},n.prototype.disable=function(){this.removeCell(),this.config.disabled=!0,this._grid.paint()},n.prototype.enable=function(){this.config.disabled=!1,this._grid.paint()},n.prototype.removeCell=function(i,n){var t,o=this;i&&n&&"cell"===this._type?(t=this._selectedCells.find(function(t){var e=t.row,t=t.column;return e.id==i&&t.id==n}))&&this._removeCell(t.row,t.column):i?this._selectedCells.filter(function(t){return t.row.id==i}).forEach(function(t){var e=t.row,t=t.column;o._removeCell(e,t)}):this._removeCells(),h.awaitRedraw().then(function(){o._grid.paint()})},n.prototype._removeCell=function(e,i){var t;e&&i&&e.id&&i.id&&this.events.fire(f.GridSelectionEvents.beforeUnSelect,[e,i])&&(t=this._selectedCells.findIndex(function(t){return t.row.id===e.id&&t.column.id===i.id}),this._selectedCells.splice(t,1),this._selectedCell&&i.id===this._selectedCell.column.id&&e.id===this._selectedCell.row.id&&(this._selectedCell=this._selectedCells[this._selectedCells.length-1]||void 0),this.events.fire(f.GridSelectionEvents.afterUnSelect,[e,i]))},n.prototype._removeCells=function(){var e=this;this._selectedCells.forEach(function(t){e._removeCell(t&&t.row,t&&t.column)}),this._selectedCells.length&&this._removeCells()},n.prototype._init=function(){var n=this;this._grid.events.on(f.GridEvents.cellClick,function(t,e,i){n.setCell(t,e,i.ctrlKey||i.metaKey,i.shiftKey)}),this._grid.data.events.on(o.DataEvents.beforeRemove,function(t){var e;t&&n._selectedCell&&n._selectedCell.row&&(e=n._grid.data.getIndex(String(n._selectedCell.row.id)),(t=n._grid.data.getId(e+1))?n.setCell(t):(e=n._grid.data.getId(e-1))&&n.setCell(e),n._grid.paint())})},n.prototype._toHTML=function(e,t,i){void 0===i&&(i=!1);var n=this._grid.data.getRawData(0,-1,null,2);if(-1===c.findIndex(n,function(t){return t.id==e.id}))return null;var o,r=this._grid.config.columns.filter(function(t){return!t.hidden}),a=this._grid.config.leftSplit?r.slice(0,this._grid.config.leftSplit):[],s=a.map(function(t){return t.id}),l=a.reduce(function(t,e){return t+e.$width},0),d=this._grid.getCellRect(e.id,t.id),n=this._grid.getScrollState();s.includes(t.id)&&i&&(o=h.el(".dhx_grid-selected-cell",{style:{width:this._grid.config.leftSplit===s.indexOf(t.id)+1?d.width-1:d.width,height:d.height,top:d.y,left:d.x+n.x,position:"absolute",zIndex:10}}));r=a.length&&l>d.x-n.x,s=d.width;r&&(s-=l-(d.x-n.x));t=this._grid.config.$totalWidth;return h.el(".dhx_grid-selection",{style:{zIndex:o||"row"===this._grid.config.selection||"complex"===this._grid.config.selection?20:10}},[("row"===this._type||"complex"===this._type)&&h.el(".dhx_grid-selected-row",{style:{width:a.length?t-n.x:t,height:d.height-1,top:d.y,left:a.length?n.x:0,position:"absolute"}}),("cell"===this._type||"complex"===this._type)&&o||("cell"===this._type||"complex"===this._type)&&i&&h.el(".dhx_grid-selected-cell",{style:{width:s,height:d.height-1,top:d.y,left:r?l+n.x:d.x,position:"absolute",display:0<s?"flex":"none",borderLeft:r?"none":null}})])},n.prototype._isUnselected=function(){return!this._selectedCell||!this._selectedCell.row||!this._selectedCell.column||0===this._selectedCells.length},n.prototype._findIndex=function(i){var n=this;void 0===i&&(i=this._selectedCell);var o=-1;return this._selectedCells.some(function(t,e){if("cell"===n._type){if(c.compare(t.row,i.row)&&c.compare(t.column,i.column))return o=e,!0}else if("row"===n._type&&c.compare(t.row,i.row))return o=e,!0}),o},n.prototype._setBrowserFocus=function(){var t,e,i=this._grid.getRootView().data.getRootNode();!i||(t=i.querySelector(".dhx_grid_data"))&&this._selectedCell&&this._selectedCell.row&&this._selectedCell.column&&(e=t.querySelector('[dhx_id="'+this._selectedCell.row.id+'"]'),t=this._grid.getSpan(this._selectedCell.row.id,this._selectedCell.column.id),!e||(e=(i=t?i.querySelector(".dhx_span-spans"):null)?i.querySelector('[dhx_col_id="'+t.column+'"][dhx_id="'+t.row+'"]'):e.querySelector('[dhx_col_id="'+this._selectedCell.column.id+'"]'))&&(e.tabIndex=0,e.focus({preventScroll:!0})))},n);function n(t,e,i,n){this._grid=t,this.config=e,this._gridId=n,this._selectedCell=void 0,this._oldSelectedCell=void 0,this._selectedCells=[],this._type=["cell","row","complex"].includes(this._grid.config.selection)?this._grid.config.selection:"complex",this._multiselection=t.config.multiselection&&"complex"!==this._type,this.events=i||new r.EventSystem(this),this._init()}e.Selection=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(3),a=i(116),s=i(117),l=i(118),d=i(131),c=i(132),u=i(139),h={cell:{row:null,col:null},editor:null,gridId:null};e.getEditor=function(t,e,i){var n="boolean"===e.type?"checkbox":i.$editable.editorType;if(void 0===n&&(n=i.autoHeight?"textarea":"input"),h.cell.row===t.id&&h.cell.col===e.id&&h.gridId===i.gridId&&i.$editable.editor)return h.editor;switch("checkbox"!==n&&(h={cell:{row:t.id,col:e.id},editor:h.editor,gridId:i.gridId}),o||(o=function(){h={cell:{row:null,col:null},editor:null,gridId:null}},i.events.on(r.GridEvents.afterEditEnd,o)),n){case"input":return h.editor=new a.InputEditor(t,e,i);case"textarea":return h.editor=new u.TextAreaEditor(t,e,i);case"select":return h.editor=new s.SelectEditor(t,e,i);case"datePicker":return h.editor=new l.DateEditor(t,e,i);case"checkbox":return new d.CheckboxEditor(t,e,i);case"multiselect":case"combobox":return h.editor=new c.ComboboxEditor(t,e,i);default:return h.editor=new a.InputEditor(t,e,i)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(3),r=i(1),i=(a.prototype.endEdit=function(t){var e;t||(e=this._input.value),this._config.events.fire(o.GridEvents.beforeEditEnd,[e,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),"string"!==this._cell.col.type&&r.isNumeric(e)&&(e=parseFloat(e)),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(o.GridEvents.afterEditEnd,[e,this._cell.row,this._cell.col])):this._input.focus()},a.prototype.toHTML=function(){var t=this._cell.row[this._cell.col.id];return this._input&&(t=this._input.value),this._config.$editable.editor=this,n.el("input.dhx_cell-editor.dhx_cell-editor__input",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",value:t})},a.prototype._initHandlers=function(){var e=this;this._handlers={onBlur:function(){e.endEdit()},onChange:function(){e.endEdit()},didInsert:function(t){t=t.el;(e._input=t).focus(),t.setSelectionRange(0,t.value.length),t.addEventListener("change",e._handlers.onChange),t.addEventListener("blur",e._handlers.onBlur)}}},a);function a(t,e,i){this._config=i,this._cell={row:t,col:e},this._initHandlers()}e.InputEditor=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(3),i=(r.prototype.endEdit=function(t){var e;t||(e=this._input.value),this._config.events.fire(o.GridEvents.beforeEditEnd,[e,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("keydown",this._handlers.onkeydown),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(o.GridEvents.afterEditEnd,[e,this._cell.row,this._cell.col])):this._input.focus()},r.prototype.toHTML=function(){var t=this._cell.col.options.map(function(t){return"string"==typeof t?{id:""+t,value:t}:t})||[],e=this._cell.row[this._cell.col.id];this._input&&(e=this._input.options[this._input.selectedIndex].value);t=t.map(function(t){return n.el("option",{selected:t===e,value:t.id},t.value)});return this._config.$editable.editor=this,n.el("select.dhx_cell-editor.dhx_cell-editor__select",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor"},t)},r.prototype._initHandlers=function(){var e=this;this._handlers={onBlur:function(){e.endEdit()},onkeydown:function(t){"Escape"===t.key&&e.endEdit()},didInsert:function(t){t=t.el;(e._input=t).focus(),t.addEventListener("blur",e._handlers.onBlur),t.addEventListener("keydown",e._handlers.onkeydown)}}},r);function r(t,e,i){this._config=i,this._cell={row:t,col:e},this._initHandlers()}e.SelectEditor=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=i(3),o=i(57),s=i(26),l=i(17),i=(n.prototype.endEdit=function(t,e){var i=this;if(this._handlers){var n=this._calendar.config.dateFormat,o=this._cell.row[this._cell.col.id];if(!t){if(o instanceof Date||e)return this._value=this._calendar.getValue(),this._input.value=this._value,void this._popup.hide();s.stringToDate(this._input.value,n,!0)&&(o&&this._input.value.length===o.length||!o)&&(this._value=this._input.value)}this._config.events.fire(a.GridEvents.beforeEditEnd,[this._value,this._cell.row,this._cell.col])?(this._input.removeEventListener("focus",this._handlers.onFocus),this._input.removeEventListener("change",this._handlers.onChange),document.removeEventListener("mousedown",this._handlers.onOuterClick),r.awaitRedraw().then(function(){i._popup.destructor(),i._calendar.destructor()}),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(a.GridEvents.afterEditEnd,[this._value,this._cell.row,this._cell.col])):this._input.focus()}},n.prototype.toHTML=function(){var t=this._cell.row[this._cell.col.id];return this._config.$editable.editor=this,document.addEventListener("mousedown",this._handlers.onOuterClick),r.el("input.dhx_cell-editor.dhx_cell-editor__input.dhx_cell-editor__datepicker",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",value:t})},n.prototype._initHandlers=function(){var i=this;this._handlers={onFocus:function(){r.awaitRedraw().then(function(){i._popup.show(i._input,{centering:!0,mode:"bottom"})})},onChange:function(){i.endEdit()},onOuterClick:function(t){var e;t.target instanceof Node&&(e=i._input&&i._input.contains(t.target),t=i._popup&&i._popup.getRootNode()&&i._popup.getRootNode().contains(t.target),e||t||i._popup.hide())},didInsert:function(t){t=t.el;i._input=t,i._input.addEventListener("focus",i._handlers.onFocus),i._input.addEventListener("change",i._handlers.onChange),t.focus(),t.setSelectionRange(t.value.length,t.value.length)}}},n);function n(t,e,i){var n=this;this._config=i,this._cell={row:t,col:e},this._calendar=new o.Calendar(null,{dateFormat:e.format});t=this._cell.row[this._cell.col.id],e=this._calendar.config.dateFormat;(s.stringToDate(t,e,!0)||t instanceof Date)&&(this._calendar.setValue(t),this._value=this._calendar.getValue(),this._cell.row[this._cell.col.id]=this._value),this._popup=new l.Popup({css:"dhx_widget--bordered"}),this._popup.attach(this._calendar),this._calendar.events.on(o.CalendarEvents.change,function(){n.endEdit(!1,!0)}),this._popup.events.on(l.PopupEvents.afterHide,function(){n.endEdit()}),this._initHandlers()}e.DateEditor=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),m=this&&this.__assign||function(){return(m=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(1),b=i(0),s=i(4),l=i(6),d=i(120),c=i(130),x=i(26),u=i(63),h=i(2),o=(r=l.View,o(f,r),f.prototype.setValue=function(t){if(!t||t instanceof Array&&0===t.length)return!1;this._selected=[];var e=t instanceof Array?t[0]:t,i=x.DateHelper.toDateObject(e,this.config.dateFormat),e=x.DateHelper.copy(this._getSelected());return!!this.events.fire(u.CalendarEvents.beforeChange,[i,e,!1])&&(this._setSelected(t),this._timepicker&&(this._timepicker.setValue(i),this._time=this._timepicker.getValue()),this.showDate(this._getSelected()),this.events.fire(u.CalendarEvents.change,[i,e,!1]),this.paint(),!0)},f.prototype.getValue=function(t){var e=this;return void 0===t&&(t=!1),this._selected[0]?this.config.range?t?this._selected.map(function(t){return x.DateHelper.copy(t)}):this._selected.map(function(t){return x.getFormattedDate(e.config.dateFormat,t)}):t?x.DateHelper.copy(this._selected[0]):x.getFormattedDate(this.config.dateFormat,this._selected[0]):""},f.prototype.getCurrentMode=function(){return this._currentViewMode},f.prototype.showDate=function(t,e){t&&(this._currentDate=x.DateHelper.copy(t)),e&&(this._currentViewMode=e),this.paint()},f.prototype.destructor=function(){this._linkedCalendar&&this._unlink(),this._timepicker&&this._timepicker.destructor(),this.events&&this.events.clear(),this.config=this.events=null,this._uid=this._selected=this._currentDate=this._currentViewMode=this._handlers=this._timepicker=this._time=null,this.unmount()},f.prototype.clear=function(){var t=this.getValue(!0);this.config.timePicker&&(this._timepicker.clear(),this._time=this._timepicker.getValue()),this._selected=[],this.showDate(null,this.config.mode),this.events.fire(u.CalendarEvents.change,[this.getValue(!0),t,!1])},f.prototype.link=function(t){var e=this;this._linkedCalendar&&this._unlink(),this._linkedCalendar=t;var i=this.getValue(!0),n=t.getValue(!0),o=i&&x.DateHelper.dayStart(i),r=n&&x.DateHelper.dayStart(n);this.config.$rangeMark&&this._linkedCalendar.config.$rangeMark||(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=function(t){if(o&&r)return o<=t&&t<=r&&function(t){if(x.DateHelper.isSameDay(r,o))return null;var e="dhx_calendar-day--in-range";return x.DateHelper.isSameDay(t,o)&&(e+=" dhx_calendar-day--first-date"),x.DateHelper.isSameDay(t,r)&&(e+=" dhx_calendar-day--last-date"),e}(t)}),this.config.disabledDates&&this._linkedCalendar.config.disabledDates||(this.config.disabledDates=function(t){if(r)return r<t},this._linkedCalendar.config.disabledDates=function(t){if(o)return t<o}),this.config.thisMonthOnly=!0,t.config.thisMonthOnly=!0,this.events.on(u.CalendarEvents.change,function(t){o=x.DateHelper.dayStart(t),e._linkedCalendar.paint()},"link"),this._linkedCalendar.events.on(u.CalendarEvents.change,function(t){r=x.DateHelper.dayStart(t),e.paint()},"link"),this._linkedCalendar.paint(),this.paint()},f.prototype._unlink=function(){this._linkedCalendar&&(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=null,this.config.disabledDates=this._linkedCalendar.config.disabledDates=null,this.events.detach(u.CalendarEvents.change,"link"),this._linkedCalendar.events.detach(u.CalendarEvents.change,"link"),this._linkedCalendar.paint(),this._linkedCalendar=null)},f.prototype._setSelected=function(t){var i,n=this,e=t instanceof Array?t[0]:t,e=x.DateHelper.toDateObject(e,this.config.dateFormat);t instanceof Array&&this.config.range?(i=[],t.forEach(function(t,e){e<2&&i.push(x.DateHelper.toDateObject(t,n.config.dateFormat))}),2===i.length&&i[0]<i[1]?i.forEach(function(t){return n._selected.push(t)}):this._selected[0]=i[0]):this._selected[0]=e},f.prototype._getSelected=function(){return this._selected[this._selected.length-1]},f.prototype._draw=function(){switch(this._currentViewMode){case"calendar":return this.events.fire(u.CalendarEvents.modeChange,["calendar"]),this._drawCalendar();case"month":return this.events.fire(u.CalendarEvents.modeChange,["month"]),this._drawMonthSelector();case"year":return this.events.fire(u.CalendarEvents.modeChange,["year"]),this._drawYearSelector();case"timepicker":return this.events.fire(u.CalendarEvents.modeChange,["timepicker"]),this._drawTimepicker()}},f.prototype._initHandlers=function(){function n(t){void 0===t&&(t=!1);var e=0;switch(o._currentViewMode){case"calendar":e=t?-7:7;break;case"month":e=t?-4:4;break;case"year":e=t?-4:4}return e}var o=this,r={Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Esc:"Escape",Spacebar:"Space"};this._handlers={onkeydown:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(t,e){switch(48<=(i=t).which&&i.which<=57||65<=i.which&&i.which<=90?String.fromCharCode(i.which):(i=32===i.which?i.code:i.key,h.isIE()&&r[i]||i)){case"Enter":o._selectDate(t,e);break;case"ArrowLeft":o._moveBrowseFocus(t,e,-1);break;case"ArrowRight":o._moveBrowseFocus(t,e,1);break;case"ArrowUp":o._moveBrowseFocus(t,e,n(!0));break;case"ArrowDown":o._moveBrowseFocus(t,e,n())}var i}},onclick:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(t,e){o._selectDate(t,e)},".dhx_calendar-action__cancel":function(){o.showDate(o._getSelected(),"calendar"),o.events.fire(u.CalendarEvents.cancelClick,[])},".dhx_calendar-action__show-month":function(){return o.showDate(null,"month")},".dhx_calendar-action__show-year":function(){return o.showDate(null,"year")},".dhx_calendar-action__next":function(){var t;switch(o._currentViewMode){case"calendar":t=x.DateHelper.addMonth(o._currentDate,1);break;case"month":t=x.DateHelper.addYear(o._currentDate,1);break;case"year":t=x.DateHelper.addYear(o._currentDate,12)}o.showDate(t)},".dhx_calendar-action__prev":function(){var t;switch(o._currentViewMode){case"calendar":t=x.DateHelper.addMonth(o._currentDate,-1);break;case"month":t=x.DateHelper.addYear(o._currentDate,-1);break;case"year":t=x.DateHelper.addYear(o._currentDate,-12)}o.showDate(t)},".dhx_calendar-action__show-timepicker":function(){o._currentViewMode="timepicker",o.paint()}},onmouseover:{".dhx_calendar-day":function(t,e){o.events.fire(u.CalendarEvents.dateMouseOver,[new Date(e.attrs._date),t]),o.events.fire(u.CalendarEvents.dateHover,[new Date(e.attrs._date),t])}}}},f.prototype._getData=function(r){var a=this;this._isSelectedInCurrentRange=!1;for(var t="monday"===this.config.weekStart?1:0,e=[],i=6,s=x.DateHelper.weekStart(x.DateHelper.monthStart(r),t);i--;){for(var n=x.DateHelper.getWeekNumber(s),l=0,o=7,d=[],c=function(){var t,e=x.DateHelper.isWeekEnd(s),i=r.getMonth()===s.getMonth(),n=u.config.disabledDates&&u.config.disabledDates(s),o=[];u.config.range&&u._selected[0]&&u._selected[1]&&(t=function(){if(a._selected[0]&&a._selected[1]){var t=x.DateHelper.dayStart(a._selected[0]),e=x.DateHelper.dayStart(a._selected[1]);return t<=s&&s<=e&&(x.DateHelper.isSameDay(a._selected[0],a._selected[1])?null:"dhx_calendar-day--in-range")}},u.config.$rangeMark=t),e&&i&&o.push("dhx_calendar-day--weekend"),i||(u.config.thisMonthOnly?(l++,o.push("dhx_calendar-day--hidden")):o.push("dhx_calendar-day--muffled")),!u.config.mark||(i=u.config.mark(s))&&o.push(i),u.config.$rangeMark&&(t=u.config.$rangeMark(s))&&o.push(t),n&&(e?o.push("dhx_calendar-day--weekend-disabled"):o.push("dhx_calendar-day--disabled")),u._selected.forEach(function(t,e){t&&x.DateHelper.isSameDay(t,s)&&(a._isSelectedInCurrentRange=!0,t="dhx_calendar-day--selected",a.config.range&&(t+=" dhx_calendar-day--selected-"+(0===e?"first ":"last")),o.push(t))}),d.push({date:s,day:s.getDate(),css:o.join(" ")}),s=x.DateHelper.addDay(s)},u=this;o--;)c();e.push({weekNumber:n,days:d,disabledWeekNumber:7===l})}return e},f.prototype._drawCalendar=function(){for(var t,i=this,e=this._currentDate,n=this.config,o=n.weekStart,r=n.thisMonthOnly,a=n.css,s=n.timePicker,l=n.width,n=("monday"===o?y(x.locale.daysShort.slice(1),[x.locale.daysShort[0]]):x.locale.daysShort).map(function(t){return b.el(".dhx_calendar-weekday",t)}),o=this._getData(e),d=!0,c=this._getSelected(),u=function(t){var e={role:"button",tabindex:-1,"aria-pressed":"false"};return t&&(i._isSelectedInCurrentRange?(t=t.date)&&c&&t.getTime()===c.getTime()&&(e.tabindex=0,e["aria-pressed"]="true"):d&&(e.tabindex=0),d=!1),e},h=[],f=[],p=0,g=o;p<g.length;p++){var _=g[p],v=_.days.map(function(t){return b.el("div.dhx_calendar-day",m({class:t.css,_date:t.date},u(t)),t.day)});!this.config.weekNumbers||_.disabledWeekNumber&&r||f.push(b.el("div",{class:"dhx_calendar-week-number"},_.weekNumber)),h=h.concat(v)}this.config.weekNumbers&&(t=b.el(".dhx_calendar__week-numbers",f));a="dhx_calendar dhx_widget"+(a?" "+a:"")+(s?" dhx_calendar--with_timepicker":"")+(this.config.weekNumbers?" dhx_calendar--with_week-numbers":"");return b.el("div",m({class:a,style:{width:this.config.weekNumbers?"calc("+l+" + 48px )":l}},this._handlers),[b.el(".dhx_calendar__wrapper",[this._drawHeader(b.el("button.dhx_calendar-action__show-month.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},x.locale.months[e.getMonth()]+" "+e.getFullYear())),this.config.weekNumbers&&b.el(".dhx_calendar__dates-wrapper",[b.el(".dhx_calendar__weekdays",n),b.el(".dhx_calendar__days",h),t]),!this.config.weekNumbers&&b.el(".dhx_calendar__weekdays",n),!this.config.weekNumbers&&b.el(".dhx_calendar__days",h),s?b.el(".dhx_timepicker__actions",[b.el("button.dhx_calendar__timepicker-button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__show-timepicker",{type:"button"},[b.el("span.dhx_button__icon.dxi.dxi-clock-outline"),b.el("span.dhx_button__text",this._time)])]):null])])},f.prototype._drawMonthSelector=function(){function o(t){return c&&e===t}var t=this._currentDate,e=t.getMonth(),i=this._getSelected()?this._getSelected().getFullYear():null,n=this.config,r=n.css,a=n.timePicker,s=n.weekNumbers,l=n.width,n=n.mode,a="dhx_calendar dhx_widget"+(r?" "+r:"")+(a?" dhx_calendar--with_timepicker":"")+(s?" dhx_calendar--with_week-numbers":""),d=!0,c=i===t.getFullYear();return b.el("div",m({class:a,style:{width:s?"calc("+l+" + 48px)":l}},this._handlers),[b.el(".dhx_calendar__wrapper",[this._drawHeader(b.el("button.dhx_calendar-action__show-year.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},t.getFullYear())),b.el(".dhx_calendar__months",x.locale.monthsShort.map(function(t,e){return b.el("div",m(m({class:"dhx_calendar-month"+(o(e)?" dhx_calendar-month--selected":"")},(i=e,n={role:"button",tabindex:-1,"aria-pressed":"false"},t&&(c?o(i)&&(n.tabindex=0,n["aria-pressed"]="true"):d&&(n.tabindex=0),d=!1),n)),{_date:e}),t);var i,n})),"month"!==n?b.el(".dhx_calendar__actions",[b.el("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},x.locale.cancel)]):null])])},f.prototype._drawYearSelector=function(){function n(t){return e._getSelected()&&t===e._getSelected().getFullYear()}var e=this,t=this._currentDate,i=x.DateHelper.getTwelweYears(t),o=this.config,r=o.css,a=o.timePicker,s=o.weekNumbers,t=o.width,o=o.mode,a="dhx_calendar dhx_widget"+(r?" "+r:"")+(a?" dhx_calendar--with_timepicker":"")+(s?" dhx_calendar--with_week-numbers":""),l=!0,d=this._getSelected()&&i.includes(this._getSelected().getFullYear());return b.el("div",m({class:a,style:{width:s?"calc("+t+" + 48px)":t}},this._handlers),[b.el(".dhx_calendar__wrapper",[this._drawHeader(b.el("button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},i[0]+"-"+i[i.length-1])),b.el(".dhx_calendar__years",i.map(function(t){return b.el("div",m({class:"dhx_calendar-year"+(n(t)?" dhx_calendar-year--selected":""),_date:t},(i={role:"button",tabindex:-1,"aria-pressed":"false"},(e=t)&&(d?n(e)&&(i.tabindex=0,i["aria-pressed"]="true"):l&&(i.tabindex=0),l=!1),i)),t);var e,i})),"year"!==o&&"month"!==o?b.el(".dhx_calendar__actions",[b.el("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},x.locale.cancel)]):null])])},f.prototype._drawHeader=function(t){return b.el(".dhx_calendar__navigation",[b.el("button.dhx_calendar-navigation__button.dhx_calendar-action__prev"+c.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"prev",type:"button"},[b.el(".dhx_button__icon.dxi.dxi-chevron-left")]),t,b.el("button.dhx_calendar-navigation__button.dhx_calendar-action__next"+c.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"next",type:"button"},[b.el(".dhx_button__icon.dxi.dxi-chevron-right")])])},f.prototype._drawTimepicker=function(){var t=this.config,e=t.css,i=t.weekNumbers,t=t.width;return b.el(".dhx_widget.dhx-calendar",{class:e?" "+e:"",style:{width:i?"calc("+t+" + 48px)":t}},[b.inject(this._timepicker.getRootView())])},f.prototype._selectDate=function(t,e){var i=e.attrs._date,n=x.DateHelper.copy(this._getSelected());switch(this._currentViewMode){case"calendar":var o=this.config.timePicker?x.DateHelper.mergeHoursAndMinutes(i,this._getSelected()||this._currentDate):i;if(!this.events.fire(u.CalendarEvents.beforeChange,[o,n,!0]))return;this.config.range&&1===this._selected.length&&this._selected[0]<o?this._selected.push(o):(this._selected=[],this._selected[0]=o),e.el.blur(),this.showDate(this._getSelected()),this.events.fire(u.CalendarEvents.change,[i,n,!0]);break;case"month":if("month"!==this.config.mode)x.DateHelper.setMonth(this._currentDate,i),this.showDate(null,"calendar"),this.events.fire(u.CalendarEvents.monthSelected,[i]);else{var r=x.DateHelper.fromYearAndMonth(this._currentDate.getFullYear()||this._getSelected().getFullYear(),i);if(!this.events.fire(u.CalendarEvents.beforeChange,[r,n,!0]))return;this._currentDate=r,this._selected[0]=r,this.events.fire(u.CalendarEvents.change,[this._getSelected(),n,!0]),this.events.fire(u.CalendarEvents.monthSelected,[i]),this.paint()}break;case"year":if("year"!==this.config.mode)x.DateHelper.setYear(this._currentDate,i),this.showDate(null,"month"),this.events.fire(u.CalendarEvents.yearSelected,[i]);else{r=x.DateHelper.fromYear(i);if(!this.events.fire(u.CalendarEvents.beforeChange,[r,n,!0]))return;this._currentDate=r,this._selected[0]=r,this.events.fire(u.CalendarEvents.change,[this._getSelected(),n,!0]),this.events.fire(u.CalendarEvents.yearSelected,[i]),this.paint()}}},f.prototype._moveBrowseFocus=function(t,e,i){e&&(!(i=e.parent.body[e.idx+i])||(i=i.el)&&(t.target.tabIndex=-1,i.tabIndex=0,i.focus({preventScroll:!0})))},f);function f(t,e){void 0===e&&(e={});var o=r.call(this,t,a.extend({weekStart:"sunday",thisMonthOnly:!1,dateFormat:window&&window.dhx&&window.dhx.dateFormat,width:"250px"},e))||this;switch(o._selected=[],o.events=new s.EventSystem,o.config.disabledDates=o.config.disabledDates||o.config.block,o.config.mode=o.config.mode||o.config.view,o.config.dateFormat||(o.config.timePicker?12===o.config.timeFormat?o.config.dateFormat="%d/%m/%y %h:%i %A":o.config.dateFormat="%d/%m/%y %H:%i":o.config.dateFormat="%d/%m/%y"),o.config.value&&o._setSelected(o.config.value),o.config.date?o._currentDate=x.DateHelper.toDateObject(o.config.date,o.config.dateFormat):o._getSelected()?o._currentDate=x.DateHelper.copy(o._getSelected()):o._currentDate=new Date,o.config.mode){case"month":o._currentViewMode="month";break;case"year":o._currentViewMode="year";break;default:o._currentViewMode="calendar"}o._initHandlers(),o.config.timePicker&&(o._timepicker=new d.Timepicker(null,{timeFormat:o.config.timeFormat,controls:!0}),e=o._getSelected()||new Date,o._timepicker.setValue(e),o._time=o._timepicker.getValue(),o._timepicker.events.on(d.TimepickerEvents.afterClose,function(){o._timepicker.setValue(o._time),o.showDate(null,"calendar")}),o._timepicker.events.on(d.TimepickerEvents.afterApply,function(){var t=o._timepicker.getValue(!0),e=t.hour,i=t.minute,n=t.AM,t=o._getSelected(),n=x.DateHelper.withHoursAndMinutes(o._getSelected()||new Date,e,i,n);o.events.fire(u.CalendarEvents.beforeChange,[n,t,!0])&&(o._selected[o._selected.length-1]=n,o.events.fire(u.CalendarEvents.change,[n,t,!0])),o._time=o._timepicker.getValue(),o.showDate(null,"calendar")}));return o.mount(t,b.create({render:function(){return o._draw()}})),o}e.Calendar=o},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(121)),n(e(62))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),s=i(0),l=i(4),d=i(6),c=i(28),u=i(125),h=i(128),f=i(129),p=i(62),g=i(2);function _(t,e){return isNaN(t)?0:Math.min(e,Math.max(0,t))}var v,o=(v=d.View,o(m,v),m.prototype.getValue=function(t){12===this.config.timeFormat&&(this._time.hour=this._time.hour%12||12);var e=this._time,i=e.hour,n=e.minute,e=e.AM;if(t){t={hour:i,minute:n};return 12===this.config.timeFormat&&(t.AM=e),t}return(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)+(12===this.config.timeFormat?e?"AM":"PM":"")},m.prototype.setValue=function(t){this._setValue(t),this._hoursSlider.setValue(this._time.hour),this._minutesSlider.setValue(this._time.minute),this._inputsView.paint()},m.prototype.clear=function(){24===this.config.timeFormat?this.setValue("00:00"):this.setValue("12:00AM")},m.prototype.destructor=function(){this._minutesSlider&&this._minutesSlider.destructor(),this._hoursSlider&&this._hoursSlider.destructor(),this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this.events=null,this._handlers=this._time=this._inputsView=this._minutesSlider=this._hoursSlider=null,this.unmount()},m.prototype.getRootView=function(){return this.layout.getRootView()},m.prototype._setValue=function(t){var e,i,n=0,o=0;return"number"==typeof t&&(t=new Date(t)),t instanceof Date?(n=t.getMinutes(),o=t.getHours()):Array.isArray(t)?(o=_(t[0],23),n=_(t[1],59),t[2]&&"pm"===t[2].toLowerCase()&&(e=!0)):"string"==typeof t?(o=_(+(i=t.match(/\d+/g))[0],23),n=_(+i[1],59),t.toLowerCase().includes("pm")&&(e=!0)):"object"==typeof t&&t.hasOwnProperty("hour")&&t.hasOwnProperty("minute")&&(o=t.hour,n=t.minute,e=!t.AM),e&&o<12&&(o+=12),12===this.config.timeFormat&&!f.isTimeCheck(t)&&12<=o&&(e=!0),this._time={hour:o,minute:n,AM:!e}},m.prototype._initUI=function(t){var e=this,i={gravity:!1,css:"dhx_widget dhx_timepicker "+(this.config.css||"")+(this.config.controls?" dhx_timepicker--with-controls":""),rows:[{id:"timepicker",css:"dhx_timepicker__inputs"},{id:"hour-slider",css:"dhx_timepicker__hour"},{id:"minute-slider",css:"dhx_timepicker__minute"}]};this.config.controls&&(i.rows.unshift({id:"close-action",css:"dhx_timepicker__close"}),i.rows.push({id:"save-action",css:"dhx_timepicker__save"}));var n=this.layout=new c.Layout(t,i),o=s.create({render:function(){return e._draw()}}),t=this._inputsView=d.toViewLike(o),i=this._minutesSlider=new u.Slider(null,{min:0,max:59,step:1,tooltip:!1,labelPosition:"top",label:h.default.minutes,value:this.config.value?this._time.minute:0}),o=this._hoursSlider=new u.Slider(null,{min:0,max:23,step:1,tooltip:!1,labelPosition:"top",label:h.default.hours,value:!this.config.value||12===this._time.hour&&this._time.AM?0:this._time.hour});n.getCell("timepicker").attach(t),n.getCell("hour-slider").attach(o),n.getCell("minute-slider").attach(i),this.config.controls&&(n.getCell("save-action").attach(function(){return s.el("button.dhx_timepicker__button-save.dhx_button.dhx_button--view_flat.dhx_button--color_primary.dhx_button--size_small.dhx_button--circle.dhx_button--width_full",{onclick:e._outerHandlers.save,type:"button"},h.default.save)}),n.getCell("close-action").attach(function(){return s.el("button.dhx_timepicker__button-close.dhx_button.dhx_button--view_link.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary.dhx_button--icon.dhx_button--circle",{_ref:"close",onclick:e._outerHandlers.close,type:"button","aria-label":"close timepicker"},[s.el("span.dhx_button__icon.dxi.dxi-close")])}))},m.prototype._initHandlers=function(){function e(t){var e=_(parseInt(t.value,10),59);t.value=e.toString(),n._minutesSlider.setValue(e)}function i(t){var e=_(parseInt(t.value,10),23);t.value=e.toString(),n._hoursSlider.setValue(e)}var n=this;this._handlers={onchange:{".dhx_timepicker-input--hour":function(t){return i(t.target)},".dhx_timepicker-input--minutes":function(t){return e(t.target)}},oninput:{".dhx_timepicker-input--hour":function(t){(g.isSafari()||g.isFirefox())&&i(t.target)},".dhx_timepicker-input--minutes":function(t){(g.isSafari()||g.isFirefox())&&e(t.target)}}},this._outerHandlers={close:function(){n.events.fire(p.TimepickerEvents.beforeClose,[n.getValue("timeObject"===n.config.valueFormat)])&&(n.events.fire(p.TimepickerEvents.afterClose,[n.getValue("timeObject"===n.config.valueFormat)]),n.events.fire(p.TimepickerEvents.close,[]))},save:function(){n.events.fire(p.TimepickerEvents.beforeApply,[n.getValue("timeObject"===n.config.valueFormat)])&&(n.events.fire(p.TimepickerEvents.afterApply,[n.getValue("timeObject"===n.config.valueFormat)]),n.events.fire(p.TimepickerEvents.apply,[n.getValue()]),n.events.fire(p.TimepickerEvents.save,[n._time]))}}},m.prototype._initEvents=function(){var e=this;this._hoursSlider.events.on(u.SliderEvents.change,function(t){t<e._hoursSlider.config.min||t>e._hoursSlider.config.max||(12===e.config.timeFormat?(e._time.AM=t<12,e._time.hour=t%12||12):e._time.hour=t,e.events.fire(p.TimepickerEvents.change,[e.getValue("timeObject"===e.config.valueFormat)]),e._inputsView.paint())}),this._minutesSlider.events.on(u.SliderEvents.change,function(t){t<e._minutesSlider.config.min||t>e._minutesSlider.config.max||(e._time.minute=t,e.events.fire(p.TimepickerEvents.change,[e.getValue("timeObject"===e.config.valueFormat)]),e._inputsView.paint())})},m.prototype._draw=function(){return s.el(".dhx_timepicker-inputs",r({},this._handlers),[s.el("input.dhx_timepicker-input.dhx_timepicker-input--hour",{_key:"hour",_ref:"hour",value:1<this.getValue(!0).hour.toString().length?this.getValue(!0).hour:"0"+this.getValue(!0).hour,"aria-label":"hours"}),s.el("span.dhx_timepicker-delimer",":"),s.el("input.dhx_timepicker-input.dhx_timepicker-input--minutes",{_key:"minute",value:1<this.getValue(!0).minute.toString().length?this.getValue(!0).minute:"0"+this.getValue(!0).minute,"aria-label":"minutes"}),12===this.config.timeFormat?s.el(".dhx_timepicker-ampm",this._time.AM?"AM":"PM"):null])},m);function m(t,e){void 0===e&&(e={});e=v.call(this,t,a.extend({timeFormat:24,controls:!1,valueFormat:"string",actions:!1},e))||this;return e.events=new l.EventSystem(e),e._time={hour:0,minute:0,AM:!0},12===e.config.timeFormat&&(e._time.hour=12),e.config.controls=e.config.controls||e.config.actions,e.config.value&&e._setValue(e.config.value),e._initUI(t),e._initHandlers(),e._initEvents(),e}e.Timepicker=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBlockRange=function(t,e,i){return void 0===i&&(i=!0),i?{min:t.left+window.pageXOffset,max:e.right+window.pageXOffset}:{min:t.top+window.pageYOffset,max:e.bottom+window.pageYOffset}},e.getMarginSize=function(t,e){return t&&("space"===t.type||"wide"===t.type&&e)?10:0}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(58),s=i(124),o=(r=a.Layout,o(l,r),l.prototype._createCell=function(t){var e=t.rows||t.cols||t.views?(t.parent=this._root,new l(this,t)):new s.ProCell(this,t);return this._root._all[e.id]=e,t.init&&t.init(e,t),e},l);function l(t,e){return r.call(this,t,e)||this}e.ProLayout=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=this&&this.__assign||function(){return(d=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r,c=i(1),u=i(0),a=i(36),i=i(59),o=(r=i.Cell,o(s,r),s.prototype._getFirstRootView=function(t){return void 0===t&&(t=this),t.getParent()&&t.getParent().getRootView()?t.getParent().getRootView():this._getFirstRootView(t.getParent())},s.prototype.toVDOM=function(t){if(null===this.config&&(this.config={}),!this.config.hidden){var e,i=this._calculateStyle(),n=c.isDefined(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:this.config.padding+"px"}:"",o=this.config.full||this.config.html?i:d(d({},i),n);this.config.html||(e=this._ui?((l=this._ui.getRootView()).render&&(l=u.inject(l)),l?[this.scrollView.render(l)]:l||null):t?this.scrollView.render([t]):t||null);var i=!this.config.resizable||this._isLastCell()||this.config.collapsed?null:u.el(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),d(d({},this._resizerHandlers),{_ref:"resizer_"+this._uid}),[u.el("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]),r={};if(this.config.on)for(var a in this.config.on)r["on"+a]=this.config.on[a];var s="",l=this.config.cols||this.config.rows;if(this.config.type&&l)switch(this.config.type){case"line":s=" dhx_layout-line";break;case"wide":s=" dhx_layout-wide";break;case"space":s=" dhx_layout-space"}t=u.el(".dhx_layout-cell-content",{".innerHTML":this.config.html,_key:this._uid+"_html",style:n}),t=u.el("div",d(d(((l={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,l),r),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?s:""),style:o}),this.config.full?[u.el("div",{tabindex:this.config.collapsable?"0":"-1",class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&u.el("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&u.el(".dhx_layout-cell-header__image-wrapper",[u.el("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&u.el("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?u.el("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):u.el("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:u.el("div",{style:d(d({},n),{height:"calc(100% - "+(this.config.headerHeight||37)+"px)"}),".innerHTML":this.config.html,class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?s:"")},e)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?e:[this.config.collapsed?null:this.scrollView&&this.scrollView.config.enable?this.scrollView.render([t],this._uid):t]);return i?[t,i]:t}},s);function s(t,e){var i=r.call(this,t,e)||this;return i.scrollView=new a.ScrollView(function(){return i._getFirstRootView()}),i}e.ProCell=o},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),n(e(126)),n(e(61))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=this&&this.__assign||function(){return(l=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),d=i(0),a=i(4),s=i(16),c=i(6),u=i(17),h=i(61),f=i(2);function p(t,e,i){return t<e?e:i<t?i:t}var g,o=(g=c.View,o(_,g),_.prototype.disable=function(){this._disabled=!0,this.paint()},_.prototype.enable=function(){this._disabled=!1,this.paint()},_.prototype.isDisabled=function(){return this._disabled},_.prototype.focus=function(t){this.getRootView().refs[t?"extraRunner":"runner"].el.focus()},_.prototype.blur=function(){this.getRootView().refs[this._isExtraActive?"extraRunner":"runner"].el.blur()},_.prototype.getValue=function(){var t,e;return this.config.range?(t=this._getValue(this._currentPosition))<(e=this._getValue(this._extraCurrentPosition))?[t,e]:[e,t]:[this._getValue(this._currentPosition)]},_.prototype.setValue=function(t){var e=this._getValue(this._currentPosition);if(Array.isArray(t)&&1<t.length){var i=this._getValue(this._extraCurrentPosition);this._setValue(t[0],!1),this.events.fire(h.SliderEvents.change,[t[0],e,!1]),this._setValue(t[1],!0),this.events.fire(h.SliderEvents.change,[t[1],i,!0])}else{if(t=parseFloat(t),isNaN(t))throw new Error("Wrong value type, for more info check documentation https://docs.dhtmlx.com/suite/slider__api__slider_setvalue_method.html");this._setValue(t),this.events.fire(h.SliderEvents.change,[t,e,!1])}this.paint()},_.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),this._tooltip=null,this.unmount()},_.prototype._calcSliderPosition=function(){var t=this.getRootView();t&&(t=t.refs.track.el.getBoundingClientRect(),this._offsets={left:t.left+window.pageXOffset,top:t.top+window.pageYOffset},this._length="horizontal"===this.config.mode?t.width:t.height)},_.prototype._initHotkeys=function(){var t,e=this,i={arrowLeft:function(t){t.preventDefault(),e._move(-e.config.step,t.target.classList.contains("dhx_slider__thumb--extra"))},arrowRight:function(t){t.preventDefault(),e._move(e.config.step,t.target.classList.contains("dhx_slider__thumb--extra"))},arrowUp:function(t){t.preventDefault(),e._move(e.config.step,t.target.classList.contains("dhx_slider__thumb--extra"))},arrowDown:function(t){t.preventDefault(),e._move(-e.config.step,t.target.classList.contains("dhx_slider__thumb--extra"))}};for(t in i)this._keyManager.addHotKey(t,i[t])},_.prototype._move=function(t,e){this.config.inverse&&(t=-t);var i=this.config,n=i.max,o=i.min,r=e?this._getValue(this._extraCurrentPosition):this._getValue(this._currentPosition),i=r+t;this._setValue(r+t,e),(n<i||i<o)&&(i=r),this.events.fire(h.SliderEvents.change,[i,r,e]),this.paint()},_.prototype._initStartPosition=function(){var t,e,i=this.config,n=i.max,o=i.min,r=i.range,i=(t=this.config.value,e=this.config.min,i=this.config.max,(t=void 0===t?[]:Array.isArray(t)?t:"string"==typeof t?t.split(",").map(function(t){return parseInt(t,10)}):[t])[0]=void 0===t[0]?e:p(t[0],e,i),t[1]=void 0===t[1]?i:p(t[1],e,i),t),t=i[0],i=i[1];this._currentPosition=(t-o)/(n-o)*100,r&&(this._extraCurrentPosition=(n-i)/(n-o)*100),this._currentPosition=(t-o)/(n-o)*100,r&&(this._extraCurrentPosition=(i-o)/(n-o)*100),this._isInverse()&&(this._currentPosition=100-this._currentPosition,r&&(this._extraCurrentPosition=100-this._extraCurrentPosition))},_.prototype._getValue=function(t){this._isInverse()&&(t=100-t);var e=this.config,i=e.min,n=e.max,e=e.step;if(100===t)return n;if(0===t)return i;t=t*(n-i)/100,n=t%e,e=e/2<=n?e:0;return+(Number(i)+Number(t)-n+e).toFixed(5)},_.prototype._setValue=function(t,e){void 0===e&&(e=!1);var i=this.config,n=i.max,i=i.min;if(n<t||t<i)return!1;i=(t-i)/(n-i)*100,i=this._isInverse()?100-i:i;e?this._extraCurrentPosition=i:this._currentPosition=i},_.prototype._initHandlers=function(){function e(t){if(t.targetTouches||t.preventDefault(),t=((t.targetTouches?t.targetTouches[0]:t)[n._axis]-n._getBegining())/n._length*100,n._findNewDirection){if(Math.abs(n._currentPosition-t)<1)return;t>n._currentPosition?n._possibleRange=[n._currentPosition,100]:n._possibleRange=[0,n._currentPosition],n._findNewDirection=null}n._inSide(t)&&n._updatePosition(t,n._isExtraActive),n.paint()}function i(t){var e,i;n._disabled||3===t.which||(n.events.fire(h.SliderEvents.mousedown,[t]),n._isMouseMoving=!0,e=t.target.classList.contains("dhx_slider__thumb--extra")?(n._isExtraActive=!0,n._extraCurrentPosition):(n._isExtraActive=!1,n._currentPosition),n._findNewDirection=null,n.config.range?(t=(i=n._currentPosition>n._extraCurrentPosition?[n._currentPosition,n._extraCurrentPosition]:[n._extraCurrentPosition,n._currentPosition])[0],i=i[1],n._currentPosition===n._extraCurrentPosition?(n._findNewDirection=e,n._possibleRange=[0,100]):n._possibleRange=e<t?[0,t]:[i,100]):n._possibleRange=[0,100])}var n=this,o=function(t){n.events.fire(h.SliderEvents.mouseup,[t]),setTimeout(function(){n._isMouseMoving=!1,n.paint()},4),t.targetTouches?(document.removeEventListener("touchend",o),document.removeEventListener("touchmove",e)):(document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",e))};this.config.helpMessage&&(this._helper=new u.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(t){t.preventDefault(),t.stopPropagation(),n._helper.show(t.target)},onmousedown:function(t){i(t),document.addEventListener("mousemove",e),document.addEventListener("mouseup",o)},ontouchstart:function(t){n._setTooltip(t),n._mouseIn=!1,i(t),document.addEventListener("touchmove",e),document.addEventListener("touchend",o),n.paint()},ontouchend:function(t){n._setTooltip(t),n._mouseIn=!1,n.paint()},onlabelClick:function(){n.getRootView().refs.runner.el.focus()},onclick:function(t){var e;n._disabled||n._isMouseMoving||3===t.which||(e=(t[n._axis]-n._getBegining())/n._length*100,t=n.getRootView().refs,!n.config.range||Math.abs(n._currentPosition-e)<Math.abs(n._extraCurrentPosition-e)?(n._updatePosition(e,!1),t.runner.el.focus()):(n._updatePosition(e,!0),t.extraRunner.el.focus()),n.paint())},onmouseover:function(t){n._setTooltip(t),n._mouseIn=!0,n.paint()},onmouseout:function(t){n._setTooltip(t),n._mouseIn=!1,n.paint()},onfocus:function(t){n._setTooltip(t),n._focusIn=!0,n.events.fire(h.SliderEvents.focus,[]),n.paint()},onblur:function(t){n._setTooltip(t),n._focusIn=!1,n.events.fire(h.SliderEvents.blur,[]),n.paint()},onkeydown:function(t){n.events.fire(h.SliderEvents.keydown,[t])}}},_.prototype._getBegining=function(){return"horizontal"===this.config.mode?this._offsets.left-window.pageXOffset:this._offsets.top-window.pageYOffset},_.prototype._inSide=function(t){var e=this._possibleRange;return t<e[0]?(this._updatePosition(e[0],this._isExtraActive),!1):!(t>e[1])||(this._updatePosition(e[1],this._isExtraActive),!1)},_.prototype._updatePosition=function(t,e){void 0===e&&(e=!1),100<t&&(t=100),t<0&&(t=0);var i=this.config,n=i.max,o=i.min,i=e?this._extraCurrentPosition:this._currentPosition,i=this._getValue(i),t=this._getValue(t);i!==t&&(o=(t-o)/(n-o)*100,o=this._isInverse()?100-o:o,e?this._extraCurrentPosition=o:this._currentPosition=o,this.events.fire(h.SliderEvents.change,[t,i,e]))},_.prototype._getRunnerStyle=function(t){void 0===t&&(t=!1);var e="horizontal"===this.config.mode?"left":"top",i=t?this._extraCurrentPosition:this._currentPosition;return(t={})[e]=i+"%",t},_.prototype._isInverse=function(){return this.config.inverse&&"horizontal"===this.config.mode||!this.config.inverse&&"vertical"===this.config.mode},_.prototype._getRunnerCss=function(t){return void 0===t&&(t=!1),"dhx_slider__thumb"+(t?" dhx_slider__thumb--extra":"")+(this._isMouseMoving&&(t&&this._isExtraActive||!t&&!this._isExtraActive)?" dhx_slider__thumb--active":"")+(this._disabled?" dhx_slider__thumb--disabled":"")+(this._isNullable(t?this._extraCurrentPosition:this._currentPosition)&&!this.config.range?" dhx_slider__thumb--nullable":"")},_.prototype._draw=function(){var t=this.config,e=t.labelPosition,i=t.mode,n=t.hiddenLabel,o=t.tick,r=t.majorTick,a=t.css,s=t.helpMessage,t=f.getLabelStyle(l(l({},this.config),{required:!1}));return!this._tooltip||this._mouseIn&&this._focusIn&&this._isMouseMoving||document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),d.el("div",{class:"dhx_slider dhx_slider--mode_"+i+("left"===e?" dhx_slider--label-inline":"")+(n?" dhx_slider--label_sr":"")+(o?" dhx_slider--ticks":"")+(r?" dhx_slider--major-ticks":"")+(a?" "+a:"")+(this._disabled?" dhx_slider--disabled":"")},[t?d.el("label.dhx_label.dhx_slider__label",{style:t.style,class:s?"dhx_label--with-help":"",onclick:this._handlers.onlabelClick},s?[t.label&&d.el("span.dhx_label__holder",t.label),d.el("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper})]:t.label):null,this._drawSlider()])},_.prototype._drawSlider=function(){return d.el(".dhx_widget.dhx_slider__track-holder",{dhx_widget_id:this._uid},[d.el(".dhx_slider__track",{_ref:"track",onmouseover:this._handlers.onmouseover,onmouseout:this._handlers.onmouseout,onclick:this._handlers.onclick},[this._getDetector(),d.el("div",{_ref:"runner",class:this._getRunnerCss(),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(),tabindex:0}),this.config.tooltip&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip():null,this.config.tooltip&&this.config.range&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip(!0):null,this.config.range?d.el("div",{_ref:"extraRunner",class:this._getRunnerCss(!0),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(!0),tabindex:0}):null]),this.config.tick?this._drawTicks():null])},_.prototype._getDetector=function(){var t;if(this._disabled)return d.el(".dhx_slider__range");var e="horizontal"===this.config.mode?"left":"top",i="horizontal"===this.config.mode?"width":"height";if(this.config.range){var n=this._currentPosition>this._extraCurrentPosition?[this._currentPosition,this._extraCurrentPosition]:[this._extraCurrentPosition,this._currentPosition],o=n[0],r=n[1];return d.el(".dhx_slider__range",{style:((n={})[e]=r+"%",n[i]=o-r+"%",n)})}return this._isInverse()?d.el(".dhx_slider__range",{style:((t={})[e]=this._currentPosition+"%",t[i]=100-this._currentPosition+"%",t)}):d.el(".dhx_slider__range",{style:((t={})[e]=0,t[i]=this._currentPosition+"%",t)})},_.prototype._drawTooltip=function(t){var e,i,n;void 0===t&&(t=!1),"none"!==this._activeTooltip&&this.getRootView()&&(e="extraTooltip"===this._activeTooltip?this._extraCurrentPosition:this._currentPosition,i="horizontal"===this.config.mode?"left":"top",n="",(t&&this._isExtraActive||!t&&!this._isExtraActive)&&(n+=" dhx_slider__thumb-label--active"),this._tooltip||(this._tooltip=document.createElement("div")),t=("tooltip"===this._activeTooltip?this.getRootView().refs.runner:this.getRootView().refs.extraRunner).el.getBoundingClientRect(),this._tooltip.className="dhx_slider__thumb-label"+n,this._tooltip.style.left=t.x+("left"==i?6:-30)+window.pageXOffset+"px",this._tooltip.style.top=t.y+("left"==i?-30:6)+window.pageYOffset+"px",this._tooltip.innerText=this._getValue(e).toString(),document.body.appendChild(this._tooltip))},_.prototype._getTicks=function(){for(var t=this.config,e=t.max,i=t.min,n=t.step,o=t.tick,r=t.majorTick,a=e-i,s=n*o/a,l=[],d=0,c=0;d<1;){var u=+(Number(i)+d*a).toFixed(5),h=c%r==0;l.push({position:(this._isInverse()?100*(1-d):100*d)+"%",isMultiple:h,label:h&&"function"==typeof this.config.tickTemplate?this.config.tickTemplate(u):null}),d+=s,c++}return l.push({position:(this._isInverse()?0:100)+"%",isMultiple:!0,label:"function"==typeof this.config.tickTemplate?this.config.tickTemplate(e):null}),l},_.prototype._drawTicks=function(){var i="horizontal"===this.config.mode?"left":"top";return d.el(".dhx_slider__ticks-holder",this._getTicks().map(function(t){var e;return d.el("div",{class:"dhx_slider__tick"+(t.isMultiple?" dhx_slider__tick--major":""),style:((e={})[i]=t.position,e)},void 0!==t.label?[d.el(".dhx_slider__tick-label",t.label)]:null)}))},_.prototype._isNullable=function(t){return this._isInverse()?100===t:0===t},_.prototype._setTooltip=function(t){t.target.classList.contains("dhx_slider__thumb--extra")?this._activeTooltip="extraTooltip":t.target.classList.contains("dhx_slider__thumb")?this._activeTooltip="tooltip":this._activeTooltip="none"},_);function _(t,e){var i=g.call(this,t,r.extend({mode:"horizontal",min:0,max:100,step:1,tooltip:!0},e))||this;i._disabled=!1,i.config.helpMessage=i.config.helpMessage||i.config.help,void 0!==i.config.thumbLabel&&(i.config.tooltip=i.config.thumbLabel),i.config.labelInline&&(i.config.labelPosition="left"),i.events=new a.EventSystem(i),i._axis="horizontal"===i.config.mode?"clientX":"clientY",i._initStartPosition(),i._keyManager=new s.KeyManager(function(){var t;return document.activeElement===(null===(t=i.getRootView().refs[i._isExtraActive?"extraRunner":"runner"])||void 0===t?void 0:t.el)}),i._initHotkeys();e=d.create({render:function(){return i._draw()},hooks:{didMount:function(){return i._calcSliderPosition()},didRedraw:function(){return i._calcSliderPosition()}}});return i._initHandlers(),i.mount(t,e),i}e.Slider=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(1),l=i(0),d=i(4),c=i(2),u=i(6),h=i(60),o=(r=u.View,o(f,r),f.prototype.show=function(t,e,i){var n=this;void 0===e&&(e={}),this.events.fire(h.PopupEvents.beforeShow,[t])&&(t=c.toNode(t),this._isActive?this._setPopupSize(t,e):(i&&this.attach(i),this._popup.style.left="0",this._popup.style.top="0",l.awaitRedraw().then(function(){n._setPopupSize(t,e),n._popup.style.position="fixed",document.body.appendChild(n._popup),n._isActive=!0}).then(function(){n._popup.style.position="absolute",n.events.fire(h.PopupEvents.afterShow,[t]),n._outerClickDestructor=n._detectOuterClick(t)})))},f.prototype.hide=function(){this._hide(!1,null)},f.prototype.isVisible=function(){return this._isActive},f.prototype.attach=function(t,e){return this._html=null,"object"==typeof t?this._ui=t:"string"==typeof t?this._ui=new window.dhx[t](null,e):"function"==typeof t&&(t.prototype instanceof u.View?this._ui=new t(null,e):this._ui={getRootView:function(){return t(e)}}),this.paint(),this._ui},f.prototype.attachHTML=function(t){this._html=t,this.paint()},f.prototype.getWidget=function(){return this._ui},f.prototype.getContainer=function(){return this.getRootView().refs.content.el},f.prototype.toVDOM=function(){var t;return this._html?t=l.el(".dhx_popup__inner-html-content",{".innerHTML":this._html}):(t=this._ui?this._ui.getRootView():null)&&t.render&&(t=l.inject(t)),l.el("div",{class:"dhx_popup-content",tabindex:0,onclick:this._clickEvent,_key:this._uid,_ref:"content"},[t])},f.prototype.destructor=function(){this.hide(),this._outerClickDestructor&&this._outerClickDestructor(),this._popup=null},f.prototype._setPopupSize=function(t,e,i){var n=this;void 0===i&&(i=3);var o=this._popup.getBoundingClientRect(),r=o.width,o=o.height;if(this._timeout&&(clearTimeout(this._timeout),this._timeout=null),!i||0!==r&&0!==o){r=c.fitPosition(t,a(a({centering:!0,mode:"bottom"},e),{width:r,height:o})),o=r.left,r=r.top;if(this._popup.style.left=o,this._popup.style.top=r,e.indent&&0!==e.indent)switch(e.mode){case"top":this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)-parseInt(e.indent.toString(),null)+"px";break;case"bottom":this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)+parseInt(e.indent.toString(),null)+"px";break;case"left":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)-parseInt(e.indent.toString(),null)+"px";break;case"right":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)+parseInt(e.indent.toString(),null)+"px";break;default:this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)+parseInt(e.indent.toString(),null)+"px"}}else this._timeout=setTimeout(function(){n._isActive&&(n._setPopupSize(t,e,i-1),n._timeout=null)})},f.prototype._detectOuterClick=function(i){var n=this,o=function(t){for(var e=t.target;e;){if(e===i||e===n._popup)return;e=e.parentNode}n._hide(!0,t)&&document.removeEventListener("mousedown",o)};return document.addEventListener("mousedown",o),function(){return document.removeEventListener("mousedown",o)}},f.prototype._hide=function(t,e){if(this._isActive)return!!this.events.fire(h.PopupEvents.beforeHide,[t,e])&&(document.body.removeChild(this._popup),this._isActive=!1,this._outerClickDestructor&&(this._outerClickDestructor(),this._outerClickDestructor=null),this.events.fire(h.PopupEvents.afterHide,[e]),!0)},f);function f(t){void 0===t&&(t={});var e=r.call(this,null,s.extend({},t))||this,i=e._popup=document.createElement("div");return i.className="dhx_widget dhx_popup"+(e.config.css?" "+e.config.css:""),i.style.position="absolute",i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),i.setAttribute("aria-live","polite"),e.mount(i,l.create({render:function(){return e.toVDOM()}})),e._clickEvent=function(t){return e.events.fire(h.PopupEvents.click,[t])},e.events=t.events||new d.EventSystem(e),e._isActive=!1,e}e.Popup=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={hours:"Hours",minutes:"Minutes",save:"Save"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeCheck=function(t){return/(^12:[0-5][0-9]?AM$)/i.test(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linkButtonClasses=".dhx_button.dhx_button--view_link.dhx_button--icon.dhx_button--size_medium.dhx_button--color_secondary"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=i(3),i=(a.prototype.endEdit=function(){var t=this._checked;this._config.events.fire(r.GridEvents.beforeEditEnd,[t,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(r.GridEvents.afterEditEnd,[t,this._cell.row,this._cell.col])):this._input.checked=!t},a.prototype.toHTML=function(){void 0===this._checked&&(this._checked=this._cell.row[this._cell.col.id]);var t=n.uid();return o.el("div.dhx_checkbox.dhx_cell-editor__checkbox",[o.el("label",{style:{display:"none"},for:t},this._checked||"false"),o.el("input.dhx_checkbox__input",{type:"checkbox",_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",checked:this._checked,id:t,style:{userSelect:"none"}}),o.el("span.dhx_checkbox__visual-input")])},a.prototype._initHandlers=function(){var e=this;this._handlers={onClick:function(){var t=!e._input.checked;e._config.events.fire(r.GridEvents.beforeEditStart,[e._cell.row,e._cell.col,"checkbox"])?(e._checked=t,e._config.events.fire(r.GridEvents.afterEditStart,[e._cell.row,e._cell.col,"checkbox"]),e.endEdit()):e._input.checked=!t},didInsert:function(t){e._checkbox=t.el.parentNode.lastChild,e._input=t.el.parentNode.querySelector("input"),t.el.parentNode.addEventListener("click",e._handlers.onClick)}}},a);function a(t,e,i){this._config=i,this._cell={row:t,col:e},this._initHandlers()}e.CheckboxEditor=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(3),r=i(64),a=i(24),i=(s.prototype.endEdit=function(t){var e;t||(e=this._input.getValue(),e="multiselect"===this._cell.col.editorType?e.split(",").join(", "):e),this._config.events.fire(o.GridEvents.beforeEditEnd,[e,this._cell.row,this._cell.col])?(this._input.popup.hide(),document.removeEventListener("mousedown",this._handlers.onOuterClick),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),a.focusManager.setFocusId(this._config.gridId),this._config.events.fire(o.GridEvents.afterEditEnd,[e,this._cell.row,this._cell.col])):this._input.focus()},s.prototype.toHTML=function(){var e=this,t=this._cell.col.options.map(function(t){return"string"==typeof t?{id:""+t,value:t}:t})||[];return this._input||(this._input=new r.Combobox(null,{cellHeight:37,css:"dhx_cell-editor__combobox",multiselection:"multiselect"===this._cell.col.editorType}),this._input.data.parse(t),t=this._cell.row[this._cell.col.id],t="multiselect"===this._cell.col.editorType?(t||"").split(", "):t,this._input.setValue(t),this._input.events.on("keydown",this._handlers.onkeydown)),document.addEventListener("mousedown",this._handlers.onOuterClick),this._config.$editable.editor=this,n.awaitRedraw().then(function(){var t=e._input.getRootView().refs.holder.el;e._input.popup.getContainer().style.width=t.offsetWidth+"px",e._input.popup.show(t)}),a.focusManager.setFocusId(this._input._uid),n.inject(this._input.getRootView())},s.prototype._initHandlers=function(){var i=this;this._handlers={onOuterClick:function(t){var e;t.target instanceof Node&&(e=i._input&&i._input.getRootNode()&&i._input.getRootNode().contains(t.target),t=i._input.popup&&i._input.popup.getRootNode()&&i._input.popup.getRootNode().contains(t.target),e||t||i.endEdit())},onkeydown:function(t){"Escape"!==t.key&&"Tab"!==t.key||i.endEdit()}}},s);function s(t,e,i){this._config=i,this._cell={row:t,col:e},this._initHandlers()}e.ComboboxEditor=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KEY_CODES={BACKSPACE:8,ENTER:13,ESC:27,DOWN_ARROW:40,UP_ARROW:38,LEFT_ARROW:37,RIGHT_ARROW:39}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(135);e.getEditor=function(t,e){return new n.InputEditor(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(37),i=(r.prototype.endEdit=function(){var t;this._input&&(t=this._input.value,this._list.events.fire(o.ListEvents.beforeEditEnd,[t,this._item.id])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._input.removeEventListener("keydown",this._handlers.onKeyDown),this._handlers={},this._mode=!1,this._list.events.fire(o.ListEvents.afterEditEnd,[t,this._item.id])):this._input.focus())},r.prototype.toHTML=function(){this._mode=!0;var t=this._config.itemHeight;return n.el(".dhx_input__wrapper",{role:"presentation"},[n.el("div.dhx_input__container",{role:"presentation"},[n.el("input.dhx_input",{class:this._item.css?" "+this._item.css:"",style:{height:t,width:"100%",padding:"8px 12px"},_hooks:{didInsert:this._handlers.didInsert},_key:this._item.id,dhx_id:this._item.id})])])},r.prototype._initHandlers=function(){var e=this;this._handlers={onBlur:function(){e.endEdit()},onChange:function(){e.endEdit()},onKeyDown:function(t){"Enter"===t.code&&e._item.value===e._input.value&&e.endEdit()},didInsert:function(t){t=t.el;(e._input=t).focus(),t.value=e._item.value,t.setSelectionRange(0,t.value.length),t.addEventListener("change",e._handlers.onChange),t.addEventListener("blur",e._handlers.onBlur),t.addEventListener("keydown",e._handlers.onKeyDown)}}},r);function r(t,e){var i=this;this._list=e,this._config=e.config,this._item=t,this._list.events.on(o.ListEvents.focusChange,function(t,e){i._mode&&e!==i._item.id&&i.endEdit()}),this._initHandlers()}e.InputEditor=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,l=i(0),d=i(36),i=i(67),o=(s=i.List,o(c,s),c.prototype.destructor=function(){s.prototype.destructor.call(this),this.scrollView=null},c.prototype.showItem=function(t){var e,i,n,o=this.getRootView();o&&o.node&&o.node.el&&void 0!==t&&((e=this.getRootNode())&&(i=this.config.virtual,n=this.data.getIndex(t),o=Math.floor(n/e.children.length)||0,t=e.children[n-e.children.length*o],(i||t)&&(o=i?parseInt(this.config.itemHeight):t.clientHeight,(t=i?n*o:t.offsetTop)>=e.scrollTop+e.clientHeight-o?e.scrollTo(0,t-e.clientHeight+o):t<e.scrollTop&&e.scrollTo(0,t))))},c.prototype._renderList=function(){var i=this,t=this._getRange(),e=this.data.getRawData(t[0],t[1]).map(function(t,e){return i._renderItem(t,e)});this.config.virtual&&(e=a([l.el(".div",{style:{height:t[2]+"px"}})],e,[l.el(".div",{style:{height:t[3]+"px"}})]));var n=this.scrollView&&this.scrollView.config.enable,t=(this.config.css||"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":"")+(n?" dhx_list--scroll-view":"");return l.el("ul.dhx_widget.dhx_list",r(r({style:{"max-height":this.config.height,position:"relative"},class:t,dhx_widget_id:this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),n?[].concat(this.scrollView.render(e)):e)},c);function c(t,e){var i=s.call(this,t,e)||this;return i.scrollView=new d.ScrollView(function(){return i.getRootView()}),i.paint(),i}e.ProList=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.startNewListen=function(t){this._isActive=!0,this._sequence="",this._currentAction=t},o.prototype.endListen=function(){this._currentAction=null,this.reset(),this._isActive=!1},o.prototype.reset=function(){this._sequence=""},o.prototype._change=function(){this._currentAction(this._sequence),this._addClearTimeout()},o.prototype._addClearTimeout=function(){var t=this;this._clearTimeout&&clearTimeout(this._clearTimeout),this._clearTimeout=setTimeout(function(){t.reset(),t._clearTimeout=null},2e3)},o);function o(){var e=this;this._sequence="",document.addEventListener("keydown",function(t){e._isActive&&("Backspace"===(t=t.key)&&0<e._sequence.length&&(e._sequence=e._sequence.slice(0,e._sequence.length-1),e._change()),t.length<2&&(e._sequence+=t,e._change()))})}e.KeyListener=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(65),s=i(66),l=i(28),d=i(70),o=(r=a.Combobox,o(c,r),c.prototype._createLayout=function(){var t=this.list=new s.ProList(null,{template:this.config.template,virtual:this.config.virtual,keyNavigation:!1,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),e=this._layout=new l.ProLayout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll}}});e.getCell("list").attach(t),this.config.multiselection&&this.config.selectAllButton&&e.getCell("select-unselect-all").attach(d.selectAllView)},c);function c(t,e){return r.call(this,t,e)||this}e.ProCombobox=o},function(t,e,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),a=i(3),o=i(1),s=i(13),i=(l.prototype.endEdit=function(t){var e;t||(e=this._editor.value),this._config.events.fire(a.GridEvents.beforeEditEnd,[e,this._cell.row,this._cell.col])?(this._editor.removeEventListener("blur",this._handlers.onBlur),this._editor.removeEventListener("change",this._handlers.onChange),this._editor.removeEventListener("input",this._handlers.onInput),"string"!==this._cell.col.type&&o.isNumeric(e)&&(e=parseFloat(e)),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(a.GridEvents.afterEditEnd,[e,this._cell.row,this._cell.col])):this._editor.focus()},l.prototype.toHTML=function(){var t=this._cell.row[this._cell.col.id];this._editor&&(t=this._editor.value);var e=void 0!==(this._config.$editable.editor=this)._cell.row.height||this._cell.col.htmlEnable?"dhx_cell-editor dhx_cell-editor__textarea_constant-height":"dhx_cell-editor dhx_cell-editor__textarea";return n.el("textarea",{_hooks:{didInsert:this._handlers.didInsert},_ref:"textarea",_key:"cell_editor",dhx_id:"cell_editor",value:t,class:e,style:{width:this._width}})},l.prototype._initHandlers=function(){var o=this;this._handlers={onBlur:function(){o.endEdit()},onChange:function(){o.endEdit()},onInput:function(t){if(void 0===o._cell.row.height&&!o._cell.col.htmlEnable){var e=o._getCurrentHeight(o._editor.value,{width:o._cell.col.$width-2,maxHeight:o._config.rowHeight});o._cell.row[o._cell.col.id]=o._editor.value;var i=s.getCalculatedRowHeight(s.getMaxRowHeight(o._cell.row,o._config.columns)),n=s.getCalculatedRowHeight(s.getMaxRowHeight(((n={})[o._cell.col.id]=o._cell.row[o._cell.col.id],n),o._config.columns));if(o._minHeight=i===n?o._config.rowHeight:i,e>=o._minHeight&&e!==o._prevHeight){if(!o._config.events.fire(a.GridEvents.beforeRowResize,[o._cell.row,t,e]))return;o._config.events.fire(a.GridEvents.afterRowResize,[o._cell.row,t,e])}o._prevHeight=e}},didInsert:function(t){o._editor=t.el,o._editor.focus(),o._editor.setSelectionRange(0,o._editor.value.length),o._editor.addEventListener("change",o._handlers.onChange),o._editor.addEventListener("blur",o._handlers.onBlur),o._editor.addEventListener("input",o._handlers.onInput)}}},l.prototype._getCurrentHeight=function(t,e){e=r({width:100,maxHeight:40,lineHeight:20},e);var i=document.createElement("textarea");i.className="dhx_cell-editor dhx_cell-editor__textarea",i.value=t,i.style.width=e.width+"px",i.style.lineHeight=e.lineHeight+"px",i.style.maxHeight=e.maxHeight+"px",i.style.boxSizing="border-box",document.body.appendChild(i);var n=this._getElementHeight(i),o=i.value.split("\n").length,t=Math.round(n/e.lineHeight),n=n<e.maxHeight?e.maxHeight:n;return document.body.removeChild(i),1===o&&o===t?e.maxHeight:n},l.prototype._getElementHeight=function(t){return t.scrollHeight},l);function l(t,e,i){this._config=i,this._cell={row:t,col:e},this._width=this._cell.col.$width;e=0;this._config.firstColId===this._cell.col.id&&this._cell.row.hasOwnProperty("$level")&&(e=s.getTreeCellWidthOffset(this._cell.row)),this._width-=e-4,this._initHandlers()}e.TextAreaEditor=i},function(t,e,i){"use strict";var f=this&&this.__assign||function(){return(f=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},p=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var g=i(0),_=i(2),v=i(34),m=i(72),y=i(9);e.getFixedColsHeader=function(t,e){if("number"==typeof t.leftSplit){for(var i=0,n=0;n<t.leftSplit;n++)t.columns[n].hidden&&i++;if(i!==t.leftSplit){for(var o=t.columns.slice(0,t.leftSplit-i),r=0,a=0,s=o;a<s.length;a++)r+=s[a].$width;o=0<=t.leftSplit&&m.getFixedRows(f(f({},t),{currentColumns:o,$positions:f(f({},t.$positions),{xStart:0,xEnd:t.leftSplit}),scroll:{top:0,left:0},columns:o}),f(f({},e),{name:"header",position:"top",shifts:{x:0,y:0}})),e=f(f({},e),{name:"header",position:"top"});return o&&g.el(".dhx_"+e.name+"-fixed-cols",f({style:{position:"absolute",top:0,left:0,maxWidth:r,overflow:"hidden"}},{role:"rowgroup","aria-rowcount":o.length}),o.body)}}},e.getFixedCols=function(t,e){if("number"==typeof t.leftSplit){for(var i=0,n=0;n<t.leftSplit;n++)t.columns[n].hidden&&i++;if(i!==t.leftSplit){var o=t.$totalWidth<=e.wrapper.width?0:_.getScrollbarWidth(),r=t.$totalHeight+t.headerHeight+t.footerHeight,a=r>e.gridBodyHeight?r-o:r<e.gridBodyHeight-o?r:e.gridBodyHeight,s=t.columns.slice(0,t.leftSplit-i);t.fixedColumnsWidth=y.getTotalWidth(s);var l=v.getCells(f(f({},t),{columns:s,$positions:f(f({},t.$positions),{xStart:0,xEnd:t.leftSplit})})),d=e.sticky,c=f(f({},e),{name:"footer",position:"bottom"}),u=0<=t.leftSplit&&m.getRows(f(f({},t),{currentColumns:s,$positions:f(f({},t.$positions),{xStart:0,xEnd:t.leftSplit})}),f(f({},e),{name:"footer",position:"bottom"})),h=0;u&&u.forEach(function(t){return h+=t.attrs.style.height});r=function(t){return{role:"rowgroup","aria-rowcount":t}},s=d?u&&g.el(".dhx_"+c.name+"-fixed-cols",f({style:{position:"absolute",top:a<e.gridBodyHeight?a-h:null,left:0,bottom:a>=e.gridBodyHeight?0+(d?o:0)+"px":null}},r(u.length)),u):null,c=t.$positions,u=v.getSpans(t,!0);return[g.el(".dhx_grid-fixed-cols-wrap",f({style:{height:a>=e.gridBodyHeight?(d?e.gridBodyHeight:e.gridBodyHeight+t.headerHeight)-o:a,paddingTop:t.headerHeight,overflow:"hidden",width:t.fixedColumnsWidth}},{role:"presentation","aria-label":"Fixed column"}),[g.el(".dhx_grid-fixed-cols",f(f({style:{top:-t.scroll.top+t.headerHeight-1+"px",paddingTop:e.shifts.y,height:t.$totalHeight,position:"absolute"},_flags:g.KEYED_LIST},v.getHandlers(c.yStart,c.xStart,t)),r(t.data.length)),p([u&&g.el(".dhx_span-spans",{role:"presentation"},[u])],l)),g.el(".dhx_frozen-cols-border",{role:"presentation"})]),t.$footer?s:null]}}}},function(t,e,i){"use strict";var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(0),l=i(64),d=i(5),c=i(3),n=i(13),u=i(2),r=i(1);function h(e,i,n,o,r){function t(){var t=(u.isIE()||u.isSafari()?r.target:r.path?r.path[0]:r.explicitOriginalTarget).value;o.value[i]=t,e.fire(c.GridEvents.filterChange,[t,i,n])}"selectFilter"!==n?(a&&clearTimeout(a),a=setTimeout(t,250)):t()}function f(t,n,e,i){if(t&&n&&e){var o=t.id,t=i?i(o,n.data):n.data.reduce(function(t,e){return void 0===e[o]||""===e[o]||isNaN(e[o])||t.push(parseFloat(e[o])),t},[]),i=t;return"tree"===n.type&&(i=n.data.reduce(function(t,e){var i;return 0===e.$level&&(void 0===e[o]||""===e[o]||isNaN(e[o])?(i=0,n.datacollection.eachChild(e.id,function(t){n.datacollection.haveItems(t.id)||(i+=parseFloat(t[o]))}),t.push(i)):t.push(parseFloat(e[o])||0)),t},[])),e(t,i)}}e.getContent=function(){var i=this;return{inputFilter:{element:{},toHtml:function(t,e){var i=r.uid(),n=t.id.toString();return this.element[n]=s.el("div.dhx_grid-filter__label.dxi.dxi-magnify",{"aria-label":"Type to search",_ref:t.id+"_filter"},[s.el("label",{style:{display:"none"},"aria-label":"Type to search",for:i},"Type to search"),s.el("input",{type:"text",class:"dhx_input dhx_grid-filter",oninput:[h,e.events,t.id,"inputFilter",this],_key:t.id,id:i,value:this.value[t.id]||""})]),this.element[n]},match:function(t,e){for(var i="",n=0;n<e.length;n++){var o=e.charCodeAt(n);i+=32<o&&o<48||63===o||90<o&&o<95||124===o?"\\"+e[n]:e[n]}return new RegExp(""+i,"i").test(t)},value:{}},selectFilter:{element:{},toHtml:function(e,t){var i=this,n=e.id.toString();return this.element[n]=s.el("label.dhx_grid-filter__label.dxi.dxi-menu-down",{_ref:e.id+"_filter"},[s.el("select.dxi.dxi-menu-down",{type:"text",class:"dhx_input dhx_grid-filter dhx_grid-filter--select",onchange:[h,t.events,e.id,"selectFilter",this],_key:e.id},o([s.el("option",{value:""},"")],e.$uniqueData.map(function(t){return""!==(t=null!=t?t:"")&&s.el("option",{value:t,selected:i.value[e.id]===t.toString()},t)})))]),this.element[n]},match:function(t,e){return!e||t&&t.toString()==e},value:{}},comboFilter:{element:{},toHtml:function(i,n){var t,o,r=i.id.toString();return!this.element[r]&&n.events?(t=i.header.filter(function(t){return void 0!==t.filterConfig})[0],(o=t&&t.filterConfig?new l.Combobox(null,Object.assign({},t.filterConfig)):new l.Combobox(null,{})).data.parse(i.$uniqueData.map(function(t){return{value:t}})),n.events.on(d.DataEvents.load,function(){o.data.parse(i.$uniqueData.map(function(t){return{value:t}}))}),(this.element[r]=o).events.on("change",function(t){var e;t&&(e=void 0,(Array.isArray(t)?t.find(function(t){return o.data.getItem(t)}):o.data.getItem(t))?(e=o.config.multiselection?o.list.selection.getItem().map(function(t){if(t&&o.data.getItem(t.id))return t.value}):o.list.selection.getItem().value,n.events.fire(c.GridEvents.filterChange,[e,r,"comboFilter"])):n.events.fire(c.GridEvents.filterChange,["",r,"comboFilter"]))}),n.events.on(d.DataEvents.change,function(t,e){"add"!==e&&"update"!==e&&"remove"!==e||(o.data.parse(i.$uniqueData.map(function(t){return{value:t}})),o.events.fire(l.ComboboxEvents.change,[o.list.selection.getItem()]))}),n.events.on(d.DataEvents.removeAll,function(){o.data.parse(i.$uniqueData.map(function(t){return{value:t}})),o.events.fire(l.ComboboxEvents.change,[o.list.selection.getItem()])}),o.popup.events.on("afterHide",function(){o.list.selection.getItem()&&(!o.config.multiselection||o.list.selection.getItem().length)||(o.clear(),n.events.fire(c.GridEvents.filterChange,["",r,"comboFilter"]))})):o=this.element[i.id]||new l.Combobox(null,{}),s.inject(o.getRootView())},match:function(t,i,e,n){if(void 0===i&&(i=""),void 0===n&&(n=!1),Array.isArray(i)){for(var o=void 0,r=0;r<i.length;r++)if("break"===function(e){if(o=n?!!t.split(", ").find(function(t){return t===i[e]}):i[e]===t)return"break"}(r))break;return!i||!i.length||o}return""===i||t===i},destroy:function(){if(i.content&&i.content.comboFilter.element){var t,e=i.content.comboFilter.element;for(t in e)e[t].destructor(),delete e[t]}},value:{}},sum:{calculate:function(t,e){return e.reduce(function(t,e){return t+(parseFloat(e)||0)},0)},toHtml:function(t,e){e=f(t,e,this.calculate);return t.format||"percent"===t.type?n.toFormat(e,t.type,t.format):e?e.toFixed(3):null}},avg:{calculate:function(t,e){return t.length?e.reduce(function(t,e){return t+e},0)/t.length:null},toHtml:function(t,e){e=f(t,e,this.calculate);return t.format||"percent"===t.type?n.toFormat(e,t.type,t.format):e?e.toFixed(3):null}},min:{calculate:function(t){return t.length?Math.min.apply(Math,t):null},toHtml:function(t,e){e=f(t,e,this.calculate);return t.format||"percent"===t.type?n.toFormat(e,t.type,t.format):e?e.toFixed(3):null}},max:{calculate:function(t){return t.length?Math.max.apply(Math,t):null},toHtml:function(t,e){e=f(t,e,this.calculate);return t.format||"percent"===t.type?n.toFormat(e,t.type,t.format):e?e.toFixed(3):null}},count:{calculate:function(t,e){return e.reduce(function(t,e){return t+e},0)},validate:function(i,t){return t.reduce(function(t,e){return void 0!==e[i]&&""!==e[i]&&(isNaN(e)?t.push(1):t.push(e)),t},[])},toHtml:function(t,e){return f(t,e,this.calculate,this.validate)}}}}},function(t,e,i){"use strict";var h=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var f=i(1),p=i(3),g=i(2);e.startResize=function(s,l,t,e){t.targetTouches&&t.preventDefault();var d=(t.targetTouches?t.targetTouches[0]:t).clientX,c=s.config.columns.filter(function(t){return!t.hidden}),u=0;function i(t){var e,i,n=f.findIndex(c,function(t){return t.id===l}),o=(t.targetTouches?t.targetTouches[0]:t).clientX,r=o-s.getRootNode().getBoundingClientRect().left,a=s.config.$totalHeight>s.config.height?g.getScrollbarWidth():0;s.config.leftSplit===n+1&&r>=s.config.width-a-2||(u=u||c[n].$width,e=c[n].minWidth||40,r=c[n].maxWidth,a=o-d,o=h(c),a=u+a,r&&r<=a||a<=e?(a<=e&&(i=e),r<=a&&(i=r)):i=a,o[n].$width=i,o[n].$fixed=!0,s.events.fire(p.GridEvents.resize,[c[n],t]),s.paint())}s.config.$resizing=l;var n=function(){t.targetTouches?(document.removeEventListener("touchmove",i),document.removeEventListener("touchend",n)):(document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n)),e()};t.targetTouches?(document.addEventListener("touchmove",i),document.addEventListener("touchend",n)):(document.addEventListener("mousemove",i),document.addEventListener("mouseup",n)),s.paint()}},function(t,e,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),c=i(2),s=i(9);function l(t,e,i,n,o,r,a){var s,l,d;void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===a&&(a=!1),e.config.$editable||!e.config.selection||c.locateNodeByClassName(t,"dhx_grid-header-cell")||(t&&t.preventDefault(),s=e.selection.getCell(),t=e.config.columns.filter(function(t){return!t.hidden}),s&&("vertical"===i?o?(l=1===n?e.data.getItem(e.data.getId(e.data.getLength()-1)):e.data.getItem(e.data.getId(0)),e.selection.setCell(l.id,s.column.id,r,a),e.scrollTo(l.id.toString(),s.column.id.toString())):0<=(d=e.data.getIndex(s.row.id.toString()))+n&&d+n<e.data.getLength()&&(l=e.data.getItem(e.data.getId(d+n)),e.selection.setCell(l.id,s.column.id,r,a),e.scrollTo(l.id.toString(),s.column.id.toString())):o?(l=1===n?t[t.length-1]:t[0],e.selection.setCell(s.row.id,l.id,r,a),e.scrollTo(s.row.id.toString(),l.id.toString())):0<=(d=t.indexOf(s.column))+n&&d+n<t.length&&(e.selection.setCell(s.row.id,t[d+n].id,r,a),e.scrollTo(s.row.id.toString(),t[d+n].id.toString()))))}e.selectionMove=l,e.getKeysHandlers=function(o){var t,n="cell"===o.config.selection||"complex"===o.config.selection||!0===o.config.selection,e={};if(o.getRootView()){var i=null===(t=null===(t=null===(t=o.getRootView())||void 0===t?void 0:t.refs)||void 0===t?void 0:t.grid_body)||void 0===t?void 0:t.el;if(!i)return;e={pageUp:function(t){t.preventDefault(),i.scrollTop-=i.clientHeight},pageDown:function(t){t.preventDefault(),i.scrollTop+=i.clientHeight},home:function(t){t.preventDefault(),i.scrollTop=0},end:function(t){t.preventDefault(),i.scrollTop+=i.scrollHeight}}}return r({enter:function(t){var e,i=c.locateNodeByClassName(t,"dhx_grid-header-cell");i&&(e=i.getAttribute("dhx_id"),i=t.target.getAttribute("dhx_resized"),!e||(t=o.getColumn(e))&&s.isSortable(o.config,t)&&!i&&o.events.fire(a.GridEvents.afterSort,[e])),n?(e=o.selection.getCell())&&(!1!==e.column.editable&&o.config.editable||e.column.editable)&&(o.config.$editable?o.editEnd():"boolean"!==e.column.type?o.editCell(e.row.id,e.column.id,e.column.editorType):o.events.fire(a.GridEvents.afterEditEnd,[!e.row[e.column.id],e.row,e.column])):o.config.$editable&&o.editEnd()},space:function(t){var e,i=o.selection.getCell();n&&(null!==(e=null==i?void 0:i.column.editable)&&void 0!==e?e:o.config.editable)&&!o.config.$editable&&i&&"boolean"===i.column.type&&(t.preventDefault(),o.events.fire(a.GridEvents.afterEditEnd,[!i.row[i.column.id],i.row,i.column]))},escape:function(){o.config.$editable&&o.editEnd(!0)},tab:function(t){var e,i,n;o.config.selection&&!c.locateNodeByClassName(t,"dhx_grid-header-cell")&&(o.config.$editable&&o.editEnd(),n=o.selection.getCell(),e=o.config.columns.filter(function(t){return!t.hidden}),n&&(0<=(i=e.indexOf(n.column)+1)&&i<e.length?(t&&t.preventDefault(),o.selection.setCell(n.row.id,e[i].id),o.scrollTo(n.row.id.toString(),e[i].id.toString())):0<=i&&((n=o.data.getIndex(n.row.id.toString())+1)<o.data.getLength()&&(t&&t.preventDefault(),o.selection.setCell(o.data.getId(n),e[0].id),o.scrollTo(o.data.getId(n).toString(),e[0].id.toString())))))},"shift+tab":function(t){var e,i,n;o.config.selection&&!c.locateNodeByClassName(t,"dhx_grid-header-cell")&&(o.config.$editable&&o.editEnd(),n=o.selection.getCell(),e=o.config.columns.filter(function(t){return!t.hidden}),n&&(0<=(i=e.indexOf(n.column)-1)&&i<e.length?(t&&t.preventDefault(),o.selection.setCell(n.row.id,e[i].id),o.scrollTo(n.row.id.toString(),e[i].id.toString())):i<o.data.getLength()&&(0<=(n=o.data.getIndex(n.row.id.toString())-1)&&(t&&t.preventDefault(),o.selection.setCell(o.data.getId(n),e[e.length-1].id),o.scrollTo(o.data.getId(n).toString(),e[e.length-1].id.toString())))))},arrowUp:function(t){l(t,o,"vertical",-1)},"ctrl+arrowUp":function(t){l(t,o,"vertical",-1,!0)},"shift+arrowUp":function(t){o.config.multiselection&&l(t,o,"vertical",-1,!1,!1,!0)},"ctrl+shift+arrowUp":function(t){o.config.multiselection&&l(t,o,"vertical",-1,!0,!1,!0)},arrowDown:function(t){l(t,o,"vertical",1)},"ctrl+arrowDown":function(t){l(t,o,"vertical",1,!0)},"shift+arrowDown":function(t){o.config.multiselection&&l(t,o,"vertical",1,!1,!1,!0)},"ctrl+shift+arrowDown":function(t){o.config.multiselection&&l(t,o,"vertical",1,!0,!1,!0)},arrowRight:function(t){l(t,o,"horizontal",1)},"ctrl+arrowRight":function(t){l(t,o,"horizontal",1,!0)},"shift+arrowRight":function(t){o.config.multiselection&&l(t,o,"horizontal",1,!1,!1,!0)},"ctrl+shift+arrowRight":function(t){o.config.multiselection&&l(t,o,"horizontal",1,!0,!1,!0)},arrowLeft:function(t){l(t,o,"horizontal",-1)},"ctrl+arrowLeft":function(t){l(t,o,"horizontal",-1,!0)},"shift+arrowLeft":function(t){o.config.multiselection&&l(t,o,"horizontal",-1,!1,!1,!0)},"ctrl+shift+arrowLeft":function(t){o.config.multiselection&&l(t,o,"horizontal",-1,!0,!1,!0)}},e)}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(55),l=i(3),d=i(5),c=i(2),u=i(13),h=i(56),f=i(0),p=i(36),o=(a=s.Grid,o(g,a),g.prototype._createView=function(){var i=this;return f.create({render:function(t,e){return h.proRender(t,e,i._htmlEvents,i.selection,i._uid)}},this)},g.prototype._setEventHandlers=function(){var r=this;a.prototype._setEventHandlers.call(this),this.events.on(l.GridEvents.headerCellMouseDown,function(t,e){var i=c.locateNodeByClassName(e,"dhx_header-row"),i=i&&i.getAttribute("aria-rowindex");null!==(i=t.header[Number(i)-1])&&void 0!==i&&i.content||(e.targetTouches?r._touch.timer=setTimeout(function(){r._dragStartColumn(e,t)},r._touch.duration):r._dragStartColumn(e,t))}),this._events.on(l.GridSystemEvents.headerCellTouchMove,function(t,e){r._touch.start&&e.preventDefault(),r._clearTouchTimer()}),this._events.on(l.GridSystemEvents.headerCellTouchEnd,function(){r._touch.start=!1,r._clearTouchTimer()}),this.events.on(l.GridEvents.resize,function(){r._parseColumns(),r._checkFilters()}),this.events.on(l.GridEvents.afterResizeEnd,function(){r.config.autoHeight&&(r.config.data=r.data.map(function(t){var e=u.getMaxRowHeight(t,r.config.columns);return t.$height=u.getCalculatedRowHeight(e,{rowHeight:r.config.rowHeight,padding:8}),t}))}),this.events.on(l.GridEvents.afterRowResize,function(t,e,i){var n=r.data.getItem(t.id),o=n.id,t=n.height,n=n.$height;t&&t!==n&&r.data.update(o,{height:i}),r.data.update(o,{$height:i},!0),r.config.data=r.data.map(function(t){return t}),r.paint()}),this.events.on(l.GridEvents.scroll,function(){r._lazyLoad()})},g.prototype._prepareData=function(t){var e,i=this;return this._adjustColumns(),(Array.isArray(t)||d.isTreeCollection(t)?t:0!==(e=t.getInitialData()||[]).length?e:t.getRawData(0,t.getLength())).map(function(t){var e;return i.config.autoHeight&&void 0===t.height?(e=u.getMaxRowHeight(t,i.config.columns),t.$height=u.getCalculatedRowHeight(e,{rowHeight:i.config.rowHeight,padding:8})||i.config.rowHeight):t.$height=t.height||i.config.rowHeight,t})},g.prototype._prepareDataFromTo=function(t,e,i){var n=this;return t.mapRange(e,i,function(t){var e=u.getMaxRowHeight(t,n.config.columns);return t.$height=u.getCalculatedRowHeight(e,{rowHeight:n.config.rowHeight,padding:8})||n.config.rowHeight,t})},g.prototype._lazyLoad=function(){var t,e,i,n,o=this,r=this.data.dataProxy;r&&r.config&&(t=this.data.getRawData(0,-1,null,2),e=h.getRenderConfig(this,t,{width:this.config.width,height:this.config.height}),i=this.data.getIndex(null===(t=e.currentRows[0])||void 0===t?void 0:t.id.toString()),n=this.data.getIndex(null===(e=e.currentRows[e.currentRows.length-1])||void 0===e?void 0:e.id.toString()),!this.data.isDataLoaded(i,n)&&this.data.events.fire(d.DataEvents.beforeLazyLoad,[])&&(r.updateUrl(null,{from:i,limit:r.config.limit}),this.data.load(r).then(function(){o.config.autoHeight&&o._prepareDataFromTo(o.data,i,n)})))},g.prototype._getColumnGhost=function(t){var e=this._container||c.toNode(this._uid),i=e.querySelector(".dhx_header-row"),n=i.querySelector('.dhx_grid-header-cell[dhx_id="'+t.id+'"]'),n=Array.from(i.childNodes).indexOf(n)+1,t=e.querySelectorAll('.dhx_grid-header-cell[dhx_id="'+t.id+'"]:not(.dhx_span-cell)'),n=e.querySelectorAll(".dhx_grid_data .dhx_grid-cell:nth-child("+n+")"),o=document.createElement("div");return t.forEach(function(t){return o.appendChild(t.cloneNode(!0))}),n.forEach(function(t){return o.appendChild(t.cloneNode(!0))}),o},g.prototype._dragStartColumn=function(t,e){function i(t){return t.classList.contains("dhx_grid-custom-content-cell")}var n=t.target;i(n.parentElement)||i(n.parentElement.parentElement)||!(e.draggable||"column"===this.config.dragItem&&!1!==e.draggable||"both"===this.config.dragItem&&!1!==e.draggable)||c.locateNodeByClassName(t,"dhx_resizer_grip_wrap")||(t.targetTouches&&(this._touch.start=!0),d.dragManager.onMouseDown(t,[e.id],[this._getColumnGhost(e)]))},g);function g(t,e){var i=a.call(this,t,r({autoHeight:!1},e))||this;return i.scrollView=new p.ScrollView(function(){return i.getRootView()},{scrollHandler:function(t){return i.events.fire(l.GridEvents.scroll,[{y:t.target.scrollTop,x:t.target.scrollLeft}])}}),i}e.ProGrid=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.setItem=function(t,e){this._store[t]=e},o.prototype.getItem=function(t){return this._store[t]||null},o);function o(){this._store={}}var r=window.dhxHelpers=window.dhxHelpers||{};r.collectionStore=r.collectionStore||new n,e.collectionStore=r.collectionStore},function(t,l,d){"use strict";(function(t){var n,e=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(l,"__esModule",{value:!0});var o,i=d(21),r=d(1),a=d(33),e=(o=i.DataProxy,e(s,o),s.prototype.load=function(){var e=this;return new t(function(t){e._timeout?(clearTimeout(e._timeout),e._timeout=setTimeout(function(){a.ajax.get(e.url,{responseType:"text"}).then(t),e._cooling=!0},e.config.delay),e._cooling&&(t(null),e._cooling=!1)):(a.ajax.get(e.url,{responseType:"text"}).then(t),e._cooling=!0,e._timeout=setTimeout(function(){}))})},s);function s(t,e){var i=o.call(this,t)||this;return i.config=r.extend({from:0,limit:50,delay:50,prepare:0},e),i.updateUrl(t,{from:i.config.from,limit:i.config.limit}),i}l.LazyDataProxy=e}).call(this,d(14))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),n=i(22),r=i(11),i=(a.prototype.getId=function(){return this._selected},a.prototype.getItem=function(){return this._selected?this._data.getItem(this._selected):null},a.prototype.remove=function(t){return!(t=t||this._selected)||!!this.events.fire(n.SelectionEvents.beforeUnSelect,[t])&&(this._data.update(t,{$selected:!1},!0),this._selected=null,this.events.fire(n.SelectionEvents.afterUnSelect,[t]),!0)},a.prototype.add=function(t){this._selected!==t&&!this.config.disabled&&this._data.exists(t)&&(this.remove(),this._addSingle(t))},a.prototype.enable=function(){this.config.disabled=!1},a.prototype.disable=function(){this.remove(),this.config.disabled=!0},a.prototype._addSingle=function(t){this.events.fire(n.SelectionEvents.beforeSelect,[t])&&(this._selected=t,this._data.update(t,{$selected:!0},!0),this.events.fire(n.SelectionEvents.afterSelect,[t]))},a);function a(t,e,i){var n=this;this.events=i||new o.EventSystem(this),this._data=e,this.config=t,this._data.events.on(r.DataEvents.removeAll,function(){n._selected=null}),this._data.events.on(r.DataEvents.change,function(){var t;!n._selected||(t=n._data.getNearId(n._selected))!==n._selected&&(n._selected=null,t&&n.add(t))})}e.Selection=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(149),h=i(150),f=i(151),p=i(152),g=i(153),_=i(154),v=i(155),m=i(156),y=i(157),b=i(158),x=i(23);e.createFactory=function(t){for(var n=t.defaultType,e=t.allowedTypes,o=t.widgetName,t=t.widget,r=new Set,i=0,a=e;i<a.length;i++){var s=a[i];r.add(s)}var l=t.config,d=t.events,c=t.data;return function(t,e){if(t.hidden)return null;if(!(t.type&&"button"!==t.type&&"navItem"!==t.type&&"menuItem"!==t.type||t.value||t.icon||t.html))return null;t.type=t.type||n,r&&!r.has(t.type)&&(t.type=n),"imageButton"===t.type&&"ribbon"!==o&&(t.active=!1),e&&"spacer"!==t.type&&"separator"!==t.type&&"customHTML"!==t.type&&(t.type="menuItem"),c.haveItems(t.id)&&function(t,e,i){switch(t){case"sidebar":case"context-menu":e.$openIcon="right";break;case"toolbar":e.parent===i.getRoot()?e.$openIcon="right":e.$openIcon="bottom";break;case"menu":e.parent!==this.data.getRoot()&&(e.$openIcon="right");break;case"ribbon":var n=i.getItem(e.parent);n&&"block"!==e.type&&("block"===n.type?e.$openIcon="bottom":e.$openIcon="right")}}(o,t,c),"toolbar"===o&&t.items&&t.items.forEach(function(t){t.type||(t.type="menuItem")});var i="customHTML"!==t.type&&function(t,e,i,n){switch(t.type){case"navItem":case"selectButton":return h.navItem(t,i,n.collapsed);case"button":return u.button(t,i);case"title":return y.title(t,i);case"separator":return v.separator(t,i);case"spacer":return m.spacer(t,i);case"input":return g.input(t,e,i);case"imageButton":return p.imageButton(t,i);case"menuItem":return _.menuItem(t,i,n.asMenuItem);case"customHTMLButton":return f.customHTMLButton(t,i,n.asMenuItem);case"datePicker":return b.datePicker(t,e,i);case"block":default:throw new Error("unknown item type "+t.type)}}(t,d,o,{asMenuItem:e,collapsed:"sidebar"!==o||l.collapsed});return x.navbarComponentMixin(o,t,e,i)}}},function(t,e,i){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),l=i(23);e.button=function(t,e){var i,n,o=t.icon&&!t.value,r=o?" dhx_navbar-count--absolute":" dhx_navbar-count--button-inline";return s.el("button.dhx_button",a({class:l.getNavbarButtonCSS(t,e),dhx_id:t.id,disabled:t.disabled,type:"button"},(n=(i=t).active||i.$activeParent,e={"aria-disabled":i.disabled?"true":"false","aria-label":i.value||i.tooltip||i.id||" "+(i.count||"")},i.items&&(e.id=i.id,e["aria-haspopup"]="menu",n&&(e["aria-expanded"]="true")),e)),[t.icon?l.getIcon(t.icon,"button"):null,t.html?s.el("div.dhx_button__text",{".innerHTML":t.html}):t.value&&s.el("span.dhx_button__text",t.value),0<t.count&&l.getCount(t,r,o),t.value&&t.$openIcon?s.el("span.dhx_button__icon.dhx_button__icon--menu.dxi.dxi-menu-right",{"aria-hidden":"true"}):null,t.loading&&s.el("span.dhx_button__loading",{"aria-hidden":"true"},[s.el("span.dhx_button__loading-icon.dxi.dxi-loading")])])}},function(t,e,i){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),l=i(23);e.navItem=function(t,e,i){var n,o,r,e=" dhx_"+e+"-button";return s.el("button",a({class:"dhx_button"+e+(t.active||t.$activeParent?e+"--active":"")+(t.disabled?e+"--disabled":"")+(t.$openIcon?e+"--select":"")+(t.circle?e+"--circle":"")+(t.size?" "+e+"--"+t.size:"")+(!t.value&&t.icon?e+"--icon":"")+(t.css?" "+t.css:""),dhx_id:t.id,disabled:t.disabled,type:"button"},(o={"aria-disabled":(n=t).disabled?"true":"false","aria-label":n.value||" "},r=n.active||n.$activeParent,"selectButton"===n.type||n.items?(o.id=n.id,o["aria-haspopup"]="menu",r&&(o["aria-expanded"]="true")):((n.twoState||r)&&(o["aria-pressed"]=r?"true":"false"),!n.value&&n.icon&&n.tooltip&&(o["aria-label"]=n.tooltip+" "+(n.count||""))),o)),[t.icon&&s.el("span",{class:t.icon+e+"__icon","aria-hidden":"true"}),t.html&&s.el("div",{class:e.trim()+"__html",".innerHTML":t.html}),!t.html&&t.value&&s.el("span",{class:e.trim()+"__text"},t.value),0<t.count&&l.getCount(t,e+"__count",i),t.$openIcon&&s.el("span.dxi.dxi-menu-right",{class:e+"__caret","aria-hidden":"true"})])}},function(t,e,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0);e.customHTMLButton=function(t,e,i){var n,i=i?" dhx_button dhx_menu-button":" dhx_button dhx_nav-menu-button";return r.el("button",o({class:"dhx_custom-button"+i+(t.$activeParent?i+"--active":""),dhx_id:t.id,type:"button",".innerHTML":t.html},(i={"aria-disabled":(n=t).disabled?"true":"false"},(n.twoState||n.active||n.$activeParent)&&(i["aria-pressed"]=n.active||n.$activeParent?"true":"false"),i)),t.html?"":t.value)}},function(t,e,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),s=i(23);e.imageButton=function(t,e){var i,n,o="dhx_"+e+"-button-image",e="ribbon"===e;return a.el("button.dhx_button",r({class:o+(t.size?" "+o+"--"+t.size:"")+(!t.value&&t.src?" "+o+"--icon":"")+(e&&t.$openIcon?" "+o+"--select":"")+(t.active?" "+o+"--active":""),dhx_id:t.id,type:"button"},(n={"aria-disabled":(i=t).disabled?"true":"false"},(i.twoState||i.active)&&(n["aria-pressed"]=i.active?"true":"false"),!i.value&&i.src&&i.tooltip&&(n["aria-label"]=i.tooltip+" "+(i.count||"")),n)),[e&&t.value&&t.$openIcon&&a.el("span.dxi.dxi-menu-right",{class:o+"__caret","aria-hidden":"true"}),t.html?a.el("div",{class:o+"__text",".innerHTML":t.html}):t.value&&a.el("span",{class:o+"__text"},t.value),t.src&&a.el("span",{class:o+"__image",style:{backgroundImage:"url("+t.src+")"},role:"presentation"}),0<t.count&&s.getCount(t,o+"__count",!0)])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(29);function r(t,e){t.fire(o.NavigationBarEvents.inputBlur,[e])}function a(t,e){t.fire(o.NavigationBarEvents.inputFocus,[e])}function s(t,e,i){t.fire(o.NavigationBarEvents.inputChange,[e,i.target.value])}e.input=function(e,i,t){return n.el(".dhx_form-group.dhx_form-group--no-message-holder.dhx_form-group--label_sr.dhx_"+t+"__input",{style:{width:e.width||"200px"},role:"presentation"},[e.label&&n.el("label.dhx_label",{for:e.id},e.label),n.el(".dhx_input__wrapper",{role:"presentation"},[n.el("input.dhx_input",{placeholder:e.placeholder,class:e.icon?"dhx_input--icon-padding":"",value:e.value,disabled:e.disabled,onblur:[r,i,e.id],onfocus:[a,i,e.id],oninput:[s,i,e.id],dhx_id:e.id,_hooks:{didInsert:function(t){i&&i.fire(o.NavigationBarEvents.inputCreated,[e.id,t.el])}},_key:e.id,"aria-label":e.label||e.helpMessage||"type "+(e.placeholder?"text like "+e.placeholder:"text")}),e.icon?n.el(".dhx_input__icon",{class:e.icon,"aria-hidden":"true"}):null])])}},function(t,e,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),s=i(23);e.menuItem=function(t,e,i){var n,o=i?" dhx_menu-button":" dhx_nav-menu-button";return a.el("button",r({class:"dhx_button"+o+(t.disabled?o+"--disabled":"")+(t.active||t.$activeParent?o+"--active":""),disabled:t.disabled,dhx_id:t.id,type:"button"},(o={role:"menuitem","aria-disabled":(n=t).disabled?"true":"false"},n.items&&(o["aria-haspopup"]="true"),o)),i?[t.icon||t.value||t.html?a.el("span.dhx_menu-button__block.dhx_menu-button__block--left",[t.icon&&a.el("span.dhx_menu-button__icon",{class:t.icon}),t.html?a.el("div.dhx_menu-button__text",{".innerHTML":t.html}):t.value&&a.el("span.dhx_menu-button__text",t.value)]):null,0<t.count||t.hotkey||t.items?a.el("span.dhx_menu-button__block.dhx_menu-button__block--right",[0<t.count&&s.getCount(t," dhx_menu-button__count",!1),t.hotkey&&a.el("span.dhx_menu-button__hotkey",t.hotkey),t.items&&a.el("span.dhx_menu-button__caret.dxi.dxi-menu-right")]):null]:[t.icon&&a.el("span.dhx_menu-button__icon",{class:t.icon}),t.html?a.el("div.dhx_menu-button__text",{".innerHTML":t.html}):t.value&&a.el("span.dhx_nav-menu-button__text",t.value)])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.separator=function(t,e){return null}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spacer=function(t,e){return null}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.title=function(t,e){return n.el("span",{class:"dhx_navbar-title dhx_navbar-title--"+e,dhx_id:t.id,".innerHTML":t.html,"aria-label":t.value||""},t.html?null:t.value)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=i(57),s=i(17),l=i(29);function d(t,e){t.fire(l.NavigationBarEvents.inputBlur,[e])}function c(t,e,i,n){r.awaitRedraw().then(function(){return i.show(n.target)}),t.fire(l.NavigationBarEvents.inputFocus,[e])}e.datePicker=function(e,i,t){var n=new s.Popup,o=new a.Calendar(null,{dateFormat:e.dateFormat||"%d/%m/%y",value:e.value,css:"dhx_widget--bordered"});return n.attach(o),o.events.on("change",function(){n.hide(),i.fire(l.NavigationBarEvents.inputChange,[e.id,o.getValue()])}),r.el(".dhx_form-group.dhx_form-group--no-message-holder.dhx_form-group--label_sr.dhx_"+t+"__input",{style:{width:e.width||"200px"},role:"presentation"},[e.label&&r.el("label.dhx_label",{for:e.id},e.label),r.el(".dhx_input__wrapper",{role:"presentation"},[r.el("input.dhx_input",{placeholder:e.placeholder,class:e.icon?"dhx_input--icon-padding":"",value:o.getValue(),disabled:e.disabled,onblur:[d,i,e.id],onfocus:[c,i,e.id,n],dhx_id:e.id,readOnly:!0,_hooks:{didInsert:function(t){i&&i.fire(l.NavigationBarEvents.inputCreated,[e.id,t.el])}},_key:e.id,"aria-label":e.label||e.helpMessage||"type "+(e.placeholder?"text like "+e.placeholder:"text")}),e.icon?r.el(".dhx_input__icon",{class:e.icon,"aria-hidden":"true"}):null])])}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(0),s=i(49),o=(r=s.Navbar,o(l,r),l.prototype._getFactory=function(){return s.createFactory({widget:this,defaultType:"menuItem",allowedTypes:["navItem","menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"menu-nav"})},l.prototype._draw=function(){return a.el("ul.dhx_widget",{dhx_widget_id:this._uid,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,class:"dhx_menu-nav "+(this.config.css||"")},this._drawMenuItems(this.data.getRoot(),!1))},l);function l(t,e){var i=r.call(this,t,e)||this;return i.mount(t,a.create({render:function(){return i._draw()}})),i}e.Menu=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(2),i=(n.prototype.pdf=function(t){this._rawExport(t,"pdf",this._view)},n.prototype.png=function(t){this._rawExport(t,"png",this._view)},n.prototype._rawExport=function(t,e,i){var n=this,o=i.config.exportStyles;(t=t||{}).url=t.url||"https://export.dhtmlx.com/"+this._name+"/"+e,t.url+="/"+this._version;e="";!0===o?e=a.getPageLinksCss()+"<style>"+a.getPageInlineCss()+"</style>":o.length&&(e=""+a.getPageLinksCss(o));var i=("\n\t\t\t\t"+e+"\n\t\t\t\t"+i.getRootView().node.el.parentNode.innerHTML+"\n\t\t\t").replace(/(src|href)=("(.+?\.(jpeg|jpg|png|apng|gif|svg|bmp|ico))")/gm,function(t){if(t.includes("://"))return t;var e=t.replace(/(src|href)="/,"").replace('"',"");return/(src|href)="/.exec(t)[0]+n._normalizeLink(e)+'"'}),r=document.createElement("form");r.setAttribute("method","POST"),r.setAttribute("action",t.url),r.innerHTML='<input type="hidden" name="raw"><input type="hidden" name="config">',r.childNodes[0].value=i,r.childNodes[1].value=JSON.stringify(t),document.body.appendChild(r),r.submit(),setTimeout(function(){r.parentNode.removeChild(r)},100)},n.prototype._normalizeLink=function(t){var e=window.location.pathname.split("/");return""===e[0]&&(e.shift(),e.pop()),window.location.origin+"/"+e.join("/")+("/"!==t[0]?"/"+t:t)},n);function n(t,e,i){this._name=t,this._version=e,this._view=i}e.Exporter=i},function(t,e,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=i(4),s=i(25),i=(n.prototype.getId=function(){return this._selected},n.prototype.getSubId=function(){return this._subSelected},n.prototype.getItem=function(){return this._selected?this._data.getItem(this._selected):null},n.prototype.remove=function(t,e){if(t=t||this._selected,e=e||this._subSelected,!t)return!0;if(this.events.fire(s.SelectionEvents.beforeUnSelect,[t,e])){this._selected=null,this._subSelected=null;var i,n=this._data.getItem(t);return e&&"line"===n.$item.getBaseType()?(i=null===(i=null===(i=null==n?void 0:n.title)||void 0===i?void 0:i.text)||void 0===i?void 0:i.map(function(t){return t.id===e?o(o({},t),{$selected:!1}):t}),this._data.update(t,{title:o(o({},n.title),{text:i}),$selected:!1,$subSelected:null},!0)):this._data.update(t,{$selected:!1},!0),this.events.fire(s.SelectionEvents.afterUnSelect,[t,e]),!0}return!1},n.prototype.add=function(t,e){var i,n;this._data.exists(t)&&("$sgroup"===(i=this._data.getItem(t)).type&&(t=i.$group),this._selected===t&&!r.isDefined(e)&&!r.isDefined(this._subSelected)||this._selected===t&&this._subSelected===e||(this.remove(),this.events.fire(s.SelectionEvents.beforeSelect,[t,e])&&(this._selected=t,e&&"line"===i.$item.getBaseType()?(this._subSelected=e,n=i.title.text.map(function(t){return t.id===e?o(o({},t),{$selected:!0}):t}),this._data.update(t,{title:o(o({},i.title),{text:n}),$selected:!0,$subSelected:e},!0)):this._data.update(t,{$selected:!0},!0),this.events.fire(s.SelectionEvents.afterSelect,[t,e]))))},n);function n(t,e,i){var n=this;this._selected=null,this._subSelected=null,this.events=i||new a.EventSystem,this._data=e,this._data.events.on(s.DataEvents.removeAll,function(){n._selected=null,n._subSelected=null})}e.Selection=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(0),a=i(74),l=i(7),d=i(8),o=(r=a.Card,o(c,r),c.prototype.getMetaInfo=function(){return d.getMeta([{type:"grid",label:l.default.gridStep},{type:"color",label:l.default.color},{type:"position",label:l.default.position},{type:"size",label:l.default.size},{type:"title",label:l.default.title},{type:"text",label:l.default.text},{type:"img",label:l.default.image}])},c.prototype.setDefaults=function(t,e){var i=t.width,n=t.height,o=t.text,r=t.title,a=t.headerColor,s=t.fixed,l=e.width?parseFloat(e.width):210,d=e.height?parseFloat(e.height):90;return t.width=i||l,t.height=n||d,t.title="string"==typeof r?r:e.title||"",t.text="string"==typeof o?o:e.text||"",t.headerColor=a||e.headerColor||"",t.fixed=s||!1,t.editable="boolean"!=typeof t.editable||t.editable,t},c.prototype.getCss=function(){return"dhx_diagram_image "+r.prototype.getCss.call(this)},c.prototype.getContent=function(){var t=this.config,e=t.img,i=t.headerColor,n=t.title,o=t.text,r=t.width,a=t.$editable,t=e?""+e:null;return[s.el("img.dhx_orgcard__img",{style:{backgroundColor:e?null:i},src:t}),s.el("div.dhx_orgcard__title.dhx_diagram_item__title",a&&"title"===this.editableProperty.key?[this.getEditorNode()]:n),s.el("div.dhx_orgcard__text.dhx_diagram_item__text ",{class:n?"":"dhx_content_text-alone",style:{maxWidth:r-80,marginLeft:80}},a&&"text"===this.editableProperty.key?[this.getEditorNode()]:o)]},c);function c(){return null!==r&&r.apply(this,arguments)||this}e.ImgCard=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(0),y=i(2),l=i(18),d=i(10),c=i(8),u=i(7),o=(a=l.BaseShape,o(h,a),h.prototype.getMetaInfo=function(){var t=c.getMeta([{type:"grid",label:u.default.gridStep},{type:"arrange",label:u.default.arrange},{type:"text",label:u.default.text}]);return t.push({id:"textProps",type:"textProps",label:u.default.textProps,alignments:!1}),t},h.prototype.render=function(){var t=this.getCoords(this.config),e=this.config,i=e.id,n=e.angle,o=e.text,e={fontSize:e.fontSize+"px",fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:e.lineHeight+"px",fontWeight:e.fontWeight,fontStyle:e.fontStyle};return this._prevValue&&this.config.text!==this._prevValue&&(e=y.getStrSize(o,e),this.data.update(this.id,{height:e.height+2,width:e.width+4})),this._prevValue=this.config.text,s.el("div",{_key:i,class:"dhx_diagram_item dhx_diagram_shape "+this.getCss(),dhx_id:i,zIndex:3,style:r({position:"absolute",top:t.y,left:t.x,transform:"rotate("+(n||0)+"deg)"},d.getShapeCss(this.config))},[this.getContent()])},h.prototype.setDefaults=function(t,e){var i=t.width,n=t.height,o=t.fontColor,r=t.fontSize,a=t.fontStyle,s=t.textAlign,l=t.lineHeight,d=t.textVerticalAlign,c=t.text,u=t.fontWeight,h=t.x,f=t.y,p=t.fixed,g=t.editable,_=e.lineHeight?parseFloat(e.lineHeight):14,v=e.fontSize?parseFloat(e.fontSize):14,m={fontSize:(r||v)+"px",fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:(l||_)+"px",fontWeight:u,fontStyle:a},u=y.getStrSize(c,m),m=e.width?parseFloat(e.width):u.width+4,u=e.height?parseFloat(e.height):u.height+2;return t.width=i||m,t.height=n||u,t.lineHeight=l||_,t.fontSize=r||v,t.text=c||e.text||"",t.fontColor=o||e.fontColor||"rgba(0,0,0,0.70)",t.textAlign=s||e.textAlign||"center",t.fontStyle=a||e.fontStyle||"normal",t.textVerticalAlign=d||e.textVerticalAlign||"center",t.x=h||0,t.y=f||0,t.fixed=p||!1,t.editable="boolean"!=typeof g||g,t},h.prototype.getContent=function(){var t=this.config,e=t.$editable,t=t.text;return s.el("span.dhx_diagram_item__text",e?[this.getEditorNode()]:t)},h);function h(t,e){t=a.call(this,t,e)||this;return t.data=e.data,t}e.TextShape=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=this&&this.__assign||function(){return(y=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},b=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r,x=i(0),w=i(2),a=i(18),C=i(10),s=i(8),l=i(7),o=(r=a.BaseShape,o(d,r),d.prototype.getMetaInfo=function(){return s.getMeta([{type:"grid",label:l.default.gridStep},{type:"position",label:l.default.position},{type:"size",label:l.default.size},{type:"fill",label:l.default.fill},{type:"strokeProps",label:l.default.stroke},{type:"text",label:l.default.text},{type:"textProps",label:l.default.textProps}])},d.prototype.render=function(){var i=this,t=this.getCoords(this.config),e=this.config,n=e.id,o=e.angle,r=e.width,a=e.height,s=e.fontSize,l=e.lineHeight,d=e.fontWeight,c=e.fontStyle,u=e.text,h=e.fill,f=e.stroke,p=e.strokeWidth,g=e.strokeType,_=e.$editable,v=e.$group,e=e.$selected,e=v||e?e?2:1:0,d={fontSize:s+"px",fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:l+"px",fontWeight:d,fontStyle:c,strokeWidth:p};this._oldText&&this.config.text!==this._oldText&&(d=(c=w.getStrSize(u,d)).width+16,c=c.height+8,this.data.update(this.id,{height:30<c?c:30,width:60<d?d:60})),this._oldText=this.config.text;var m=[];Array.isArray(this.config.dir)?this.config.dir.forEach(function(t,e){m.push(C.getCircleTpl(i.config,e))}):m.push(C.getCircleTpl(this.config));g="dash"===g?"dashed":"line"!==g&&g?"none":"solid";return x.el("div",{dhx_id:n,class:"dhx_diagram_item dhx_diagram_shape "+this.getCss(),style:{position:"absolute",left:t.x,top:t.y,transform:"rotate("+(o||0)+"deg)",zIndex:e}},b([x.el("div.dhx_diagram_item__text",{style:y({height:a,width:r,border:p+"px "+g+" "+(f||"#03A9F4"),background:h,borderRadius:""+a/2},C.getShapeCss(this.config))},_?[this.getEditorNode()]:u)],m))},d.prototype.setDefaults=function(t,e){var i=t.width,n=t.height,o=t.fontColor,r=t.fontSize,a=t.fontStyle,s=t.textAlign,l=t.lineHeight,d=t.textVerticalAlign,c=t.text,u=t.fontWeight,h=t.x,f=t.y,p=t.fill,g=t.strokeWidth,_=t.stroke,v=t.fixed,m=t.editable,y=e.lineHeight?parseFloat(e.lineHeight):14,b=e.fontSize?parseFloat(e.fontSize):14,x=e.strokeWidth?parseFloat(e.strokeWidth):1;t.lineHeight=l||y,t.fontSize=r||b,t.text=c||e.text||"",t.fill=p||e.fill||"#fff",t.fontColor=o||e.fontColor||"rgba(0,0,0,0.70)",t.textAlign=s||e.textAlign||"center",t.fontStyle=a||e.fontStyle||"normal",t.textVerticalAlign=d||e.textVerticalAlign||"center",t.strokeWidth=g||x,t.stroke=_||e.stroke;a={fontSize:(r||b)+"px",fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:(l||y)+"px",fontWeight:u,fontStyle:a,strokeWidth:t.strokeWidth},c=w.getStrSize(c,a),a=e.width?parseFloat(e.width):c.width+24,c=e.height?parseFloat(e.height):c.height+12;return t.height=30<c||30<n?n||c:30,t.width=60<a||60<i?i||a:60,t.x=h||0,t.y=f||0,t.fixed=v||!1,t.editable="boolean"!=typeof m||m,t},d);function d(t,e){t=r.call(this,t,e)||this;return t.data=e.data,t}e.TopicShape=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(0),s=i(2),l=i(25),i=i(6),o=(r=i.View,o(d,r),d.prototype.render=function(t,e,i){if(t){var n=this.config,o=this._getIcons(t,n.icons),r=n.iconWidth*o.length+n.gap,i=this._getCoords(t,{width:r/e.scale,height:n.height/e.scale,x:i.x,y:i.y});return a.el("div",{class:"dhx_popup_toolbar",style:{display:this._hidden||!o.length?"none":"block",maxHeight:this.config.height,width:r,top:(i.y-e.top)*e.scale,left:(i.x-e.left)*e.scale},onclick:this._handlers.onclick},[a.el("div",{class:"dhx_item_toolbar"},o)])}},d.prototype.hide=function(){this._hidden=!0,this.paint()},d.prototype.show=function(){this._hidden=!1,this.paint()},d.prototype._getIcons=function(t,e){for(var i=[],n=0;n<e.length;n++){var o,r=e[n];r.check&&!r.check(t)||(o=r.css?r.css(t):"",o={_key:r.id,class:"dhx_icon "+o,dhx_id:r.id},"string"==typeof(r="function"==typeof r.content?r.content(t):r.content)?(o[".innerHTML"]=r,i.push(a.el("div",o))):i.push(a.el("div",o,[r])))}return i},d.prototype._getCoords=function(e,t){var i=t.width,n=t.height,o=t.x,r=t.y,t=e.$item.getBaseType();if("line"===t&&!e.$subSelected)return{x:o+25,y:r-n/2};t=("line"===t&&e.$subSelected?e.title.text.find(function(t){return t.id===e.$subSelected}):e).$item.getBox();return{x:t.right/2+t.left/2-i/2,y:t.top-n-8}},d);function d(t,e){var i=r.call(this,null,{height:50,iconWidth:30,gap:16,icons:e})||this;return i.events=t,i._handlers={onclick:s.eventHandler(function(t){return s.locate(t)},{dhx_icon:function(t,e){i.events.fire(l.DiagramEvents.shapeIconClick,[e,t])}})},i}e.Toolbar=o},function(t,e,i){"use strict";var s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var l=i(167),d=i(168),c=i(169),i=(n.prototype.layout=function(t,e){if(t.routes=new d.default,!e.full){var i=u(t,e);return e.preserveLocation||h(i.n,i.size),f(i.mx,i.n,i.n,i.size),i.n,t.setGlobalBox(),t}var n=c.split(t);if(1==n.length&&null!==n[0].root)return(new l.default).layout(n[0].g,e);(t=n[0].g).routes=new d.default;var o,r,a,s,i=u(t,e);return e.preserveLocation||h(i.n,i.size,function(t,e){if(!e)return t[0].g.getNodes()[0].id;var i=e;{if(t[0].g.getNodes().find(function(t){return t.id===e}))return i;for(var n=1;n<t.length;n++)if(t[n].g.getNodes().find(function(t){return t.id===e})){i=t[n].root;break}}return i}(n,e.root)),f(i.mx,i.n,i.n,i.size),i.n,e.full&&(function(u,t,e,h){e.length,e.forEach(function(t){return t.iss=""});var i=[].concat(e).filter(function(t){return 3<=t.links.length}).sort(function(t,e){return t.links.length>e.links.length?-1:t.links.length==e.links.length?0:1});i.map(function(o){var r=[];return o.links.forEach(function(t){var e=Math.atan2(t.x-o.x,t.y-o.y)+Math.PI,i=2*Math.ceil(e/(2*p))*p,n=2*Math.floor(e/(2*p))*p;r.push([t,i,Math.abs(e-i)]),r.push([t,n,Math.abs(e-n)])}),r.sort(function(t,e){return t[2]>e[2]?1:-1}),[o,r]}).forEach(function(t){var e=t[0],i=t[1],n=e.x,o=e.y;e.x=Math.round(e.x/h)*h,e.y=Math.round(e.y/h)*h;for(var r=0;r<i.length;r++){var a,s,l,d=i[r],c=d[0];u.getRoute(e.id,c.id)||(a=(l=_(e,c,d[1],h,n,o))[0],s=l[1],d=l[2],l=l[3],u.hasRoute(e.id,d,l)||u.isAligned(c.id)||(c.x+=a,c.y+=s,u.addRoute(e.id,c.id,d,l)))}}),f(t,e,e.filter(function(t){return!u.isAligned(t.id)}),h),i.forEach(function(e){u.isAligned(e.id)||(e.x=Math.round(e.x/h)*h,e.y=Math.round(e.y/h)*h),e.links.forEach(function(t){2==t.links.length&&g(e,t,u,h)})}),0===i.length&&(i=e[0],(e=e[0].links[0]).x=Math.round(e.x/h)*h,e.y=Math.round(e.y/h)*h,g(i,e,u,h))}(t.routes,i.mx,i.n,i.size),o=t,r=i.mx,n=n.slice(1).sort(b),a=i.size,s=o.getNodes().length,n.forEach(function(t){var e=t.g,i=t.root;(new l.default).layout(e,{root:e.getNodes()[0].id});var d,c,u,h,f,p,n=(d=r,c=o,u=e,h=i,f=a,p=s,v.map(function(t){if(!t[2]&&!t[3]&&c.routes.hasRoute(h,t[0],t[1]))return null;var e=u.copy(),i=c.copy(),n=e.getRoot(),o=i.hash[h];e.rotate({x:-t[0],y:t[1]});var r,a=e.getBox(),s=a[0][1]-a[0][0],l=a[1][1]-a[1][0];!function(t,e,i,n,o,r,a,s){var l,d,c,u,h=e.x+(s[2]||s[0])*a,f=e.y+(s[3]||s[1])*a;if(y(t,h-a/2,h+a/2,f-a/2,f+a/2))return m(t,h-a/2*s[0],f-a/2*s[1],i,n,s,a);if((s[0]?i:n)/a-1<=0)return;var e=.45*a;e=s[0]?(d=h+a/2*s[0],c=d+i*s[0],(u=f-n/2-e-r)+n+2*e):(c=(d=h-i/2-e-o)+i+2*e,u=f+a/2*s[1],u+n*s[1]);e<u&&(u=(l=[e,u])[0],e=l[1]);c<d&&(d=(l=[c,d])[0],c=l[1]);y(t,d,c,u,e)&&m(t,h,f,i,n,s,a)}(i,o,s,l,n.x-a[0][0]-s/2,n.y-a[1][0]-l/2,f,t),r=i,s=e,a=n,l=f,e=t,o=(n=o).x+l*(e[0]||e[2])-a.x,a=n.y+l*(e[1]||e[3])-a.y,s.translate({x:o,y:a}),r.importNodes(s.getNodes());s=function(t,e){for(var i,n=e.length,o=0,r=0;r<n;r++){i=0;for(var a,s,l,d,c,u=e[r],h=t[u.isn],f=0;f<n;f++)u.isn!=f&&(c=e[f],a=h[c.isn],s=.5/(a*a),l=u.x-c.x,d=u.y-c.y,(c=Math.sqrt(Math.pow(l,2)+Math.pow(d,2)))&&(i+=s*(l-a*l/c),i+=s*(d-a*d/c)));o+=Math.sqrt(Math.pow(i,2)+Math.pow(0,2))}return o}(d,i.getNodes().slice(0,p));return{g:i,s:s,dir:t}}).reduce(function(t,e){return!t||e&&e.s<t.s?e:t}));if(n){o=n.g;t=e.getRoot().id;return n.dir[2]||n.dir[3]||o.routes.addRoute(i,e.getRoot().id,n.dir[0],n.dir[1]),o.hash[i].links.push(o.hash[t]),void o.hash[t].links.push(o.hash[i])}console.log("Can't position sub tree")}),t=o),t.setGlobalBox(),t},n);function n(){}function u(t,e){var i=t.getNodes(),n=0;return i.forEach(function(t,e){t.isn=e,n+=t.w+t.h}),n=Math.round(n/(2*i.length)),e.itemPadding?n+=e.itemPadding:n*=2,{n:i,mx:function(t){for(var e=[],i=t.getNodes(),n=0;n<i.length;n++){var o=e[n]=[];o[i[n].isn]=0,function(t,e,i,n){var o=[t],r=[];for(;o.length;){for(var a=0;a<o.length;a++)for(var s=o[a],l=0;l<s.links.length;l++){var d=s.links[l],c=d.isn;c==i||e[c]||(e[c]=n,r.push(d))}n++,o=r,r=[]}}(i[n],o,n,1)}return e}(t),size:n}}function h(t,e,i){var n=t.findIndex(function(t){return t.id===i});0<n&&t.unshift.apply(t,t.splice(n,1));var o=2*Math.PI/t.length,r=0,a=5*e;t.forEach(function(t,e){t.x=Math.round(Math.cos(r)*a),t.y=Math.round(Math.sin(r)*a),r+=o}),0<n&&t.splice.apply(t,s([n,0],t.splice(0,1)))}function f(t,e,i,n){for(var o=0;o++<100;){var r=function(t,e,i,n){for(var o,r,a=0,s=0,l=0,d=0,c=e.length,u=i.length,h=0;h<u;h++){r=o=0;for(var f=i[h],p=t[f.isn],g=0;g<c;g++)f.isn!=g&&(y=.5/((m=p[(v=e[g]).isn])*m),b=f.x-v.x,x=f.y-v.y,(E=Math.sqrt(Math.pow(b,2)+Math.pow(x,2)))&&(o+=y*(b-n*m*b/E),r+=y*(x-n*m*x/E)));var _=Math.sqrt(Math.pow(o,2)+Math.pow(r,2));s<_&&(a=f.isn,s=_,l=o,d=r)}for(var v,m,y,b,x,w,C,E,k,S=0,M=0,D=0,O=e[a],I=t[a],g=0;g<c;g++)a!=g&&(y=.5/((m=I[(v=e[g]).isn])*m),w=(b=O.x-v.x)*b,C=(x=O.y-v.y)*x,(E=Math.sqrt(Math.pow(w+C,3)))&&(S+=y*(1-n*m*C/E),M+=y*n*m*x*b/E,D+=y*(1-n*m*w/E)));return[a,s,k=(-l/S+M*d/(D*S))/(1+M*M/(D*S)),(-d-M*k)/D]}(t,e,i,n),a=r[0],s=r[1],l=r[2],r=r[3];if(s<10)break;e[a].x+=l,e[a].y+=r}}e.default=i;var p=Math.PI/4;function g(t,e,i,n){for(;;){var o=e.links[0];if(o==t&&(o=e.links[1]),t=e,2<(e=o).links.length)break;for(var r=Math.atan2(e.x-t.x,e.y-t.y)+Math.PI,a=2*Math.ceil(r/(2*p))*p,o=2*Math.floor(r/(2*p))*p,s=Math.abs(r-a)<Math.abs(r-o)?[a,o]:[o,a],l=0;l<s.length;l++){var d=_(t,e,s[l],n,t.x,t.y),c=d[0],u=d[1],h=d[2],d=d[3];if(!i.hasRoute(t.id,h,d)){if(i.isAligned(e.id))return;e.x+=c,e.y+=u,i.addRoute(t.id,e.id,h,d);break}}}}function _(t,e,i,n,o,r){return i<=p||7*p<i?[t.x-e.x,a(t.y,e.y,r,n),0,-1]:i<=3*p&&p<i?[a(t.x,e.x,o,n),t.y-e.y,-1,0]:i<=5*p&&3*p<i?[t.x-e.x,a(t.y,e.y,r,n),0,1]:[a(t.x,e.x,o,n),t.y-e.y,1,0]}function a(t,e,i,n){var o=Math.sign(i-e);return t-e-(Math.round((i-e)/n)||o)*n}var v=[[0,1,0,0],[1,0,0,0],[-1,0,0,0],[0,-1,0,0]].concat([[0,1,-1,1],[-1,0,-1,1],[0,1,1,1],[1,0,1,1],[1,0,1,-1],[0,-1,1,-1],[-1,0,-1,-1],[0,-1,-1,-1]]);function m(t,e,i,n,o,r,a){t.getNodes().forEach(function(t){r[1]?Math.sign(t.y-i)==r[1]&&(t.y+=(o+a/2)*r[1]):r[0]&&Math.sign(t.x-e)==r[0]&&(t.x+=(n+a/2)*r[0])})}function y(t,e,i,n,o){for(var r=t.getNodes(),a=0;a<r.length;a++){var s=r[a];if(s.x>=e&&s.x<=i&&s.y>=n&&s.y<=o)return 1}}function b(t,e){t=t.g.getNodes().length,e=e.g.getNodes().length;return e<t?-1:t===e?0:1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(75),c=i(39),i=(o.prototype.layout=function(t,e){t.root(t.toTree(t.hash[e.root]));var i=t.getNodes();e.levelPadding=e.levelPadding||this._getStep(i),e.itemPadding=e.itemPadding||this._getStep(i),e.dir=e.dir||n.Direction.Bottom,e.rotate=e.dir===n.Direction.Right||e.dir===n.Direction.Left;i=n.DirVectors[e.dir];this._layout(t,e),t.setBox(),e.dir!==n.Direction.Bottom&&t.rotate(i);i=t.getBox();return t.translate({x:-1*i[0][0],y:-1*i[1][0]}),t.setBox(),t},o.prototype._layout=function(e,i){var n=this,t=e.getRoot();if(t.x=t.y=0,1==e.getLevels().length)return e._symmetry=!0,"0";var o=t.kids.map(function(t){return new c.default(e,t,i)}),a={};o.forEach(function(t){var e=n._layout(t,i);a[e]?a[e].push(t):a[e]=[t]});for(var r=Object.keys(a).sort(function(t,e){var i=a[t][0],n=a[e][0],o=i._width,r=n._width;if(r<o)return-1;if(o<r)return 1;i=i.getLevels().length,n=n.getLevels().length;return!(n<i)&&(i<n||t<e)?1:-1}),s=0,l=0,d=0;d<r.length;d++)a[r[d]].length%2==1&&(s++,l=d);t=!1,o=!1;return 1==s?(a[r[l]][0]._symmetry&&(o=!0),t=!0,0!==l&&(r.unshift(r[l]),r.splice(l+1,1))):0===s&&(o=!0),e._symmetry=o,this._layout_place(e,a,r,t,i),e.getIString()},o.prototype._layout_place=function(_,t,e,v,m){for(var y={x:0,y:m.levelPadding},b=!0,i=0;i<e.length;i++)t[e[i]].forEach(function(t){if(v){v=!1,t.translate(y);for(var e=0,i=0,n=t.getLevelBounds(),o=0;o<n.length;o++){var r=n[o],a=r[0],r=r[1];_._bounds[o+1]=[a,r],a<e&&(e=a),i<r&&(i=r)}_._tbounds=[e,i]}else{var s=b?1:0,l=b?0:1;b&&t.mirror();for(var d=void 0,c=void 0,c=d=999999*(b?-1:1),u=m.itemPadding,h=0;h<t._bounds.length;h++){var f=_.getBounds(h+1,u,m.wide)[s]-t.getBounds(h,u,m.wide)[l];(b&&c<f||!b&&f<c)&&(c=f)}t.translate({x:c,y:y.y});for(var p=0;p<_._bounds.length;p++){var g=void 0,g=0==p||p>t._bounds.length?_._bounds[p][s]:_._bounds[p][s]=t._bounds[p-1][s];(b&&d<g||!b&&g<d)&&(d=g)}_._tbounds[s]=d,b=!b}})},o.prototype._getStep=function(t){var e,i;return 0===this._step&&(e=t.length,i=0,t.forEach(function(t){return i+=t.w+t.h}),this._step=i/e),this._step},o);function o(){this._step=0}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[1,2,4,8,0,16,32,64,128],o=(r.prototype.getRoute=function(t,e){t=this._map[t];return t&&t.map[e]||null},r.prototype.addRoute=function(t,e,i,n){this.addPath(t,e,i,n),this.addPath(e,t,-i,-n)},r.prototype.hasRoute=function(t,e,i){t=this._map[t];return!!t&&0<(t.dir&this._code(e,i))},r.prototype.isAligned=function(t){return!!this._map[t]},r.prototype.isAxisAligned=function(t,e,i){var n,o=this._map[t];if(!o)return null;for(n in o.map){var r=o.map[n];if(e&&r.dy||i&&r.dx)return!1}return!0},r.prototype.addPath=function(t,e,i,n,o){var r=this._map[t];(r=r||(this._map[t]={map:{},dir:0})).map[e]={dx:i,dy:n,points:o},r.dir=r.dir|this._code(i,n)},r.prototype._code=function(t,e){return n[Math.sign(t)+1+3*(Math.sign(e)+1)]},r);function r(){this._map={}}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(39);function s(t,e){var i=new n.default;return i.importNodes(t),{g:i,root:e}}e.split=function(i){var t=i.getNodes();if(t.length<3)return[{g:i}];for(var e=t[0],n=[],o=t.length+1;o!=t.length;)o=t.length,t=t.filter(function(e){if(1!=e.links.length)return!0;var t=i.hash[e.links[0].id];return t&&(t.links=t.links.filter(function(t){return t.id!=e.id})),n.push(e),!1});if(t.length<2)return n.filter(function(t){return 0<t.links.length}).forEach(function(t){t.links[0].links.push(t)}),i.root(i.toTree(e)),[{g:i}];var r={};return n.forEach(function(t){return r[t.id]=t}),e=n.filter(function(t){return!r[t.links[0].id]}).map(function(t){return[t]}),n.forEach(function(t){var e=r[t.links[0].id];e&&e.links.push(t)}),e=e.map(function(t){for(var e,i=0;e=t[i++];){var n=e.links.length;if(1<n)for(var o=1;o<n;o++){var r=e.links[o];t.push(r)}}var a=t[0].links.splice(0,1)[0].id;return s(t,a)}),[s(t,null)].concat(e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compose=function(t,n){if(t.length<2)return t[0]||null;var o=t[0].getBox(),r=n.padding,e=t.reduce(function(t,e){var i=e.getBox();return e.translate({x:o[0][1]-i[0][0]+r,y:o[1][0]-i[1][0]}),t.importNodes(e.getNodes()),r+=n.padding+i[0][1]-i[0][0],t});return t.length&&e.setGlobalBox(),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decompose=function(i){for(var n=[],t=function(){var e={},t=i.getNodes();if(!t.length)return{value:n};!function e(t,i){i[t.id]=1;t.links.forEach(function(t){i[t.id]||e(t,i)})}(t[0],e);t=i.split(function(t){return!e[t.id]});if(n.push(i),!t)return{value:n};i=t};;){var e=t();if("object"==typeof e)return e.value}}},function(t,e,i){"use strict";var h=this&&this.__assign||function(){return(h=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var w=i(1),C=i(30),E=i(76);function k(t){var e=[];return t.forEach(function(t){t.forEach(function(t){!e.includes(t)&&t&&e.push(t)})}),e}function a(t,e,r){var a=[];return t.forEach(function(t){var i,n,o;a.push((i=e,n=r,o=[],1<(t=t).length&&t.forEach(function(t,e){t=i.getItem(t);0!==e&&!t.hidden&&i.getItem(t.parent).open&&o.push(t.width+n.margin.itemX)}),o.length||o.push(0),o.reduce(function(t,e){return t+e})))}),Math.max.apply(Math,a)}function s(o,t){var r=[];return function n(t){return t.forEach(function(t){if((t=o.getItem(t[1])).$connection)n(t.$connection);else{var e=t.parent&&t.parent.toString()||o.getItem(o.getId(0)).id,i=[];for(i.push(t.id.toString());e;)i.push(e.toString()),e=o.getItem(e).parent;i.reverse(),r.push(i)}}),r}(t),r}function l(t,e,r,a,s,i){var n=k(t),l=0,e=e.margin,d=e.itemX,c=e.itemY,o=t.map(function(t){var i=[],n=[],o=a;t.forEach(function(t){var e;s?((e=h({},r.getItem(t))).parent&&(o-=+d+ +e.width),i.push(o),n.push(l)):(e=h({},r.getItem(t)),i.push(o),n.push(l),o+=+d+ +e.width)});var e=t.map(function(t,e){t=h({},r.getItem(t));return t._x=i[e],t._y=n[e],t}),t=function(t,e){for(var i=0,n=0;n<t.length;n++){var o=null===(o=e.getItem(t[1]))||void 0===o?void 0:o.height;o&&i<o&&(i=o)}return i}(t,r);return l+=c+t,e}),u=n.map(function(e){var i=[];o.forEach(function(t){t=t.find(function(t){return t.id===e},!0);t&&i.push({x:t._x,y:t._y})});var t=i[0].x,n=i.reduce(function(t,e){return t+e.y},0)/i.length;return{id:e,x:t,y:n}});i.push(u[0]),n.forEach(function(t,e){t&&((t=r.getItem(t)).x=u[e].x,t.y=u[e].y,delete t._x,delete t._y)})}function S(t,e,i){k(t).forEach(function(t){t&&0!==i.getIndex(t)&&(i.getItem(t).y+=e)})}var o=function(t,e,i){return i.indexOf(t)===e};function d(i,t){var n=[],t=t.map(function(t){var e=!1;return t.map(function(t){if(!e)return!1===i.getItem(t).open&&(n.push(t),e=!0),t}).filter(function(t){return t})});return t.map(function(t){return JSON.stringify(t)}).filter(o).map(function(t){return JSON.parse(t)})}function M(t,e,i,n,o,r){if(r){r=d(t,s(t,i));return l(r,e,t,n=a(r,t,e),!0,o),{allLeftBranches:r,leftBranchWidth:n}}i=d(t,s(t,i));return l(i,e,t,n,!1,o),{allRightBranches:i}}e.placeMindmap=function(l,d){var c,t,e,n,u,h,o,f,i,r,a,s,p,g,_,v,m,y,b,x;1===(x=l.getRoots()).length&&(null!=(c=l.getItem(x[0]))&&c.$connection?(a=c,s=l,_=(p=d).typeConfig,p=a.$connection,v=[],m=[],y=(null===(a=null==_?void 0:_.side)||void 0===a?void 0:a.hasOwnProperty("left"))&&_.side.left.length,b=(null===(a=null==_?void 0:_.side)||void 0===a?void 0:a.hasOwnProperty("right"))&&_.side.right.length,!_||"left"!==(null==_?void 0:_.direction)&&"right"!==(null==_?void 0:_.direction)?_&&(y||b)?p.forEach(function(t,e){(y&&_.side.left.includes(t[1])||(!b||!_.side.right.includes(t[1]))&&e%2?v:m).push(t)}):(g=Math.floor(p.length/2),p.forEach(function(t,e){var i=s.getItem(t[1]);("verticalLeft"!==i.dir&&("verticalRight"===i.dir||e<g)?m:v).push(t)})):p.forEach(function(t){("left"===_.direction?v:m).push(t)}),n=[],o=0,[t=(i={leftTree:v,rightTree:m}).leftTree,e=i.rightTree].forEach(function(t,e){var i;t.length&&(0===e?(i=M(l,d,t,o,n,!0),h=i.allLeftBranches,o=i.leftBranchWidth):(i=M(l,d,t,o,n),u=i.allRightBranches))}),t.length&&e.length&&(r=u,x=h,a=l,p=c,(i=n)[1]&&i[0].y>i[1].y?(S(r,i[0].y-i[1].y,a),p.y=i[0].y):i[1]&&i[0].y<i[1].y&&(S(x,i[1].y-i[0].y,a),p.y=i[1].y)),f=[],[t,e].forEach(function(t,e){var i,n,o,r,a,s;t.length&&(e="verticalLeft"==(i=0===e?"verticalLeft":"verticalRight")?h:u,f.includes(i)||f.push(i),c.dir=f,t.forEach(function(t){l.getItem(t[1]).dir=i}),n=k(e),o=i,r=l,a=d,s=c,n.forEach(function(t){var i=r.getItem(t),t=i.$connection;i.id!==s.id&&(i.dir=o),t&&(i.$count=t.length,t.forEach(function(t){var e;n.includes(t[1])&&(e=r.getItem(t[1]),(t=r.getItem(t[0])).connectType="curved",C.directLinkPath(t,i,e,a))}))}))}),Array.isArray(c.dir)&&(w.isEmptyObj(c.openDir)&&(c.openDir={}),c.dir.includes("verticalLeft")&&!Object.keys(c.openDir).includes("left")&&(c.openDir.left=void 0===c.open||c.open),c.dir.includes("verticalRight")&&!Object.keys(c.openDir).includes("right")&&(c.openDir.right=void 0===c.open||c.open),!1===c.open&&(c.openDir={right:!1,left:!1})),c.$connection.forEach(function(t){for(var e=l.getItem(t[1]).dir.toLowerCase(),i=0,n=Object.entries(c.openDir);i<n.length;i++){var o=n[i],r=o[0],o=o[1];e.includes(r)&&!o&&l.update(t[1],{hidden:!0},!0)}})):(c.x=0,c.y=0),E.setHeaderColor(l))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var E=i(30),n=i(76);e.placeOrgonogram=function(t,e){var i=t.getRoots();1===i.length&&(i=t.getItem(i[0]),function t(e,i,n,o,r){var a=i.$connection,s=i.$assistants,l=null===(d=i.$partners)||void 0===d?void 0:d.common;("vertical"===i.dir&&null!=l&&l.length||0===i.$level&&(i.openDir||Array.isArray(i.dir))||"verticalLeft"===i.dir||"verticalRight"===i.dir)&&(delete i.dir,delete i.openDir);var d,c="vertical"===i.dir,u=c?n.margin.itemX/2:0,h=0,f=0,p=0;if(a&&!1!==i.open&&!i.assistant&&!i.partner){for(var g,_=0,v=0;v<a.length;v++)(E=e.getItem(a[v][1])).hidden||E.assistant||E.partner||(g=t(e,E,n,o+u,u),c?h=Math.max(h,g):h+=g,_++);_&&!c&&(h+=(_-1)*n.margin.itemX),i.$count=_}if(null!=l&&l.length){for(var m=0,y=0,b=0,x=0;x<l.length;x++){var w=(E=e.getItem(l[x])).height+n.margin.itemY,C=E.width+n.margin.itemX;E.$even=!!(x%2),E.hidden||(E.$even?y+=w:m+=w,b=Math.max(b,C),++i.$count)}p=Math.max(m,y),h=Math.max(h,y?2*b+i.width:2*Math.max(b-n.margin.itemX/2,i.width+n.margin.itemX/2)),i.$partners.leftHeight=m,i.$partners.rightHeight=y}if(null!=s&&s.length){for(x=y=m=b=0;x<s.length;x++){var E,w=(E=e.getItem(s[x])).height+n.margin.itemY,C=E.width+n.margin.itemX/2;E.$even=!!(x%2),E.hidden||(E.$even?y+=w:m+=w,b=Math.max(b,C),++i.$count)}f=c?(h=Math.max(h,b),m+y):(h=Math.max(h,2*b),Math.max(y,m))}return h=Math.max(i.width,h),c?i.x=o:(d=n.gridStep||1,C=(h-i.width)/2+o,i.x=Math.ceil(C/d)*d),i.y=0,i.$width=h,i.$baseHeight=p||i.height+n.margin.itemY,i.$height=f+i.$baseHeight,h+r}(t,i,e,0,0),function t(e,i,n,o,r,a){var s=i.$connection,l=i.$assistants,d=null===(y=i.$partners)||void 0===y?void 0:y.common,c="vertical"===i.dir,u=0;if(i.x+=n,i.y+=o,r.gridStep&&(i.y=Math.ceil(i.y/r.gridStep)*r.gridStep),null!=l&&l.length)for(var h=r.margin.itemX/2,f=i.x+i.width/2,p=i.y+i.$baseHeight,g=i.y+i.$baseHeight,_=0;_<l.length;_++){var v=(w=e.getItem(l[_])).height+r.margin.itemY;w.hidden||(c?(w.x=i.x+h,w.y=g,g+=v):w.$even?(w.y=g,w.x=f+h,g+=v):(w.y=p,w.x=f-(h+w.width),p+=v))}if(null!=d&&d.length){var m=i.y+(i.$baseHeight/2-(i.height+r.margin.itemY)/2),y=m-i.y,b=m-y+(i.$baseHeight-i.$partners.leftHeight)/2,g=m-y+(i.$baseHeight-i.$partners.rightHeight)/2;if(1<d.length)for(_=0;_<d.length;_++)v=(w=e.getItem(d[_])).height+r.margin.itemY,w.hidden||(w.$even?(w.x=i.x+i.width+r.margin.itemX,w.y=g,g+=v):(w.x=i.x-w.width-r.margin.itemX,w.y=b,b+=v));else i.x=i.x+i.width/2+r.margin.itemX/2,(w=e.getItem(d[0])).x=i.x-w.width-r.margin.itemX,w.y=b;i.y=m}if(o+=i.$height,!1!==i.open&&s)for(var x,w=void 0,C=0;C<s.length;C++)(w=e.getItem(s[C][1])).hidden||(w.assistant||w.partner||(x=t(e,w,n,o,r,a+1),c?(o+=x,u+=x):(u=Math.max(u,x),n+=w.$width+r.margin.itemX)),E.directLinkPath(e.getItem(s[C][0]),i,w,r));return i.$height+u}(t,i,0,0,e,0),n.setHeaderColor(t))}},function(t,e,i){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var h,n=i(0),o=i(2),r=i(16);(i=h=e.EditorEvents||(e.EditorEvents={})).beforeEditorOpen="beforeEditorOpen",i.afterEditorOpen="afterEditorOpen",i.beforeEditorClose="beforeEditorClose",i.afterEditorClose="afterEditorClose",i.beforeEditorEditing="beforeEditorEditing",i.afterEditorEditing="afterEditorEditing";a.prototype.openEditor=function(t,e,i){var n,o,r=this;void 0===e&&(e="text");var a=this.data.getItem(t);if(!a||this._editable||!this.events.fire(h.beforeEditorOpen,[t,e,i]))return!1;this._addHotkeys(),this._initOuterClick(),this.data.update(t,{$editable:!0},!0),this._editableItem=a,this._editable=!0,this._key=e,this._subId=i;var s,l,d,c=this._editableItem.$item.getBaseType();return"group"===c||"swimlane"===c?i?(d=(l=this._editableItem).subHeaderRows,s=l.subHeaderCols,l=[],null!=d&&d.enable&&null!==(n=null==d?void 0:d.headers)&&void 0!==n&&n.length&&(l=d.headers),d=[],null!=s&&s.enable&&null!==(o=null==s?void 0:s.headers)&&void 0!==o&&o.length&&(d=s.headers),d=u(l,d).find(function(t){return(null==t?void 0:t.id)===i}),this._currentValue=null==d?void 0:d[e]):this._currentValue=this._editableItem.header[e]:"line"===c&&a.$subSelected?a.title.text.map(function(t){return t.id===a.$subSelected&&(t.$editable=!0,r._currentValue=t.text),t}):this._currentValue=this._editableItem[e],this.events.fire(h.afterEditorOpen,[t,this._key,this._subId]),!0},a.prototype.closeEditor=function(){var e=this,t=this._editableItem.id;return!!this.events.fire(h.beforeEditorClose,[t,this._key,this._subId])&&(this._removeHotkeys(),this._removeClickListener(),this.data.update(t,{$editable:!1},!0),"line"===this._editableItem.$item.getBaseType()&&this._subId&&this._editableItem.title.text.map(function(t){return t.id===e._subId&&(t.$editable=!1),t}),this._editable=!1,this.events.fire(h.afterEditorClose,[t,this._key,this._subId]),this._editableItem=null,this._subId=null,this._currentValue=" ",!0)},a.prototype.isEditable=function(){return this._editable},a.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.data=this.events=this._editable=this._editableItem=this._currentValue=null},a.prototype.render=function(){var t=this._editableItem.id;return n.el("div.dhx_diagram_inline_editor",{dhx_editor_id:t+"_editor",contentEditable:!0,oninput:this._handlers.edit,_hooks:{didInsert:this._handlers.didInsert}},this._currentValue||" ")},a.prototype.edit=function(t){var e,i,n,o,r,a,s,l=this;this._editableItem&&this.events.fire(h.beforeEditorEditing,[t,this._currentValue,this._editableItem.id,this._key,this._subId])&&(e=(r=this._editableItem).id,i=r.header,a=r.$item,n=r.subHeaderCols,o=r.subHeaderRows,this._currentValue=t,"group"===(r=a.getBaseType())||"swimlane"===r?this._subId?(a=null===(t=null==o?void 0:o.headers)||void 0===t?void 0:t.findIndex(function(t){return(null==t?void 0:t.id)===l._subId}),-1<(t=null===(t=null==n?void 0:n.headers)||void 0===t?void 0:t.findIndex(function(t){return(null==t?void 0:t.id)===l._subId}))&&((s=u(n.headers))[t][this._key]=this._currentValue,this.data.update(e,{subHeaderCols:d(d({},n),{headers:s})})),-1<a&&((s=u(o.headers))[a][this._key]=this._currentValue,this.data.update(e,{subHeaderRows:d(d({},o),{headers:s})}))):this.data.update(e,{header:d(d({},i),((i={})[this._key]=this._currentValue,i))}):"line"===r&&this._subId?(this._editableItem.title.text.map(function(t){return t.id===l._subId&&(t[l._key]=l._currentValue),t}),this.data.update(e,this._editableItem)):this.data.update(e,((r={})[this._key]=this._currentValue,r)),this.events.fire(h.afterEditorEditing,[this._currentValue,e,this._key,this._subId]))},a.prototype._addHotkeys=function(){var t=this;this._keyManager.addHotKey("escape",function(){t.closeEditor()})},a.prototype._removeHotkeys=function(){this._keyManager.removeHotKey()},a.prototype._initOuterClick=function(){var t=this;setTimeout(function(){document.addEventListener("pointerdown",t._documentClick)},this._dblDuration)},a.prototype._removeClickListener=function(){document.removeEventListener("pointerdown",this._documentClick)},i=a;function a(t){var e=this;this._currentValue=" ",this.data=t.data,this.events=t.events,this._keyManager=new r.KeyManager,this._dblDuration=300,this._documentClick=function(t){o.locate(t,"dhx_editor_id")||e.closeEditor()},this._handlers={edit:function(t){e.edit(t.target.innerText)},didInsert:function(t){var e,i=null==t?void 0:t.el;null!=i&&i.childNodes[0]&&(e=document.createRange(),t=window.getSelection(),e.setStart(i.childNodes[0],i.innerText.length),e.collapse(!0),t.removeAllRanges(),t.addRange(e),i.focus())}}}e.Editor=i},function(t,e,i){"use strict";var s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var C,E=i(1),n=i(0);(i=C=e.CellManagerEvents||(e.CellManagerEvents={})).beforeCellsAdd="beforeCellsAdd",i.afterCellsAdd="afterCellsAdd",i.beforeCellsMove="beforeCellsMove",i.afterCellsMove="afterCellsMove",i.beforeCellsRemove="beforeCellsRemove",i.afterCellsRemove="afterCellsRemove",i.beforeCellsValidation="beforeCellsValidation",i.afterCellsValidation="afterCellsValidation";o.prototype.setSwimlane=function(t){var e=this.data.getItem(t);return"swimlane"===(null===(t=null==e?void 0:e.$item)||void 0===t?void 0:t.getBaseType())&&(this.swimlane=e,!0)},o.prototype.resetSwimlane=function(){var t=this;n.awaitRedraw().then(function(){t.swimlane=null})},o.prototype.add=function(y,b,x){var w=this;n.awaitRedraw().then(function(){var t=w.getDirectionType(b),e=w.getUniqueLayout(),i="col"===t?(null===(i=e[0])||void 0===i?void 0:i.length)-1:(null==e?void 0:e.length)-1;if(0<=y&&y<=i&&w.events.fire(C.beforeCellsAdd,[w.swimlane.id])&&(x||w.validation(y,b,"add"))){var n,o=w.swimlane.layout,r=y,e="col"===t?o[0][r]:o[r][0],i=w.data.getItem(e),e="col"===t?null==i?void 0:i.$colCount:null==i?void 0:i.$rowCount,i=w.swimlane["col"===t?"subHeaderCols":"subHeaderRows"],a=(null==i?void 0:i.enable)&&(null===(a=null==i?void 0:i.headers)||void 0===a?void 0:a.length);a&&(n=w.swimlane["col"===t?"subHeaderCols":"subHeaderRows"].headers,m=w.getSubHeaderIndex(w.getCellId(y,t),t));var s=1/0,l=r;"right"!==b&&"down"!==b||(l+=e,a&&m++),l<0&&(l=0);for(var d={},c={},u={},h=0;h<o.length;h++)for(var f,p,g=o[h],_=0;_<g.length;_++)"col"===t&&((f=w.data.getItem(g[_]))&&s>f.width&&(s=f.width),_===r&&(c[f.id]?o[h].splice(l,0,c[f.id]):(d[p=E.uid()]={id:p,type:"$sgroup"},o[h].splice(l,0,p),c[f.id]=p))),"row"===t&&((f=w.data.getItem(g[_]))&&s>f.height&&(s=f.height),h===r&&(p=E.uid(),0===_&&o.splice(l,0,[]),c[f.id]?o[l][_]=c[f.id]:(d[p]={id:p,type:"$sgroup"},o[l][_]=p,c[f.id]=p)));for(h=0;h<o.length;h++)for(var v,g=o[h],_=0;_<g.length;_++)"col"===t&&(v=g[_],l<_&&!u[v]&&(w.data.eachChild(v,function(t){t.x+=s}),u[v]=!0)),"row"===t&&(v=g[_],l<h&&!u[v]&&(w.data.eachChild(v,function(t){t.y+=s}),u[v]=!0));a&&n.splice(m,0,{text:"Untitled",id:E.uid()});var m={layout:o};"col"===t?m.width=w.swimlane.width+s:m.height=w.swimlane.height+s,w.data.add(Object.values(d)),w.data.update(w.swimlane.id,m),w.events.fire(C.afterCellsAdd,[w.swimlane.id])}})},o.prototype.move=function(r,x,a){var w=this;n.awaitRedraw().then(function(){var t,e,l=w.getDirectionType(x),i=w.getUniqueLayout(),i="col"===l?(null===(e=i[0])||void 0===e?void 0:e.length)-1:(null==i?void 0:i.length)-1;if(0<=r&&r<=i&&w.events.fire(C.beforeCellsMove,[w.swimlane.id])&&(a||w.validation(r,x,"move"))){var d,c,u=w.swimlane.layout,i=w.swimlane["col"===l?"subHeaderCols":"subHeaderRows"],h=(null==i?void 0:i.enable)&&(null===(n=null==i?void 0:i.headers)||void 0===n?void 0:n.length);h&&(d=w.swimlane["col"===l?"subHeaderCols":"subHeaderRows"].headers,c=w.getSubHeaderIndex(w.getCellId(r,l),l));for(var f=r,i="col"===l?u[0][f]:u[f][0],n=w.data.getItem(i),p="right"===x||"down"===x?c+1:c-1,i=w.swimlane["col"===l?"subHeaderCols":"subHeaderRows"].headers[p].id,i=w.data.getItem(w.getSubHeaderCellId(i)),g="col"===l?null==n?void 0:n.$colCount:null==n?void 0:n.$rowCount,i="col"===l?null==i?void 0:i.$colCount:null==i?void 0:i.$rowCount,_="left"===x||"up"===x?f-i:f+g,v={},m=[],y=0;y<u.length;y++)for(var b=u[y],o=0;o<b.length;o++)!function(t){var e,i,n,o,r,a,s;"col"===l&&t===f&&(o=u[y][f],r=u[y][_],i=w.data.getItem(o),n=w.data.getItem(r),v[o]||(w.data.eachChild(o,function(t){"left"===x?t.x-=n.width:t.x+=n.width}),v[o]=!0),v[r]||(w.data.eachChild(r,function(t){"left"===x?t.x+=i.width:t.x-=i.width}),v[r]=!0),0===y&&h&&(e=[d[p],d[c]],d[c]=e[0],d[p]=e[1]),m[y]=u[y].splice(t,g)),"row"===l&&y===f&&(o=u[f][t],r=u[_][t],a=w.data.getItem(o),s=w.data.getItem(r),v[o]||(w.data.eachChild(o,function(t){"up"===x?t.y-=s.height:t.y+=s.height}),v[o]=!0),v[r]||(w.data.eachChild(r,function(t){"up"===x?t.y+=a.height:t.y-=a.height}),v[r]=!0),t===b.length-1&&(h&&(t=[d[p],d[c]],d[c]=t[0],d[p]=t[1]),m.push(u.splice(y,g))))}(o);"right"!==x&&"down"!==x||(_=f+i);for(y=0;y<u.length;y++)for(b=u[y],o=0;o<b.length;o++)("left"===x&&o===_||"right"===x&&o===f)&&(t=u[y]).splice.apply(t,s([_,0],m[y])),("up"===x&&y===_||"down"===x&&y===f)&&0===o&&u.splice.apply(u,s([_,0],m[0]));w.data.update(w.swimlane.id,w.swimlane),w.events.fire(C.afterCellsMove,[w.swimlane.id])}})},o.prototype.remove=function(v,m,y){var b=this;n.awaitRedraw().then(function(){var t,e="col"===m?"left":"up",i=b.getUniqueLayout(),i="col"===m?(null===(t=i[0])||void 0===t?void 0:t.length)-1:(null==i?void 0:i.length)-1;if(0<=v&&v<=i&&b.events.fire(C.beforeCellsRemove,[b.swimlane.id])&&(y||b.validation(v,e,"remove"))){var n,o,r=b.swimlane.layout,e=b.swimlane["col"===m?"subHeaderCols":"subHeaderRows"],a=(null==e?void 0:e.enable)&&(null===(l=null==e?void 0:e.headers)||void 0===l?void 0:l.length);a&&(n=b.swimlane["col"===m?"subHeaderCols":"subHeaderRows"].headers,o=b.getSubHeaderIndex(b.getCellId(v,m),m));for(var s=v,l="col"===m?r[0][s]:r[s][0],d=b.data.getItem(l),c={},u={},h=[],f=0;f<r.length;f++)for(var p=r[f],g=0;g<p.length;g++){var _=r[f][g];"col"===m&&g===s||"row"===m&&f===s?(c[_]=!0,a&&("col"===m&&0===f||"row"===m&&0===g)&&n.splice(o,1)):c[_]||(h[f]?h[f].push(_):h[f]=[_]),c[_]||u[_]||("col"===m&&s<g?(b.data.eachChild(_,function(t){t.x-=d.width}),u[_]=!0):"row"===m&&s<f&&(b.data.eachChild(_,function(t){t.y-=d.height}),u[_]=!0))}l={layout:h.filter(function(t){return t})};"col"===m?l.width=b.swimlane.width-d.width:l.height=b.swimlane.height-d.height,b.data.remove(Object.keys(c)),b.data.update(b.swimlane.id,l),b.events.fire(C.afterCellsRemove,[b.swimlane.id])}})},o.prototype.validation=function(t,e,i){var n,o=this.getDirectionType(e),r=this.getUniqueLayout(),r="col"===o?(null===(n=r[0])||void 0===n?void 0:n.length)-1:(null==r?void 0:r.length)-1;if(0<=t&&t<=r&&this.events.fire(C.beforeCellsValidation,[this.swimlane.id,i])){if(0==r&&"add"!==i)return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,i]),!1;var a,s=this.swimlane.layout,l=t,d=!0;if(0<=l)for(var c=0;c<s.length;c++)for(var u=s[c],h=0;h<u.length;h++){var f="col"===o?u[l]:s[l][h];if("col"===o&&h===l){var p=this.data.getItem(f).$colCount;if(0===c)a=p;else if(a!==p){if("remove"===i||"move"===i)return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,i]),!1;d=!1}}if("row"===o&&c===l){var g=this.data.getItem(f).$rowCount;if(0===h)a=g;else if(a!==g){if("remove"===i||"move"===i)return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,i]),!1;d=!1}}}if(e&&!d||"move"===i){t="col"===o?s[0][l]:s[l][0],t=this.data.getItem(t),t="col"===o?null==t?void 0:t.$colCount:null==t?void 0:t.$rowCount;if("right"===e||"down"===e?l+=t:--l,0<=l&&!("row"===o&&l>s.length-1))for(c=0;c<s.length;c++)for(u=s[c],h=0;h<u.length;h++){var _="col"===o?u[l]:s[l][h];if("col"===o&&h===l){p=this.data.getItem(_).$colCount;if(0===c)a=p;else if(a!==p)return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,i]),!1}if("row"===o&&c===l){g=this.data.getItem(_).$rowCount;if(0===h)a=g;else if(a!==g)return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,i]),!1}}}return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!0,i]),!0}},o.prototype.getSubHeaderCellIndex=function(t){if(this.swimlane&&arguments.length){var e=this.getSubHeaderType(t),t=this.getSubHeaderCellId(t);return this.getCellIndex(t,e)}},o.prototype.getSubHeaderCellId=function(e){if(this.swimlane&&arguments.length){var t=this.getSubHeaderType(e),i=null===(i=this.swimlane["col"===t?"subHeaderCols":"subHeaderRows"])||void 0===i?void 0:i.headers;if(null!=i&&i.length){for(var i=i.findIndex(function(t){return t.id===e}),n=[],o=0;o<this.swimlane.layout.length;o++)for(var r=this.swimlane.layout[o],a=0;a<r.length;a++){var s=r[a];("col"===t&&0===o||"row"===t&&0===a)&&!n.includes(s)&&n.push(s)}return n[i]}}},o.prototype.getSubHeaderType=function(e){if(this.swimlane&&arguments.length){var t,i=this.swimlane,n=i.subHeaderCols,o=i.subHeaderRows,i=(null==o?void 0:o.enable)&&(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r.length),r=(null==n?void 0:n.enable)&&(null==n?void 0:n.headers.length);return i&&-1!==o.headers.findIndex(function(t){t=t.id;return e===t})&&(t="row"),r&&-1!==n.headers.findIndex(function(t){t=t.id;return e===t})&&(t="col"),t}},o.prototype.getCellIndex=function(t,e){var i;if(this.swimlane&&null!==(i=null===(i=this.swimlane)||void 0===i?void 0:i.groupChildren)&&void 0!==i&&i.includes(t)&&!(arguments.length<2))for(var n=this.swimlane.layout,o=0;o<n.length;o++)for(var r=n[o],a=0;a<r.length;a++)if(r[a]==t)return"col"===e?a:o},o.prototype.getCellId=function(t,e){if(this.swimlane&&!(arguments.length<2))return this.swimlane.layout["row"===e?t:0]["col"===e?t:0]},o.prototype.getSubHeaderIndex=function(t,e){var i;if(this.swimlane&&null!==(i=null===(i=this.swimlane)||void 0===i?void 0:i.groupChildren)&&void 0!==i&&i.includes(t)&&!(arguments.length<2))for(var n=this.swimlane.layout,o={},r=-1,a=0;a<n.length;a++)for(var s=n[a],l=0;l<s.length;l++){var d=s[l];if(!o[d]&&(("col"===e&&0===a||"row"===e&&0===l)&&r++,o[d]=!0,t==d))return r}},o.prototype.getDirectionType=function(t){return"left"===t||"right"===t||"col"===t?"col":"row"},o.prototype.getUniqueLayout=function(){if(this.swimlane){for(var t=[],e=0;e<this.swimlane.layout.length;e++){var i=this.swimlane.layout[e];t[e]||(t[e]=[]);for(var n=0;n<i.length;n++){var o=i[n];t[e].includes(o)||t[e].push(o)}}return t}},i=o;function o(t,e){this.events=e,this.data=t,this.swimlane=null}e.CellManager=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=this&&this.__assign||function(){return(h=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var r,f=i(0),s=i(1),l=i(38),d=i(8),c=i(7),o=(r=l.BaseItem,o(u,r),u.prototype.getBaseType=function(){return"line"},u.prototype.getMetaInfo=function(){var t=d.getMeta([{type:"grid",label:c.default.gridStep}]);return t.push({id:"strokeProps",type:"stroke",label:"Stroke",connector:!0}),t},u.prototype.setDefaults=function(t,e){var i,n;return t.connectType="curved"!==t.connectType&&t.connectType||"elbow",t.stroke=t.stroke||(null==e?void 0:e.stroke)||"#CCC",t.strokeWidth=t.strokeWidth||(null==e?void 0:e.strokeWidth)||2,t.cornersRadius=t.cornersRadius||(null==e?void 0:e.cornersRadius)||0,t.title=h(h({fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"normal",fontColor:"#4C4C4C",fill:"#FFF",draggable:!0,editable:!0,hidden:!1},null==e?void 0:e.title),t.title),t.title.text=Array.isArray((null===(i=t.title)||void 0===i?void 0:i.text)||(null===(n=null==e?void 0:e.title)||void 0===n?void 0:n.text))?(null===(n=t.title)||void 0===n?void 0:n.text)||(null===(e=null==e?void 0:e.title)||void 0===e?void 0:e.text):[],t},u.prototype.getBox=function(){var t=this.config.points.reduce(function(t,e){return t.x=Math.max(t.x,e.x),t.y=Math.max(t.y,e.y),t},{x:0,y:0}),e=t.x-this.config.x,i=t.y-this.config.y,n=this.config.x,t=n+e,e=this.config.y;return{left:n,right:t,top:e,bottom:e+i}},u.prototype.render=function(){var t=this.config,e=t.$selected,i=t.id,n=t.stroke,o=t.strokeWidth,r=this._getPoints(),t=this._getArrowLine()||[];return f.sv("g",{dhx_id:i,_key:i,class:"dhx_diagram_item dhx_diagram_line "+(e?"dhx_diagram_line--selected":"")},a([f.sv("path",{class:this.getCss(),d:r,fill:"none","stroke-dasharray":this._getType(),"stroke-linejoin":"round","stroke-width":o,stroke:n})],t))},u.prototype._getType=function(){if(this.config.strokeType&&(this.config.type=this.config.strokeType),this.config.type)switch(this.config.type){case"line":return"";case"dash":return"5, 5";default:return""}},u.prototype._getPoints=function(){return this._getStringPoints()},u.prototype._getStringPoints=function(){return this.config.width=Math.abs(this.config.points[this.config.points.length-1].x-this.config.points[0].x),this.config.height=Math.abs(this.config.points[this.config.points.length-1].y-this.config.points[0].y),this.config.x=this.config.points[0].x,this.config.y=this.config.points[0].y,"straight"!==this.config.connectType&&"curved"!==this.config.connectType||(this.config.points=[this.config.points[0],this.config.points[this.config.points.length-1]],"curved"!==this.config.connectType)?"M "+this.config.x+","+this.config.y+" "+this.config.points.map(function(t){return t.x1&&t.y1?"Q"+t.x1+","+t.y1+" "+t.x+","+t.y:"L "+t.x+","+t.y}).join(" "):this._getCurvedPoints(this.config)},u.prototype._getCurvedPoints=function(t){var e=t.points[0].x,i=t.points[1].x,n=t.points[0].y,o=t.points[1].y,t=.5*(i-e);return"M"+e+","+n+" C"+(e+t)+","+n+" "+(i-t)+","+o+" "+i+","+o},u.prototype._getArrowLine=function(){var t=this.config.points,e=this.config.backArrow,i=this.config.forwardArrow;if(e||i)return[e?this._getArrow(t[1],t[0]):null,i?this._getArrow(t[t.length-2],t[t.length-1]):null]},u.prototype._getArrow=function(t,e){var i=t.x-e.x,n=t.y-e.y,o=0==i&&0==n,r=1/Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),a=i*r,s=n*r,l=e.x,d=e.y,c=e.x-5,u=e.y-5,i=e.x+5,n=e.y-5,r=Math.atan((e.x-t.x)/(e.y-t.y))*(-180/3.14);t.y>e.y&&(r+=180);e={};return o||(e.transform="translate("+a+" "+s+") rotate("+r+","+l+","+d+")"),f.sv("path",h({d:"M"+c+","+u+" L"+l+","+d+" L"+i+","+n+" Z",class:"dhx_diagram_arrow "+this.getCss(),"shape-rendering":"auto",stroke:this.config.stroke,fill:this.config.stroke},e))},u);function u(t,e){e=r.call(this,t,e)||this;return e.id=e.config.id=t.id||s.uid(),t.width&&(t.width=parseFloat(t.width)),t.height&&(t.height=parseFloat(t.height)),t.x&&(t.x=parseFloat(t.x)),t.y&&(t.y=parseFloat(t.y)),t.strokeWidth&&(t.strokeWidth=parseFloat(t.strokeWidth)),e}e.Line=o},,,,,,,,,,,,,function(t,e,i){i(88),i(89),i(90),i(91),i(92),i(93),i(100),i(101),t.exports=i(190)},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),e(191),e(102);var i=e(0);o.awaitRedraw=i.awaitRedraw;i=e(104);o.Diagram=i.Diagram;i=e(7),e=window;o.i18n=e.dhx&&e.dhx.i18n?e.dhx.i18:{},o.i18n.setLocale=function(t,e){var i,n=o.i18n[t];for(i in e)n[i]=e[i]},o.i18n.diagram=o.i18n.diagram||i.default},function(t,e,i){}],o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/codebase/",o(o.s=189);function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var i,n}),window.dhx_legacy){if(window.dhx)for(var key in dhx)dhx_legacy[key]=dhx[key];window.dhx=dhx_legacy,delete window.dhx_legacy}